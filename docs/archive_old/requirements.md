# ENTP 英語学習アプリ - 要件定義

## 0. 最重要要件：継続性の確保

本アプリの成否は「ユーザーが 3 ヶ月継続できるか」にかかっている。
以下の要件は他のすべての機能要件に優先する。

### 0.1 7 日継続率 70%以上

- 初日の体験が継続を決定する
- 1 週間続けば習慣化の可能性が高まる
- 毎日の達成感設計が必須

### 0.2 30 日継続率 50%以上

- 1 ヶ月で具体的な成長を実感させる
- モチベーション低下を早期検知
- 緊急介入システムの実装

### 0.3 90 日完走率 40%以上

- 3 ヶ月で明確な目標達成
- 卒業システムによる達成感
- 次のステップへの自然な誘導

## 1. 機能要件

### 1.1 基本機能

#### 1.1.1 基本学習モード

- **語彙学習**

  - カード形式での単語学習
  - 単語、意味、品詞、例文、例文訳の表示
  - 初級・中級・上級レベルの分類
  - ランダム表示機能
  - 拡張語彙学習（ガチャカード連携）

- **文法クイズ**

  - 9 つのカテゴリー（基本文型、時制、助動詞、受動態、関係詞、仮定法、比較、分詞・動名詞、不定詞）
  - 3 段階の難易度（簡単、普通、難しい）
  - 選択式問題（簡単）と記述式問題（普通・難しい）
  - 問題のランダム出題（各回 10 問）
  - 即座の正誤判定と解説表示
  - 拡張文法クイズ（高度な問題セット）

- **英作文機能**

  - 創造的なライティング練習
  - プロンプトベースの英作文
  - 自己評価機能
  - サンプル回答との比較
  - 英作文履歴管理

- **総合テスト**
  - 複数のスキルを組み合わせた実践的な問題
  - 総合的な英語力を測定

#### 1.1.2 高度なゲーミフィケーション

- **ガチャシステム**

  - TOEIC 特化カード収集
  - レアリティシステム（common, rare, epic, legendary）
  - カード詳細情報（発音、使用例、TOEIC 頻出度）
  - コレクション管理

- **アドレナリンシステム**

  - コンボシステム（連続正解による倍率上昇）
  - クリティカルヒット（高確率で特別報酬）
  - フィーバータイム（一時的な高倍率モード）
  - プレッシャーゲージ（緊迫感のある学習）

- **宝箱システム**

  - 学習達成による宝箱獲得
  - レアリティ別報酬（XP、ハート、スター）
  - 宝箱開封アニメーション

- **ハートシステム**

  - 学習のための体力管理
  - 時間経過による自動回復
  - ハート消費による学習制限

- **スターシステム**
  - 事前学習コンテンツの消費エネルギー
  - 時間経過による自動回復
  - 高品質コンテンツへのアクセス制御

#### 1.1.3 インテリジェント学習

- **個人化学習システム**

  - ユーザーの学習パターン分析
  - 最適コンテンツの推奨
  - 学習進捗に基づくカスタマイズ

- **統合学習システム**

  - 複数機能の連携
  - 相乗効果による学習効率向上
  - 総合的な学習体験

- **適応的難易度調整**

  - リアルタイムでの難易度最適化
  - 目標正答率 75%の維持
  - 個人の能力に合わせた調整

- **弱点分析システム**
  - 包括的な学習分析
  - 具体的な改善提案
  - 予想改善時間の提示

#### 1.1.4 進捗管理

- **実績システム**

  - 学習継続日数（ストリーク）
  - 語彙学習数
  - 文法クイズ完了数
  - 英作文完了数
  - 総合テストスコア
  - XP（経験値）システム
  - アチーブメント（ブロンズ、シルバー、ゴールド、プラチナ、ダイヤモンド）
  - シナジーアチーブメント（機能連携による特別実績）

- **結果表示**
  - 正答率の表示
  - 間違えた問題の復習機能
  - カテゴリー別の成績分析
  - 難易度別の成績分析
  - 学習インサイト（個人の学習パターン分析）
  - 改善提案（具体的な学習戦略）

#### 1.1.5 追加機能

- **XP ショップ**

  - 学習成果をゲーム内アイテムに交換
  - 一時的な能力向上アイテム
  - 学習効率向上アイテム

- **日替わりクエスト**

  - 毎日異なる学習チャレンジ
  - ストリーク管理
  - 特別報酬システム

- **事前学習コンテンツ**
  - 効果的学習のための基礎知識
  - スター消費によるアクセス制御
  - 理解度評価システム

### 1.2 ユーザーエクスペリエンス要件

#### 1.2.1 ENTP 向け設計

- **多様性の提供**

  - 複数の学習モードの選択肢
  - カテゴリーと難易度の柔軟な選択
  - ランダム出題による予測不可能性

- **自由度の確保**

  - 学習順序の自由選択
  - 中断・再開機能
  - カスタマイズ可能な学習設定

- **ゲーミフィケーション**
  - 実績システムによる達成感
  - XP システムによる進捗の可視化
  - アチーブメントによる継続動機

#### 1.2.2 操作性

- **直感的なナビゲーション**

  - 明確な画面遷移
  - 一貫した UI/UX
  - レスポンシブデザイン

- **高速レスポンス**
  - 問題の即座表示
  - スムーズな画面遷移
  - 最小限のローディング時間

### 1.3 データ要件

#### 1.3.1 問題データ

- **文法問題**

  - 各カテゴリー最低 20 問以上
  - 3 難易度 × 9 カテゴリー = 27 セット
  - 日本語問題文、正解、解説、選択肢（簡単のみ）

- **語彙データ**

  - 最低 100 語以上
  - 単語、意味、品詞、例文、例文訳、レベル

- **実績データ**
  - ユーザー統計情報
  - アチーブメント定義
  - 進捗追跡データ

## 2. 非機能要件

### 2.1 パフォーマンス要件

- **レスポンス時間**

  - 画面遷移: 1 秒以内
  - 問題表示: 0.5 秒以内
  - 正誤判定: 0.2 秒以内

- **スループット**
  - 同時接続ユーザー: 100 人以上
  - 問題出題: 1 秒以内

### 2.2 可用性要件

- **稼働率**: 99%以上
- **ダウンタイム**: 月間 1 時間以内
- **復旧時間**: 障害発生から 30 分以内

### 2.3 セキュリティ要件

- **データ保護**

  - ユーザーデータの暗号化
  - セッション管理
  - XSS 対策

- **アクセス制御**
  - 適切な認証・認可
  - 不正アクセス防止

### 2.4 互換性要件

- **ブラウザ対応**

  - Chrome (最新版)
  - Firefox (最新版)
  - Safari (最新版)
  - Edge (最新版)

- **デバイス対応**
  - デスクトップ (1024px 以上)
  - タブレット (768px 以上)
  - スマートフォン (375px 以上)

## 3. 制約事項

### 3.1 技術制約

- **フロントエンド**: React + TypeScript
- **ビルドツール**: Vite
- **スタイリング**: Tailwind CSS
- **UI コンポーネント**: Radix UI

### 3.2 リソース制約

- **開発期間**: 3 ヶ月以内
- **開発チーム**: 1-2 名
- **予算**: 限定的

### 3.3 運用制約

- **ホスティング**: 静的サイトホスティング
- **データベース**: 初期はローカルストレージ
- **メンテナンス**: 月 1 回程度

## 4. 品質要件

### 4.1 コード品質

- **型安全性**: TypeScript の厳密な型チェック
- **コード規約**: ESLint + Prettier
- **テスト**: 主要機能のユニットテスト

### 4.2 ユーザビリティ

- **アクセシビリティ**: WCAG 2.1 AA 準拠
- **国際化**: 日本語対応
- **エラーハンドリング**: 分かりやすいエラーメッセージ

### 4.3 保守性

- **モジュール化**: コンポーネントの適切な分割
- **ドキュメント**: コードコメントと API 仕様書
- **バージョン管理**: Git による適切なバージョン管理

## 5. 成功基準

### 5.1 機能面

- 全学習モードが正常に動作
- 問題の正誤判定が正確
- 実績システムが適切に機能

### 5.2 ユーザビリティ面

- 直感的な操作が可能
- 学習継続率の向上
- ユーザー満足度の向上

### 5.3 技術面

- パフォーマンス要件の達成
- セキュリティ要件の満足
- 保守性の確保
