const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CategorySelection-7Y04LXd7.js","assets/ui-iDNYoGPn.js","assets/vendor-D3F3s8fL.js","assets/game-DNOgwd-m.js","assets/learning-13Go7wUu.js","assets/progress-BvHZoEqe.js","assets/DifficultySelection-D_ZakvJY.js","assets/Question-DZg4-Mhr.js","assets/Results-CaZWkaav.js","assets/VocabularyCategorySelection-CQr_ubeK.js","assets/VocabularyDifficultySelection-nMzSnLwP.js","assets/TimeAttackMode-CDvaQWsl.js","assets/GachaSystem-BX_pS_K5.js","assets/toeicGachaCards-DfJpPr8Q.js","assets/gacha-card-BjHXGPaw.js","assets/GachaResultScreen-Bpu4_zm-.js","assets/AppSettings-DKFmD0_b.js","assets/notificationManager-DRqVOwDk.js","assets/PreStudyMenu-FmeV95ET.js","assets/CardDetailContent-BvZecDZH.js"])))=>i.map(i=>d[i]);
import{r,j as e,d as Z,e as pt,f as hs,u as pe,g as us,A as ps,h as Q,i as Ne,k as gs,l as gt,m as st,n as fs,o as vs,p as ys,q as bs,s as ws,F as js,D as Ns,t as _s,v as Ss,w as at,x as ks,y as Cs}from"./ui-iDNYoGPn.js";import{a as Is}from"./vendor-D3F3s8fL.js";import{D as be,_ as W}from"./progress-BvHZoEqe.js";import{g as D,s as ee,R as Ts,A as ve,b as Le,H as Qe,D as As,c as Ps,d as Rs,C as Es,e as Ls,u as Ds,f as Ms,h as Os,i as rt,B as ft,S as Fe,Z as Vs,j as Hs,k as vt,l as ot,m as zs,a as Ve,n as Fs,o as yt,p as He,q as me,r as bt,t as Bs,v as qs,w as we,x as $s,y as Ke,z as Pe,E as Gs,I as Us,G as Ue,L as it,F as Ws,J as Xs}from"./learning-13Go7wUu.js";import{C,f as K,B as M,d as I,e as te,P as je,h as oe,g as Be,i as wt,j as Qs,u as Ks,k as Ys,l as Zs,R as Js,m as F,N as en}from"./game-DNOgwd-m.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}})();var Ee={},lt;function tn(){if(lt)return Ee;lt=1;var t=Is();return Ee.createRoot=t.createRoot,Ee.hydrateRoot=t.hydrateRoot,Ee}var sn=tn();const nn=()=>{const[t,n]=r.useState(()=>D().getHeartSystem()),a=()=>{const p=D();return p.getHeartSystem().current>0?(p.consumeHeart(),ee(),n(p.getHeartSystem()),!0):!1},s=(p=1)=>{const b=D();b.addHeart(p),ee(),n(b.getHeartSystem())},o=()=>{const p=D();p.recoverHeart(),ee(),n(p.getHeartSystem())},i=()=>{const p=D();p.resetHearts(),ee(),n(p.getHeartSystem())},l=()=>{const b=D().getHeartSystem(),h=Date.now()-b.lastRecoveryTime,x=300*1e3;return Math.max(0,x-h)},c=()=>t.current>0,d=()=>t.current>=t.max,m=()=>{if(t.current>=t.max)return 100;const p=l(),b=300*1e3;return Math.max(0,Math.min(100,(b-p)/b*100))},g=()=>{const b=D().processHeartRecovery();return n(b),ee(),b},v=()=>{const b=D().processHeartRecovery();n(b),ee()};return r.useEffect(()=>{const p=setInterval(()=>{const w=D().getHeartSystem();w.current<w.max&&l()<=0&&g()},1e3);return()=>clearInterval(p)},[t.current]),{heartSystem:t,consumeHeart:a,addHeart:s,recoverHeart:o,resetHearts:i,getTimeUntilRecovery:l,canConsumeHeart:c,isFull:d,getRecoveryProgress:m,processRecovery:g,refreshHearts:v}},an=()=>{const[t,n]=r.useState(()=>D().getLevel());return{userLevel:t,addXP:o=>{const i=D(),l=i.addXP(o);return n(i.getLevel()),ee(),l},refreshLevel:()=>{const o=D();n(o.getLevel())}}},rn=7200*1e3,on=3,ln=10,De=(t,n=Date.now())=>{if(t.current>=t.max)return t.current;const a=n-t.lastRecoveryTime,s=Math.floor(a/rn);return Math.min(t.current+s,t.max)},ct=(t,n=1)=>De(t)>=n,cn=t=>on+Math.floor((t-1)/ln),dn=t=>{const n=cn(t);return{current:n,max:n,lastRecoveryTime:Date.now()}},mn=[{id:1,sentence:"I ___ to the store yesterday.",blanks:[{id:"blank1",position:2,correctAnswer:"went"}],options:["go","went","going","goes"],explanation:"過去の時点での行動を表すため、過去形「went」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:2,sentence:"The book ___ on the table ___ mine.",blanks:[{id:"blank1",position:3,correctAnswer:"lying"},{id:"blank2",position:7,correctAnswer:"is"}],options:["lying","laying","is","are","was","were","lying","is"],explanation:"「lying」（横たわっている）と単数形の「is」が正解です。",level:"intermediate",category:"basic-sentence-patterns"},{id:3,sentence:"They ___ playing soccer when it ___ to rain.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:7,correctAnswer:"started"}],options:["were","was","started","start","are","have","were","started"],explanation:"過去進行形「were playing」と過去形「started」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:4,sentence:"I ___ my homework before I ___ to bed.",blanks:[{id:"blank1",position:1,correctAnswer:"finished"},{id:"blank2",position:5,correctAnswer:"went"}],options:["finished","finish","went","go","will finish","will go","finished","went"],explanation:"過去の順序を表すため過去形「finished」と「went」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:5,sentence:"He ___ to the store ___ some milk.",blanks:[{id:"blank1",position:2,correctAnswer:"went"},{id:"blank2",position:5,correctAnswer:"to buy"}],options:["went","goes","to buy","buying","bought","will buy","went","to buy"],explanation:"過去形「went」と目的を表す不定詞「to buy」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:6,sentence:"She ___ her keys ___ she left the house.",blanks:[{id:"blank1",position:2,correctAnswer:"forgot"},{id:"blank2",position:5,correctAnswer:"when"}],options:["forgot","forgets","when","while","before","after","forgot","when"],explanation:"過去形「forgot」と時を表す「when」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:7,sentence:"The students ___ their homework ___ the teacher arrived.",blanks:[{id:"blank1",position:3,correctAnswer:"had finished"},{id:"blank2",position:6,correctAnswer:"when"}],options:["had finished","finished","when","before","after","while","had finished","when"],explanation:"過去完了形「had finished」と時を表す「when」が正解です。",level:"advanced",category:"basic-sentence-patterns"},{id:8,sentence:"I ___ you ___ come to the party tomorrow.",blanks:[{id:"blank1",position:2,correctAnswer:"hope"},{id:"blank2",position:4,correctAnswer:"will"}],options:["hope","hoped","will","would","can","could","hope","will"],explanation:"現在形「hope」と未来形「will」が正解です。",level:"intermediate",category:"basic-sentence-patterns"},{id:9,sentence:"She ___ been studying English ___ three years.",blanks:[{id:"blank1",position:2,correctAnswer:"has"},{id:"blank2",position:6,correctAnswer:"for"}],options:["has","have","for","since","is","was","has","for"],explanation:"現在完了形「has been studying」と期間を表す「for」が正解です。",level:"intermediate",category:"tenses"},{id:10,sentence:"By the time you arrive, I ___ finished my homework.",blanks:[{id:"blank1",position:7,correctAnswer:"will have"}],options:["will have","will","have","had","would have"],explanation:"未来完了形「will have finished」が正解です。",level:"advanced",category:"tenses"},{id:11,sentence:"She ___ English for five years ___ she started working.",blanks:[{id:"blank1",position:2,correctAnswer:"had been studying"},{id:"blank2",position:7,correctAnswer:"when"}],options:["had been studying","has been studying","when","before","after","while","had been studying","when"],explanation:"過去完了進行形「had been studying」と時を表す「when」が正解です。",level:"advanced",category:"tenses"},{id:12,sentence:"The children ___ playing in the park ___ it started raining.",blanks:[{id:"blank1",position:3,correctAnswer:"were"},{id:"blank2",position:7,correctAnswer:"when"}],options:["were","was","when","while","before","after","were","when"],explanation:"過去進行形「were playing」と時を表す「when」が正解です。",level:"beginner",category:"tenses"},{id:13,sentence:"I ___ this book three times already.",blanks:[{id:"blank1",position:2,correctAnswer:"have read"}],options:["have read","read","am reading","will read"],explanation:"現在完了形「have read」が正解です。",level:"intermediate",category:"tenses"},{id:14,sentence:"He ___ to Japan next month.",blanks:[{id:"blank1",position:2,correctAnswer:"will go"}],options:["will go","goes","is going","went"],explanation:"未来形「will go」が正解です。",level:"beginner",category:"tenses"},{id:15,sentence:"I ___ my homework when you called.",blanks:[{id:"blank1",position:2,correctAnswer:"was doing"}],options:["was doing","did","am doing","have done"],explanation:"過去進行形「was doing」が正解です。",level:"intermediate",category:"tenses"},{id:16,sentence:"She ___ here since 2020.",blanks:[{id:"blank1",position:2,correctAnswer:"has lived"}],options:["has lived","lived","is living","will live"],explanation:"現在完了形「has lived」が正解です。",level:"intermediate",category:"tenses"},{id:17,sentence:"You ___ study harder if you want to pass the exam.",blanks:[{id:"blank1",position:2,correctAnswer:"should"}],options:["should","can","must","will"],explanation:"助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:18,sentence:"I ___ speak three languages fluently.",blanks:[{id:"blank1",position:2,correctAnswer:"can"}],options:["can","should","must","will"],explanation:"助動詞「can」が正解です。",level:"beginner",category:"auxiliaries"},{id:19,sentence:"You ___ not smoke in this building.",blanks:[{id:"blank1",position:2,correctAnswer:"must"}],options:["must","can","should","will"],explanation:"助動詞「must」が正解です。",level:"intermediate",category:"auxiliaries"},{id:20,sentence:"I ___ you ___ call me if you need help.",blanks:[{id:"blank1",position:2,correctAnswer:"suggest"},{id:"blank2",position:4,correctAnswer:"should"}],options:["suggest","suggested","should","would","could","might","suggest","should"],explanation:"提案を表す「suggest」と助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:21,sentence:"You ___ have told me earlier.",blanks:[{id:"blank1",position:2,correctAnswer:"should"}],options:["should","can","must","will"],explanation:"助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:22,sentence:"I ___ not believe what I'm seeing.",blanks:[{id:"blank1",position:2,correctAnswer:"can"}],options:["can","should","must","will"],explanation:"助動詞「can」が正解です。",level:"beginner",category:"auxiliaries"},{id:23,sentence:"You ___ be more careful next time.",blanks:[{id:"blank1",position:2,correctAnswer:"should"}],options:["should","can","must","will"],explanation:"助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:24,sentence:"I ___ have finished this by tomorrow.",blanks:[{id:"blank1",position:2,correctAnswer:"will"}],options:["will","can","should","must"],explanation:"助動詞「will」が正解です。",level:"intermediate",category:"auxiliaries"},{id:25,sentence:"The house ___ by a famous architect.",blanks:[{id:"blank1",position:3,correctAnswer:"was designed"}],options:["was designed","designed","is designing","will design"],explanation:"受動態「was designed」が正解です。",level:"intermediate",category:"passive-voice"},{id:26,sentence:"The book ___ in many countries.",blanks:[{id:"blank1",position:3,correctAnswer:"is read"}],options:["is read","reads","was reading","will read"],explanation:"受動態「is read」が正解です。",level:"beginner",category:"passive-voice"},{id:27,sentence:"The door ___ by someone.",blanks:[{id:"blank1",position:3,correctAnswer:"was opened"}],options:["was opened","opened","is opening","will open"],explanation:"受動態「was opened」が正解です。",level:"intermediate",category:"passive-voice"},{id:28,sentence:"The project ___ by the team last month.",blanks:[{id:"blank1",position:3,correctAnswer:"was completed"}],options:["was completed","completed","is completing","will complete"],explanation:"受動態「was completed」が正解です。",level:"intermediate",category:"passive-voice"},{id:29,sentence:"The letter ___ yesterday.",blanks:[{id:"blank1",position:3,correctAnswer:"was sent"}],options:["was sent","sent","is sending","will send"],explanation:"受動態「was sent」が正解です。",level:"beginner",category:"passive-voice"},{id:30,sentence:"The problem ___ by the engineers.",blanks:[{id:"blank1",position:3,correctAnswer:"is being solved"}],options:["is being solved","solves","solved","will solve"],explanation:"受動態進行形「is being solved」が正解です。",level:"advanced",category:"passive-voice"},{id:31,sentence:"The meeting ___ at 3 PM tomorrow.",blanks:[{id:"blank1",position:3,correctAnswer:"will be held"}],options:["will be held","holds","held","is holding"],explanation:"受動態未来形「will be held」が正解です。",level:"intermediate",category:"passive-voice"},{id:32,sentence:"The car ___ by my father.",blanks:[{id:"blank1",position:3,correctAnswer:"was bought"}],options:["was bought","bought","is buying","will buy"],explanation:"受動態「was bought」が正解です。",level:"beginner",category:"passive-voice"},{id:33,sentence:"The movie ___ we watched last night ___ very exciting.",blanks:[{id:"blank1",position:2,correctAnswer:"that"},{id:"blank2",position:7,correctAnswer:"was"}],options:["that","which","who","was","were","is","that","was"],explanation:"関係代名詞「that」と過去形「was」が正解です。",level:"intermediate",category:"relative-clauses"},{id:34,sentence:"The book ___ I read yesterday ___ very interesting.",blanks:[{id:"blank1",position:2,correctAnswer:"which"},{id:"blank2",position:6,correctAnswer:"was"}],options:["which","that","who","was","were","is","which","was"],explanation:"関係代名詞「which」と過去形「was」が正解です。",level:"intermediate",category:"relative-clauses"},{id:35,sentence:"The man ___ is standing there is my teacher.",blanks:[{id:"blank1",position:3,correctAnswer:"who"}],options:["who","which","that","whom"],explanation:"関係代名詞「who」が正解です。",level:"beginner",category:"relative-clauses"},{id:36,sentence:"This is the house ___ I was born.",blanks:[{id:"blank1",position:4,correctAnswer:"where"}],options:["where","which","that","who"],explanation:"関係副詞「where」が正解です。",level:"intermediate",category:"relative-clauses"},{id:37,sentence:"The reason ___ he left is unknown.",blanks:[{id:"blank1",position:3,correctAnswer:"why"}],options:["why","which","that","who"],explanation:"関係副詞「why」が正解です。",level:"intermediate",category:"relative-clauses"},{id:38,sentence:"The day ___ I met you was wonderful.",blanks:[{id:"blank1",position:3,correctAnswer:"when"}],options:["when","which","that","who"],explanation:"関係副詞「when」が正解です。",level:"intermediate",category:"relative-clauses"},{id:39,sentence:"The woman ___ you saw is my sister.",blanks:[{id:"blank1",position:3,correctAnswer:"whom"}],options:["whom","who","which","that"],explanation:"関係代名詞「whom」が正解です。",level:"advanced",category:"relative-clauses"},{id:40,sentence:"The car ___ color is red belongs to me.",blanks:[{id:"blank1",position:3,correctAnswer:"whose"}],options:["whose","which","that","who"],explanation:"関係代名詞「whose」が正解です。",level:"advanced",category:"relative-clauses"},{id:41,sentence:"If I ___ rich, I ___ travel around the world.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:5,correctAnswer:"would"}],options:["were","was","would","will","am","could","were","would"],explanation:"仮定法過去「If I were rich, I would travel」が正解です。",level:"advanced",category:"subjunctive"},{id:42,sentence:"I wish I ___ more time to finish this project.",blanks:[{id:"blank1",position:3,correctAnswer:"had"}],options:["had","have","has","will have"],explanation:"願望を表す「I wish」の後は仮定法過去「had」を使います。",level:"advanced",category:"subjunctive"},{id:43,sentence:"If I ___ you, I ___ study harder.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:5,correctAnswer:"would"}],options:["were","was","would","will","should","could","were","would"],explanation:"仮定法過去「If I were you, I would study」が正解です。",level:"advanced",category:"subjunctive"},{id:44,sentence:"I wish I ___ speak French fluently.",blanks:[{id:"blank1",position:3,correctAnswer:"could"}],options:["could","can","will","would"],explanation:"願望を表す「I wish」の後は仮定法過去「could」を使います。",level:"intermediate",category:"subjunctive"},{id:45,sentence:"If I ___ known earlier, I ___ have come.",blanks:[{id:"blank1",position:2,correctAnswer:"had"},{id:"blank2",position:5,correctAnswer:"would"}],options:["had","have","would","will","could","should","had","would"],explanation:"仮定法過去完了「If I had known, I would have come」が正解です。",level:"advanced",category:"subjunctive"},{id:46,sentence:"I wish I ___ not made that mistake.",blanks:[{id:"blank1",position:3,correctAnswer:"had"}],options:["had","have","has","will have"],explanation:"願望を表す「I wish」の後は仮定法過去完了「had」を使います。",level:"advanced",category:"subjunctive"},{id:47,sentence:"If I ___ you, I ___ not do that.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:5,correctAnswer:"would"}],options:["were","was","would","will","should","could","were","would"],explanation:"仮定法過去「If I were you, I would not do」が正解です。",level:"advanced",category:"subjunctive"},{id:48,sentence:"I wish it ___ stop raining.",blanks:[{id:"blank1",position:3,correctAnswer:"would"}],options:["would","will","can","could"],explanation:"願望を表す「I wish」の後は仮定法過去「would」を使います。",level:"intermediate",category:"subjunctive"},{id:49,sentence:"She is ___ intelligent ___ her sister.",blanks:[{id:"blank1",position:2,correctAnswer:"as"},{id:"blank2",position:4,correctAnswer:"as"}],options:["as","as","so","more","most","than","very","as","as"],explanation:"同等比較「as ... as」の構文が正解です。",level:"intermediate",category:"comparison"},{id:50,sentence:"This book is ___ than that one.",blanks:[{id:"blank1",position:3,correctAnswer:"more interesting"}],options:["more interesting","interesting","most interesting","as interesting"],explanation:"比較級「more interesting」が正解です。",level:"beginner",category:"comparison"},{id:51,sentence:"He is the ___ student in the class.",blanks:[{id:"blank1",position:4,correctAnswer:"tallest"}],options:["tallest","taller","tall","as tall"],explanation:"最上級「tallest」が正解です。",level:"beginner",category:"comparison"},{id:52,sentence:"This is ___ expensive ___ that.",blanks:[{id:"blank1",position:2,correctAnswer:"as"},{id:"blank2",position:4,correctAnswer:"as"}],options:["as","as","so","more","most","than","very","as","as"],explanation:"同等比較「as ... as」の構文が正解です。",level:"intermediate",category:"comparison"},{id:53,sentence:"She runs ___ than her brother.",blanks:[{id:"blank1",position:2,correctAnswer:"faster"}],options:["faster","fast","fastest","as fast"],explanation:"比較級「faster」が正解です。",level:"beginner",category:"comparison"},{id:54,sentence:"This is the ___ beautiful place I've ever seen.",blanks:[{id:"blank1",position:4,correctAnswer:"most"}],options:["most","more","very","as"],explanation:"最上級「most」が正解です。",level:"intermediate",category:"comparison"},{id:55,sentence:"He is ___ than I expected.",blanks:[{id:"blank1",position:2,correctAnswer:"taller"}],options:["taller","tall","tallest","as tall"],explanation:"比較級「taller」が正解です。",level:"beginner",category:"comparison"},{id:56,sentence:"This problem is ___ difficult ___ the previous one.",blanks:[{id:"blank1",position:3,correctAnswer:"as"},{id:"blank2",position:5,correctAnswer:"as"}],options:["as","as","so","more","most","than","very","as","as"],explanation:"同等比較「as ... as」の構文が正解です。",level:"intermediate",category:"comparison"},{id:57,sentence:"___ English is not easy for me.",blanks:[{id:"blank1",position:1,correctAnswer:"Learning"}],options:["Learning","Learn","Learned","To learn"],explanation:"動名詞「Learning」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:58,sentence:"I enjoy ___ books in my free time.",blanks:[{id:"blank1",position:2,correctAnswer:"reading"}],options:["reading","read","to read","reads"],explanation:"動名詞「reading」が正解です。",level:"beginner",category:"participles-gerunds"},{id:59,sentence:"The ___ child was crying loudly.",blanks:[{id:"blank1",position:2,correctAnswer:"crying"}],options:["crying","cry","cried","cries"],explanation:"現在分詞「crying」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:60,sentence:"I saw a ___ bird in the tree.",blanks:[{id:"blank1",position:3,correctAnswer:"singing"}],options:["singing","sing","sang","sings"],explanation:"現在分詞「singing」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:61,sentence:"___ tired, I went to bed early.",blanks:[{id:"blank1",position:1,correctAnswer:"Feeling"}],options:["Feeling","Feel","Felt","To feel"],explanation:"現在分詞「Feeling」が正解です。",level:"advanced",category:"participles-gerunds"},{id:62,sentence:"The ___ book is on the table.",blanks:[{id:"blank1",position:2,correctAnswer:"opened"}],options:["opened","opening","open","opens"],explanation:"過去分詞「opened」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:63,sentence:"I'm looking forward to ___ you again.",blanks:[{id:"blank1",position:4,correctAnswer:"seeing"}],options:["seeing","see","saw","sees"],explanation:"動名詞「seeing」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:64,sentence:"The ___ door was difficult to open.",blanks:[{id:"blank1",position:2,correctAnswer:"broken"}],options:["broken","breaking","break","breaks"],explanation:"過去分詞「broken」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:65,sentence:"I want ___ a doctor when I grow up.",blanks:[{id:"blank1",position:2,correctAnswer:"to become"}],options:["to become","become","becoming","became"],explanation:"不定詞「to become」が正解です。",level:"beginner",category:"infinitives"},{id:66,sentence:"It's important ___ English every day.",blanks:[{id:"blank1",position:3,correctAnswer:"to practice"}],options:["to practice","practice","practicing","practiced"],explanation:"不定詞「to practice」が正解です。",level:"intermediate",category:"infinitives"},{id:67,sentence:"I need ___ some money from the bank.",blanks:[{id:"blank1",position:2,correctAnswer:"to withdraw"}],options:["to withdraw","withdraw","withdrawing","withdrew"],explanation:"不定詞「to withdraw」が正解です。",level:"intermediate",category:"infinitives"},{id:68,sentence:"She decided ___ her job.",blanks:[{id:"blank1",position:2,correctAnswer:"to quit"}],options:["to quit","quit","quitting","quits"],explanation:"不定詞「to quit」が正解です。",level:"intermediate",category:"infinitives"},{id:69,sentence:"It's difficult ___ this problem.",blanks:[{id:"blank1",position:3,correctAnswer:"to solve"}],options:["to solve","solve","solving","solved"],explanation:"不定詞「to solve」が正解です。",level:"intermediate",category:"infinitives"},{id:70,sentence:"I hope ___ you soon.",blanks:[{id:"blank1",position:2,correctAnswer:"to see"}],options:["to see","see","seeing","saw"],explanation:"不定詞「to see」が正解です。",level:"beginner",category:"infinitives"},{id:71,sentence:"She asked me ___ her with the homework.",blanks:[{id:"blank1",position:3,correctAnswer:"to help"}],options:["to help","help","helping","helped"],explanation:"不定詞「to help」が正解です。",level:"intermediate",category:"infinitives"},{id:72,sentence:"It's nice ___ you again.",blanks:[{id:"blank1",position:3,correctAnswer:"to meet"}],options:["to meet","meet","meeting","met"],explanation:"不定詞「to meet」が正解です。",level:"beginner",category:"infinitives"}];function xn(t,n){let a=mn;return t&&(a=a.filter(s=>s.level===t)),n&&(a=a.filter(s=>s.category===n)),a}const hn=[{id:"basic-sentence-patterns",name:"基本文型",description:"SV, SVC, SVO, SVOO, SVOCの基本文型"},{id:"tenses",name:"時制",description:"現在、過去、未来、完了形の時制"},{id:"auxiliaries",name:"助動詞",description:"can, may, must, should等の助動詞"},{id:"passive-voice",name:"受動態",description:"be動詞 + 過去分詞の受動態"},{id:"relative-clauses",name:"関係詞",description:"who, which, that等の関係詞"},{id:"subjunctive",name:"仮定法",description:"if文、wish等の仮定法"},{id:"comparison",name:"比較",description:"比較級、最上級の比較表現"},{id:"participles-gerunds",name:"分詞・動名詞",description:"-ing形の使い分け"},{id:"infinitives",name:"不定詞",description:"to不定詞の用法"}],un=({rank:t,showIcon:n=!0,showName:a=!0,showXP:s=!1,question:o,size:i="md",className:l=""})=>{const c=Ts[t],d={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},m={sm:"text-sm",md:"text-base",lg:"text-lg"};return e.jsxs("div",{className:`inline-flex items-center space-x-1 ${c.bgColor} ${c.color} rounded-full ${d[i]} ${l}`,children:[n&&e.jsx("span",{className:m[i],children:c.icon}),a&&e.jsx("span",{className:"font-medium",children:c.name}),s&&o&&e.jsxs("span",{className:"text-xs opacity-75",children:["+",o.xpReward,"XP"]})]})},pn={normal:{min:3,max:8},rare:{min:10,max:18},epic:{min:25,max:40},legendary:{min:50,max:100}};function gn(t){if(t<=20){const n=Math.random();return n<.8?"normal":n<.98?"rare":"epic"}else if(t<=40){const n=Math.random();return n<.6?"normal":n<.9?"rare":n<.99?"epic":"legendary"}else if(t<=60){const n=Math.random();return n<.4?"normal":n<.75?"rare":n<.95?"epic":"legendary"}else if(t<=80){const n=Math.random();return n<.25?"normal":n<.6?"rare":n<.9?"epic":"legendary"}else{const n=Math.random();return n<.15?"normal":n<.45?"rare":n<.8?"epic":"legendary"}}function fn(t,n=!1){const a=pn[t],s=Math.floor(Math.random()*(a.max-a.min+1))+a.min;return n?Math.floor(s*1.5):s}function vn(t,n,a){return t.filter(s=>{const i=["normal","rare","epic","legendary"].indexOf(s.rank);return i>=i})}function yn(t,n){if(t.length===0)return null;const a=t.map(l=>{const c=n[l.skillField]/30,d=bn(l.rank);return c*d}),s=a.reduce((l,c)=>l+c,0);if(s===0)return t[Math.floor(Math.random()*t.length)];const o=Math.random()*s;let i=0;for(let l=0;l<t.length;l++)if(i+=a[l],o<=i)return t[l];return t[0]}function bn(t){return{normal:1,rare:2,epic:3,legendary:5}[t]}const dt=[{id:1,type:"quote",category:"grammar",content:"Grammar is the grave of letters.",translation:"文法は文字の墓場である。",explanation:"マーク・トウェインの言葉。文法にこだわりすぎると、自然な表現力が失われるという意味。"},{id:2,type:"quote",category:"grammar",content:"The limits of my language mean the limits of my world.",translation:"私の言語の限界が、私の世界の限界を意味する。",explanation:"哲学者ルートヴィヒ・ウィトゲンシュタインの言葉。言語が思考の枠組みを作ることを示している。"},{id:3,type:"tip",category:"grammar",content:"English has no future tense!",translation:"英語には未来時制がない！",explanation:"英語では 'will' や 'going to' を使って未来を表現しますが、動詞の形自体は変わりません。"},{id:4,type:"tip",category:"grammar",content:"The word 'set' has the most meanings in English.",translation:"「set」という単語が英語で最も多くの意味を持つ。",explanation:"Oxford English Dictionaryによると、'set'は464の異なる意味を持つ最も多義的な単語です。"},{id:5,type:"quote",category:"grammar",content:"A language is a dialect with an army and navy.",translation:"言語とは、軍隊と海軍を持つ方言である。",explanation:"社会言語学者マックス・ワインライヒの言葉。政治的な力が言語の地位を決定することを示している。"},{id:6,type:"quote",category:"vocabulary",content:"Words are, of course, the most powerful drug used by mankind.",translation:"言葉は、もちろん、人類が使用する最も強力な薬である。",explanation:"小説家ラドヤード・キップリングの言葉。言葉の影響力の大きさを表現している。"},{id:7,type:"tip",category:"vocabulary",content:"English borrows from over 350 languages!",translation:"英語は350以上の言語から借用している！",explanation:"英語の語彙の約80%が他の言語から借用されたもので、特にラテン語、フランス語、ギリシャ語からの借用が多い。"},{id:8,type:"tip",category:"vocabulary",content:"The longest English word is 45 letters long!",translation:"最も長い英語の単語は45文字！",explanation:"'pneumonoultramicroscopicsilicovolcanoconiosis'（塵肺症）が最も長い英単語として知られています。"},{id:9,type:"quote",category:"vocabulary",content:"The difference between the right word and the almost right word is the difference between lightning and a lightning bug.",translation:"正しい単語とほぼ正しい単語の違いは、稲妻と蛍の違いである。",explanation:"マーク・トウェインの言葉。単語選択の重要性を強調している。"},{id:10,type:"tip",category:"vocabulary",content:"Shakespeare invented over 1,700 words!",translation:"シェイクスピアは1,700以上の単語を発明した！",explanation:"'eyeball', 'swagger', 'lonely'など、現在も使われている多くの単語をシェイクスピアが初めて使用した。"},{id:11,type:"quote",category:"general",content:"The best way to learn a language is to speak it.",translation:"言語を学ぶ最良の方法は、それを話すことである。",explanation:"理論だけでなく、実際に使うことで言語は身につくという学習の基本原則。"},{id:12,type:"quote",category:"general",content:"A different language is a different vision of life.",translation:"異なる言語は、異なる人生観である。",explanation:"映画監督フェデリコ・フェリーニの言葉。言語が世界観を形成することを示している。"},{id:13,type:"tip",category:"general",content:"English is spoken by 1.5 billion people worldwide!",translation:"英語は世界中で15億人に話されている！",explanation:"世界人口の約20%が英語を話し、そのうち約4億人が母語として使用している。"},{id:14,type:"tip",category:"general",content:"The word 'OK' comes from 'oll korrect'!",translation:"「OK」という単語は「oll korrect」から来ている！",explanation:"19世紀のアメリカで、'all correct'のスペルミス版として生まれた略語が定着した。"},{id:15,type:"quote",category:"general",content:"If you talk to a man in a language he understands, that goes to his head. If you talk to him in his language, that goes to his heart.",translation:"人が理解する言語で話せば、それは頭に届く。その人の言語で話せば、それは心に届く。",explanation:"ネルソン・マンデラの言葉。母語で話すことの深い影響力を表現している。"},{id:16,type:"tip",category:"general",content:"English has more words than any other language!",translation:"英語は他のどの言語よりも多くの単語を持つ！",explanation:"Oxford English Dictionaryには約60万語が収録されており、これは他の言語を大きく上回る。"},{id:17,type:"quote",category:"general",content:"Language is the road map of a culture. It tells you where its people come from and where they are going.",translation:"言語は文化の地図である。その人々がどこから来て、どこへ向かうかを教えてくれる。",explanation:"言語学者リタ・メイ・ブラウンの言葉。言語と文化の深い関係を示している。"},{id:18,type:"tip",category:"general",content:"The word 'queue' is pronounced the same even if you remove 4 letters!",translation:"「queue」という単語は4文字削除しても発音が同じ！",explanation:"'queue' → 'que' → 'qu' → 'q' と文字を削除しても、すべて 'kyu' と発音される。"},{id:19,type:"quote",category:"general",content:"One language sets you in a corridor for life. Two languages open every door along the way.",translation:"一つの言語は人生の廊下にあなたを置く。二つの言語は道中のすべての扉を開く。",explanation:"フランク・スミスの言葉。多言語習得の価値を表現している。"},{id:20,type:"tip",category:"general",content:"The shortest complete sentence in English is 'I am.'",translation:"英語で最も短い完全な文は「I am.」である。",explanation:"主語と動詞を含む完全な文として、最も短い形の例。"},{id:21,type:"quote",category:"general",content:"May the Force be with you.",translation:"フォースが共にあらんことを。",explanation:"スター・ウォーズシリーズの有名なセリフ。日常でも「頑張って」の意味で使われる。"},{id:22,type:"quote",category:"general",content:"I'll be back.",translation:"また戻ってくる。",explanation:"ターミネーターシリーズのアーノルド・シュワルツェネッガーの名セリフ。最も有名な映画のセリフの一つ。"},{id:23,type:"quote",category:"general",content:"Life is like a box of chocolates. You never know what you're gonna get.",translation:"人生はチョコレートの箱のようなもの。何が入っているかわからない。",explanation:"映画「フォレスト・ガンプ」の名セリフ。人生の不確実性を表現した美しい比喩。"},{id:24,type:"quote",category:"general",content:"To infinity and beyond!",translation:"無限の彼方へ！",explanation:"トイ・ストーリーのバズ・ライトイヤーの決めゼリフ。目標に向かって突き進む気持ちを表現。"},{id:25,type:"quote",category:"general",content:"I'm the king of the world!",translation:"俺は世界の王だ！",explanation:"映画「タイタニック」のジャックのセリフ。自由と希望を表現した名シーン。"},{id:26,type:"quote",category:"general",content:"You can't handle the truth!",translation:"お前には真実は扱えない！",explanation:"映画「ア・フュー・グッドメン」の名セリフ。真実の重さを表現した力強い言葉。"},{id:27,type:"quote",category:"general",content:"Houston, we have a problem.",translation:"ヒューストン、問題が発生しました。",explanation:"映画「アポロ13」のセリフ。危機的状況を冷静に報告する際の表現として使われる。"},{id:28,type:"quote",category:"general",content:"Elementary, my dear Watson.",translation:"初歩的なことだ、ワトソン君。",explanation:"シャーロック・ホームズの名セリフ。推理小説やドラマでよく使われる表現。"},{id:29,type:"quote",category:"general",content:"I'll make him an offer he can't refuse.",translation:"断れない条件を提示してやる。",explanation:"映画「ゴッドファーザー」の名セリフ。ビジネスでも使われる強気な表現。"},{id:30,type:"quote",category:"general",content:"Keep your friends close, but your enemies closer.",translation:"友人は近くに、敵はもっと近くに置け。",explanation:"映画「ゴッドファーザー」の名セリフ。戦略的思考を表現した格言として使われる。"},{id:31,type:"quote",category:"general",content:"I'm walking here!",translation:"歩いてるんだよ！",explanation:"映画「ミッドナイト・カウボーイ」の名セリフ。ニューヨークの街角でよく使われる表現。"},{id:32,type:"quote",category:"general",content:"Here's looking at you, kid.",translation:"君を見つめているよ、坊や。",explanation:"映画「カサブランカ」の名セリフ。別れの際の美しい表現として知られる。"},{id:33,type:"quote",category:"general",content:"I'll be there for you.",translation:"君のためにそこにいるよ。",explanation:"ドラマ「フレンズ」のテーマソングの歌詞。友情を表現した温かい言葉。"},{id:34,type:"quote",category:"general",content:"Winter is coming.",translation:"冬が来る。",explanation:"ドラマ「ゲーム・オブ・スローンズ」の名セリフ。警告や予兆を表現する際に使われる。"},{id:35,type:"quote",category:"general",content:"You know nothing, Jon Snow.",translation:"君は何も知らない、ジョン・スノー。",explanation:"ドラマ「ゲーム・オブ・スローンズ」のイグリットのセリフ。無知を指摘する際に使われる。"},{id:36,type:"quote",category:"general",content:"I am Iron Man.",translation:"俺はアイアンマンだ。",explanation:"映画「アイアンマン」シリーズのトニー・スタークのセリフ。自信を表現する際に使われる。"},{id:37,type:"quote",category:"general",content:"With great power comes great responsibility.",translation:"大きな力には大きな責任が伴う。",explanation:"スパイダーマンシリーズの名セリフ。責任感の重要性を表現した格言。"},{id:38,type:"quote",category:"general",content:"I'm Batman.",translation:"俺はバットマンだ。",explanation:"バットマンシリーズの名セリフ。シンプルで力強い自己紹介の表現。"},{id:39,type:"quote",category:"general",content:"I'm not a smart man, but I know what love is.",translation:"俺は賢い男じゃないが、愛が何かは知っている。",explanation:"映画「フォレスト・ガンプ」の名セリフ。シンプルで心に響く愛の表現。"},{id:40,type:"quote",category:"general",content:"I'm the captain now.",translation:"俺が船長だ。",explanation:"映画「キャプテン・フィリップス」の名セリフ。主導権を握った際の表現として使われる。"},{id:41,type:"quote",category:"general",content:"I see dead people.",translation:"死んだ人が見える。",explanation:"映画「シックス・センス」の名セリフ。超自然現象を表現する際に使われる。"},{id:42,type:"quote",category:"general",content:"There's no place like home.",translation:"家ほど良い場所はない。",explanation:"映画「オズの魔法使い」のドロシーのセリフ。故郷の大切さを表現した名セリフ。"},{id:43,type:"quote",category:"general",content:"I'm going to make him an offer he can't refuse.",translation:"断れない条件を提示してやる。",explanation:"映画「ゴッドファーザー」の名セリフ。ビジネスでも使われる強気な表現。"},{id:44,type:"quote",category:"general",content:"I'll have what she's having.",translation:"彼女と同じものをください。",explanation:"映画「ハリーとサリー」の名セリフ。レストランでよく使われる表現。"},{id:45,type:"quote",category:"general",content:"I'm the king of the world!",translation:"俺は世界の王だ！",explanation:"映画「タイタニック」のジャックのセリフ。自由と希望を表現した名シーン。"},{id:46,type:"quote",category:"general",content:"I'm walking here!",translation:"歩いてるんだよ！",explanation:"映画「ミッドナイト・カウボーイ」の名セリフ。ニューヨークの街角でよく使われる表現。"},{id:47,type:"quote",category:"general",content:"I'll be back.",translation:"また戻ってくる。",explanation:"ターミネーターシリーズのアーノルド・シュワルツェネッガーの名セリフ。最も有名な映画のセリフの一つ。"},{id:48,type:"quote",category:"general",content:"I'm the king of the world!",translation:"俺は世界の王だ！",explanation:"映画「タイタニック」のジャックのセリフ。自由と希望を表現した名シーン。"},{id:49,type:"quote",category:"general",content:"I'm walking here!",translation:"歩いてるんだよ！",explanation:"映画「ミッドナイト・カウボーイ」の名セリフ。ニューヨークの街角でよく使われる表現。"},{id:50,type:"quote",category:"general",content:"I'll be back.",translation:"また戻ってくる。",explanation:"ターミネーターシリーズのアーノルド・シュワルツェネッガーの名セリフ。最も有名な映画のセリフの一つ。"}];function wn(t){let n=dt;n=dt.filter(s=>s.category===t);const a=Math.floor(Math.random()*n.length);return n[a]}const jn="ontouchstart"in window||navigator.maxTouchPoints>0;function Nn({blankId:t,droppedWord:n,onDrop:a}){const[{isOver:s},o]=Ms({accept:"word",drop:i=>a(t,i.word),collect:i=>({isOver:i.isOver()})});return e.jsx("span",{ref:o,className:`
        inline-block min-w-[80px] h-8 px-3 mx-1 border-2 border-dashed rounded-md
        flex items-center justify-center text-center
        ${s?"border-blue-500 bg-blue-50":"border-gray-300"}
        ${n?"bg-blue-100 border-blue-400 border-solid":""}
        transition-all duration-200
      `,children:n||"?"})}function _n({word:t}){const[{isDragging:n},a]=Ds({type:"word",item:{word:t},collect:s=>({isDragging:s.isDragging()})});return e.jsx("span",{ref:a,className:`
        inline-block px-3 py-1 mx-1 mb-2 bg-blue-100 text-blue-800 rounded-md cursor-move
        hover:bg-blue-200 transition-colors duration-200
        ${n?"opacity-50":""}
      `,children:t})}function jt({onBack:t,category:n,difficulty:a="intermediate"}){const[s,o]=r.useState([]),[i,l]=r.useState(0),[c,d]=r.useState({}),[m,g]=r.useState(0),[v,p]=r.useState(!1),[b,w]=r.useState(0),[h,x]=r.useState([]),[y,f]=r.useState(!1),[N,Y]=r.useState(null),[O,ce]=r.useState(null),[E]=r.useState(()=>D()),[j,L]=r.useState(E.getHeartSystem()),[J,B]=r.useState(E.getLevel()),[se]=r.useState(E.getStatusAllocation());r.useEffect(()=>{if(!E.consumeHeart()){alert("体力が不足しています。回復を待ってから再試行してください。"),t();return}q(),w(Date.now()),L(E.getHeartSystem()),ee()},[]);const q=()=>{console.log("Generating questions for category:",n,"difficulty:",a);const k=xn(a,n);if(console.log("Original questions:",k),!k||k.length===0){console.error("No grammar questions found for difficulty:",a),o([]);return}const R=k.map((_,H)=>{const S=gn(J.level),P="grammar",V=fn(S);return{id:_.id,question:_.sentence,options:_.options,correctAnswer:_.blanks.map(xe=>xe.correctAnswer).join(" "),explanation:_.explanation,category:"basic-grammar",difficulty:"normal",rank:S,skillField:P,xpReward:V,blanks:_.blanks}});console.log("Enhanced questions:",R);const G=vn(R,J.level);console.log("Filtered questions:",G);const X=[],u=8;for(let _=0;_<u;_++){const H=G.filter(S=>!X.some(P=>P.id===S.id));if(H.length>0){const S=yn(H,se);S&&X.push(S)}}console.log("Selected questions:",X),o(X)},T=s[i]||null,ie=s.length>0?(i+1)/s.length*100:0;r.useEffect(()=>{if(T&&T.options){const k=[...T.options].sort(()=>Math.random()-.5);x(k),d({}),f(!1),Y(null),ce(null)}},[i,T]);const $=(k,R)=>{d(G=>({...G,[k]:R}))},ne=()=>{if(!T||!T.blanks)return!1;let k=!0;for(const R of T.blanks){const G=c[R.id];if(!G||G!==R.correctAnswer){k=!1;break}}return k},ae=()=>{const k=ne();Y(k),k&&g(R=>R+1),ce(wn("grammar")),f(!0)},le=()=>{f(!1),Y(null),i<s.length-1?l(k=>k+1):ye()},ye=()=>{p(!0);const k=Os(s.length>0?s.map((G,X)=>({questionId:G.id,answer:c[`blank_${X}`]||"",isCorrect:m>0})):[],T?.rank||"normal",!0),R=E.addXP(k);B(E.getLevel()),ee(),R.leveledUp?rt.sounds.levelUp():rt.sounds.complete()},de=()=>{if(!T||!T.blanks)return null;const k=T.question,R=T.blanks,G=k.split(" "),X=[];let u=0;for(let _=0;_<G.length;_++){const H=G[_],S=R.find(P=>P.position===_+1);S?(X.push(e.jsx(Nn,{blankId:S.id,droppedWord:c[S.id]||null,onDrop:$},`blank_${u}`)),u++):X.push(e.jsx("span",{className:"mx-1",children:H},_))}return X},ge=()=>{l(0),d({}),g(0),p(!1),q(),w(Date.now())};return s.length===0?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(C,{className:"mb-6",children:[e.jsx(K,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(M,{onClick:t,variant:"outline",size:"sm",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"文法クイズ"})]})})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-lg text-gray-600",children:"問題を読み込み中..."}),e.jsx("div",{className:"text-sm text-gray-500",children:"しばらくお待ちください"}),e.jsxs(M,{onClick:ge,variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"再読み込み"]})]})})]})})}):v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(C,{className:"mb-6",children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"クイズ結果"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-red-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[j.current,"/",j.max]})]})]})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-600",children:[m," / ",s.length]}),e.jsxs("div",{className:"text-lg text-gray-600",children:["正解率: ",Math.round(m/s.length*100),"%"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["獲得XP: ",s.reduce((k,R)=>k+R.xpReward,0)]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"問題解説"}),s.map((k,R)=>e.jsxs("div",{className:"text-left p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:["問題 ",R+1,": ",k.question]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"解説:"})," ",k.explanation]})]},k.id))]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(M,{onClick:ge,className:"flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"もう一度挑戦"]}),e.jsxs(M,{onClick:t,variant:"outline",className:"flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"ホームに戻る"]})]})]})})]})})}):!T||s.length===0?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{children:e.jsxs(I,{className:"p-8 text-center",children:[e.jsx("div",{className:"text-lg text-gray-600",children:s.length===0?"問題が見つかりませんでした":"問題を読み込み中..."}),e.jsxs(M,{onClick:t,className:"mt-4",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"戻る"]})]})})})}):e.jsx(As,{backend:jn?Ps:Rs,children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(C,{className:"mb-6",children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(M,{onClick:t,variant:"outline",size:"sm",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"文法クイズ"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-red-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[j.current,"/",j.max]})]}),e.jsxs(te,{variant:"secondary",children:["Level ",J.level]})]})]})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["問題 ",i+1,"/",s.length]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[i+1," / ",s.length]})]}),e.jsx(je,{value:ie,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["スコア: ",m," / ",s.length]}),e.jsx(un,{rank:T.rank,showXP:!0,question:T,size:"sm"})]})]})})]}),e.jsx(C,{className:"mb-6",children:e.jsx(I,{className:"p-6",children:T?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:T.question}),e.jsx("p",{className:"text-sm text-gray-600",children:"空欄に適切な単語をドラッグして文を完成させてください"})]}),e.jsx("div",{className:"text-center text-lg",children:de()}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"単語を選んでください"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:h.map((k,R)=>e.jsx(_n,{word:k},R))})]})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-lg text-gray-600",children:"問題を読み込み中..."}),e.jsx("div",{className:"text-sm text-gray-500",children:"しばらくお待ちください"}),e.jsxs(M,{onClick:ge,variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"再読み込み"]})]})})}),y&&T&&e.jsx(C,{className:"mb-6 border-2 border-blue-200 bg-blue-50",children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center space-x-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(Es,{className:"w-6 h-6 text-green-500"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:"正解！"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ls,{className:"w-6 h-6 text-red-500"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:"不正解"})]})}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"正解:"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:T.blanks?.map(k=>k.correctAnswer).join(" ")})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"解説:"}),e.jsx("div",{className:"text-gray-800",children:T.explanation})]}),O&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-sm text-purple-700 mb-2 font-medium",children:O.type==="quote"?"💭 英語の格言":"💡 英語の豆知識"}),e.jsxs("div",{className:"text-purple-800 mb-2 font-semibold",children:['"',O.content,'"']}),e.jsx("div",{className:"text-sm text-purple-600 mb-1",children:O.translation}),O.explanation&&e.jsx("div",{className:"text-xs text-purple-500 italic",children:O.explanation}),e.jsx("div",{className:"mt-2 text-xs text-purple-600",children:N?`+${T.xpReward}XP 獲得！`:"正解を覚えて次回に活かしましょう！"})]}),e.jsx(M,{onClick:le,size:"lg",className:"mt-4",children:i<s.length-1?"次の問題へ":"結果を見る"})]})})}),!y&&e.jsx("div",{className:"flex justify-center",children:e.jsx(M,{onClick:ae,size:"lg",children:i<s.length-1?"次の問題":"答え合わせ"})})]})})})}const Sn=Object.freeze(Object.defineProperty({__proto__:null,EnhancedGrammarQuiz:jt},Symbol.toStringTag,{value:"Module"}));function kn({onSelectCategory:t,onBack:n}){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(M,{variant:"outline",onClick:n,className:"flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsx("div",{className:"w-24"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"文法カテゴリー選択"}),e.jsx("p",{className:"text-gray-600",children:"学習したい文法カテゴリーを選択してください"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:hn.map(a=>e.jsxs(C,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(a.id),children:[e.jsx(K,{className:"pb-3",children:e.jsxs(oe,{className:"text-lg flex items-center",children:[e.jsx(ft,{className:"w-5 h-5 mr-2 text-blue-600"}),a.name]})}),e.jsxs(I,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:a.description}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-blue-600",children:["クリックして開始",e.jsx(ve,{className:"w-4 h-4 ml-1 rotate-180"})]})]})]},a.id))})]})})}function Cn({categoryName:t,onSelectDifficulty:n,onBack:a}){const s=[{id:"beginner",name:"簡単",description:"基本的な文法問題",icon:Fe,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{id:"intermediate",name:"普通",description:"中級レベルの文法問題",icon:Vs,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},{id:"advanced",name:"難しい",description:"上級レベルの文法問題",icon:Hs,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(M,{variant:"outline",onClick:a,className:"flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"難易度選択"}),e.jsx("div",{className:"w-24"})]}),e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:t}),e.jsx("p",{className:"text-gray-600",children:"学習したい難易度を選択してください"})]}),e.jsx("div",{className:"space-y-4",children:s.map(o=>{const i=o.icon;return e.jsxs(C,{className:`hover:shadow-lg transition-shadow cursor-pointer ${o.bgColor} ${o.borderColor} border-2`,onClick:()=>n(o.id),children:[e.jsx(K,{className:"pb-3",children:e.jsxs(oe,{className:"text-lg flex items-center",children:[e.jsx(i,{className:`w-5 h-5 mr-2 ${o.color}`}),o.name]})}),e.jsxs(I,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:o.description}),e.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:["クリックして開始",e.jsx(ve,{className:"w-4 h-4 ml-1 rotate-180"})]})]})]},o.id)})})]})})}function Nt({userStats:t,onBack:n}){const s=(()=>{const m=(t.preStudySessions||[]).filter(j=>j.completed&&j.comprehensionRating);if(m.length===0)return{averageComprehension:0,comprehensionImprovement:0,totalStudyDays:0,recentImprovement:0,categoryProgress:{},streakGrowth:0,learningConsistency:0,actualLearningTime:0,confidenceScore:0};const g=m.slice(-10),v=m.slice(0,10),p=g.reduce((j,L)=>j+(L.comprehensionRating||0),0)/g.length,b=v.length>0?v.reduce((j,L)=>j+(L.comprehensionRating||0),0)/v.length:p,w=p-b,x=new Set(m.map(j=>new Date(j.startTime).toDateString())).size,y={};m.forEach(j=>{const L=j.contentId.split("_")[1]||"unknown";y[L]||(y[L]={count:0,avgRating:0}),y[L].count++,y[L].avgRating+=j.comprehensionRating||0}),Object.keys(y).forEach(j=>{y[j].avgRating/=y[j].count});const f=t.currentStreak,N=m.reduce((j,L)=>{const J=L.endTime?(L.endTime-L.startTime)/1e3/60:3;return j+J},0),Y=N/m.length,O=Math.min(Y/3,1),ce=1-(Math.max(...m.map(j=>j.comprehensionRating||0))-Math.min(...m.map(j=>j.comprehensionRating||0)))/4,E=(O+ce)/2;return{averageComprehension:p,comprehensionImprovement:w,totalStudyDays:x,recentImprovement:p,categoryProgress:y,streakGrowth:t.currentStreak,learningConsistency:f,actualLearningTime:N,confidenceScore:E}})(),i=(d=>d>=1.5?{level:"S",color:"from-purple-500 to-pink-500",text:"ネイティブレベル！"}:d>=1?{level:"A",color:"from-green-500 to-emerald-500",text:"ビジネス英語OK！"}:d>=.5?{level:"B",color:"from-blue-500 to-cyan-500",text:"日常会話できます！"}:d>=0?{level:"C",color:"from-yellow-500 to-orange-500",text:"基礎は完璧！"}:{level:"D",color:"from-gray-500 to-slate-500",text:"基礎固め中"})(s.comprehensionImprovement),c=(d=>d>=4.5?"英検1級レベル！ネイティブと対等に話せます":d>=4?"英検準1級レベル！ビジネス英語で活躍できます":d>=3.5?"英検2級レベル！日常会話は完璧です":d>=3?"英検3級レベル！基本的な会話ができます":d>=2.5?"英検4級レベル！簡単な会話ができます":d>=2?"英検5級レベル！挨拶と自己紹介ができます":"基礎学習中！一緒に頑張りましょう")(s.averageComprehension);return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pt-8",children:[e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"← 戻る"}),e.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[e.jsx(vt,{className:"w-6 h-6 mr-2 text-green-600"}),"成長ダッシュボード"]}),e.jsx("div",{className:"w-10"})]}),e.jsx(C,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-0 shadow-lg",children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br ${i.color} mb-4`,children:e.jsx("span",{className:"text-2xl font-bold text-white",children:i.level})}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:i.text}),e.jsxs("p",{className:"text-gray-600",children:["理解度向上: ",s.comprehensionImprovement>0?"+":"",s.comprehensionImprovement.toFixed(1),"ポイント"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(C,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0 shadow-lg",children:e.jsxs(I,{className:"p-4 text-center",children:[e.jsx(ot,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:s.averageComprehension.toFixed(1)}),e.jsx("div",{className:"text-sm opacity-90",children:"現在の理解度"}),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:c})]})}),e.jsx(C,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0 shadow-lg",children:e.jsxs(I,{className:"p-4 text-center",children:[e.jsx(zs,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:s.totalStudyDays}),e.jsx("div",{className:"text-sm opacity-90",children:"学習日数"})]})}),e.jsx(C,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0 shadow-lg",children:e.jsxs(I,{className:"p-4 text-center",children:[e.jsx(Ve,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:t.currentStreak}),e.jsx("div",{className:"text-sm opacity-90",children:"連続学習日"})]})}),e.jsx(C,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white border-0 shadow-lg",children:e.jsxs(I,{className:"p-4 text-center",children:[e.jsx(Fs,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:t.totalXP}),e.jsx("div",{className:"text-sm opacity-90",children:"総獲得XP"})]})})]}),e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(K,{children:e.jsxs(oe,{className:"flex items-center",children:[e.jsx(yt,{className:"w-5 h-5 mr-2 text-blue-600"}),"理解度の向上"]})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"理解度向上率"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[s.comprehensionImprovement>0?"+":"",s.comprehensionImprovement.toFixed(1),"ポイント"]})]}),e.jsx(je,{value:Math.min(Math.max((s.comprehensionImprovement+2)*25,0),100),className:"h-3"}),e.jsx("div",{className:"text-sm text-gray-500",children:s.comprehensionImprovement>0?`🎉 素晴らしい！${s.comprehensionImprovement.toFixed(1)}ポイント向上！${c}`:s.comprehensionImprovement===0?`✨ ${c}`:`💪 ${c}`})]})})]}),e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(K,{children:e.jsxs(oe,{className:"flex items-center",children:[e.jsx(ot,{className:"w-5 h-5 mr-2 text-purple-600"}),"学習の信頼度分析"]})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.confidenceScore.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"信頼度スコア"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.confidenceScore>=.8?"高信頼度":s.confidenceScore>=.6?"中信頼度":"要改善"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.actualLearningTime.toFixed(0),"分"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"総学習時間"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"実際に学習した時間"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[s.learningConsistency,"日"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"連続学習"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"学習の一貫性"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"💡 信頼度の説明"}),e.jsxs("div",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"学習時間"}),": 実際に学習した時間が長いほど信頼度が上がります"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"評価の一貫性"}),": 理解度評価が安定しているほど信頼度が上がります"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"継続性"}),": 連続学習日数が多いほど信頼度が上がります"]})]})]}),s.confidenceScore<.6&&e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"⚠️ 理解度評価の改善提案"}),e.jsxs("div",{className:"text-sm text-red-700 space-y-1",children:[e.jsxs("div",{children:["• 理解度評価は",e.jsx("strong",{children:"正直に"}),"行いましょう"]}),e.jsxs("div",{children:["• 分からない場合は",e.jsx("strong",{children:"星1-2"}),"を選んでください"]}),e.jsxs("div",{children:["• 低い評価でも",e.jsx("strong",{children:"復習の機会"}),"として活用できます"]}),e.jsxs("div",{children:["• 正確な評価が",e.jsx("strong",{children:"真の成長"}),"につながります"]})]})]})]})})]}),Object.keys(s.categoryProgress).length>0&&e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(K,{children:e.jsxs(oe,{className:"flex items-center",children:[e.jsx(Fe,{className:"w-5 h-5 mr-2 text-yellow-600"}),"分野別スキル向上"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(s.categoryProgress).map(([d,m])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium capitalize",children:d}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[m.count,"回学習"]}),e.jsxs(te,{variant:"secondary",children:["平均 ",m.avgRating.toFixed(1),"★"]})]})]}),e.jsx(je,{value:m.avgRating/5*100,className:"h-2"})]},d))})})]}),e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(K,{children:e.jsxs(oe,{className:"flex items-center",children:[e.jsx(He,{className:"w-5 h-5 mr-2 text-indigo-600"}),"学習の軌跡"]})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"初回学習"}),e.jsx("div",{className:"text-sm text-gray-600",children:t.preStudySessions?.[0]?new Date(t.preStudySessions[0].startTime).toLocaleDateString():"まだ学習していません"})]})]}),e.jsx(te,{variant:"outline",children:"スタート"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:s.totalStudyDays}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"現在の学習日数"}),e.jsx("div",{className:"text-sm text-gray-600",children:"継続的な学習を続けています"})]})]}),e.jsx(te,{variant:"default",children:"継続中"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"★"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"理解度向上"}),e.jsx("div",{className:"text-sm text-gray-600",children:s.comprehensionImprovement>0?`${s.comprehensionImprovement.toFixed(1)}ポイント向上`:"安定した理解度を維持"})]})]}),e.jsx(te,{variant:"secondary",children:s.comprehensionImprovement>0?"成長中":"安定"})]})]})})]}),e.jsx(C,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-0 shadow-lg",children:e.jsxs(I,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[e.jsx(Ve,{className:"w-5 h-5 mr-2 text-orange-600"}),"次の目標"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"英検1級レベル達成"}),e.jsx(je,{value:s.averageComprehension/5*100,className:"w-32 h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"連続学習30日"}),e.jsx(je,{value:t.currentStreak/30*100,className:"w-32 h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"総学習日100日"}),e.jsx(je,{value:s.totalStudyDays/100*100,className:"w-32 h-2"})]})]})]})})]})})}const In=Object.freeze(Object.defineProperty({__proto__:null,GrowthDashboard:Nt},Symbol.toStringTag,{value:"Module"}));function mt({className:t,...n}){return e.jsx("textarea",{"data-slot":"textarea",className:Be("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...n})}var Tn="Label",_t=r.forwardRef((t,n)=>e.jsx(Z.label,{...t,ref:n,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));_t.displayName=Tn;var St=_t;const An=wt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=r.forwardRef(({className:t,...n},a)=>e.jsx(St,{ref:a,className:me(An(),t),...n}));Ie.displayName=St.displayName;function xt(t,[n,a]){return Math.min(a,Math.max(n,t))}function Pn(t){const n=r.useRef({value:t,previous:t});return r.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var kt=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rn="VisuallyHidden",En=r.forwardRef((t,n)=>e.jsx(Z.span,{...t,ref:n,style:{...kt,...t.style}}));En.displayName=Rn;var Ln=[" ","Enter","ArrowUp","ArrowDown"],Dn=[" ","Enter"],ke="Select",[qe,$e,Mn]=us(ke),[Te]=hs(ke,[Mn,pt]),Ge=pt(),[On,_e]=Te(ke),[Vn,Hn]=Te(ke),Ct=t=>{const{__scopeSelect:n,children:a,open:s,defaultOpen:o,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:m,name:g,autoComplete:v,disabled:p,required:b,form:w}=t,h=Ge(n),[x,y]=r.useState(null),[f,N]=r.useState(null),[Y,O]=r.useState(!1),ce=Ss(m),[E,j]=at({prop:s,defaultProp:o??!1,onChange:i,caller:ke}),[L,J]=at({prop:l,defaultProp:c,onChange:d,caller:ke}),B=r.useRef(null),se=x?w||!!x.closest("form"):!0,[q,T]=r.useState(new Set),ie=Array.from(q).map($=>$.props.value).join(";");return e.jsx(ks,{...h,children:e.jsxs(On,{required:b,scope:n,trigger:x,onTriggerChange:y,valueNode:f,onValueNodeChange:N,valueNodeHasChildren:Y,onValueNodeHasChildrenChange:O,contentId:st(),value:L,onValueChange:J,open:E,onOpenChange:j,dir:ce,triggerPointerDownPosRef:B,disabled:p,children:[e.jsx(qe.Provider,{scope:n,children:e.jsx(Vn,{scope:t.__scopeSelect,onNativeOptionAdd:r.useCallback($=>{T(ne=>new Set(ne).add($))},[]),onNativeOptionRemove:r.useCallback($=>{T(ne=>{const ae=new Set(ne);return ae.delete($),ae})},[]),children:a})}),se?e.jsxs(Yt,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:v,value:L,onChange:$=>J($.target.value),disabled:p,form:w,children:[L===void 0?e.jsx("option",{value:""}):null,Array.from(q)]},ie):null]})})};Ct.displayName=ke;var It="SelectTrigger",Tt=r.forwardRef((t,n)=>{const{__scopeSelect:a,disabled:s=!1,...o}=t,i=Ge(a),l=_e(It,a),c=l.disabled||s,d=pe(n,l.onTriggerChange),m=$e(a),g=r.useRef("touch"),[v,p,b]=Jt(h=>{const x=m().filter(N=>!N.disabled),y=x.find(N=>N.value===l.value),f=es(x,h,y);f!==void 0&&l.onValueChange(f.value)}),w=h=>{c||(l.onOpenChange(!0),b()),h&&(l.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(ps,{asChild:!0,...i,children:e.jsx(Z.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Zt(l.value)?"":void 0,...o,ref:d,onClick:Q(o.onClick,h=>{h.currentTarget.focus(),g.current!=="mouse"&&w(h)}),onPointerDown:Q(o.onPointerDown,h=>{g.current=h.pointerType;const x=h.target;x.hasPointerCapture(h.pointerId)&&x.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(w(h),h.preventDefault())}),onKeyDown:Q(o.onKeyDown,h=>{const x=v.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(x&&h.key===" ")&&Ln.includes(h.key)&&(w(),h.preventDefault())})})})});Tt.displayName=It;var At="SelectValue",Pt=r.forwardRef((t,n)=>{const{__scopeSelect:a,className:s,style:o,children:i,placeholder:l="",...c}=t,d=_e(At,a),{onValueNodeHasChildrenChange:m}=d,g=i!==void 0,v=pe(n,d.onValueNodeChange);return Ne(()=>{m(g)},[m,g]),e.jsx(Z.span,{...c,ref:v,style:{pointerEvents:"none"},children:Zt(d.value)?e.jsx(e.Fragment,{children:l}):i})});Pt.displayName=At;var zn="SelectIcon",Rt=r.forwardRef((t,n)=>{const{__scopeSelect:a,children:s,...o}=t;return e.jsx(Z.span,{"aria-hidden":!0,...o,ref:n,children:s||"▼"})});Rt.displayName=zn;var Fn="SelectPortal",Et=t=>e.jsx(gs,{asChild:!0,...t});Et.displayName=Fn;var Ce="SelectContent",Lt=r.forwardRef((t,n)=>{const a=_e(Ce,t.__scopeSelect),[s,o]=r.useState();if(Ne(()=>{o(new DocumentFragment)},[]),!a.open){const i=s;return i?gt.createPortal(e.jsx(Dt,{scope:t.__scopeSelect,children:e.jsx(qe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Mt,{...t,ref:n})});Lt.displayName=Ce;var he=10,[Dt,Se]=Te(Ce),Bn="SelectContentImpl",qn=ws("SelectContent.RemoveScroll"),Mt=r.forwardRef((t,n)=>{const{__scopeSelect:a,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:p,collisionPadding:b,sticky:w,hideWhenDetached:h,avoidCollisions:x,...y}=t,f=_e(Ce,a),[N,Y]=r.useState(null),[O,ce]=r.useState(null),E=pe(n,u=>Y(u)),[j,L]=r.useState(null),[J,B]=r.useState(null),se=$e(a),[q,T]=r.useState(!1),ie=r.useRef(!1);r.useEffect(()=>{if(N)return vs(N)},[N]),ys();const $=r.useCallback(u=>{const[_,...H]=se().map(V=>V.ref.current),[S]=H.slice(-1),P=document.activeElement;for(const V of u)if(V===P||(V?.scrollIntoView({block:"nearest"}),V===_&&O&&(O.scrollTop=0),V===S&&O&&(O.scrollTop=O.scrollHeight),V?.focus(),document.activeElement!==P))return},[se,O]),ne=r.useCallback(()=>$([j,N]),[$,j,N]);r.useEffect(()=>{q&&ne()},[q,ne]);const{onOpenChange:ae,triggerPointerDownPosRef:le}=f;r.useEffect(()=>{if(N){let u={x:0,y:0};const _=S=>{u={x:Math.abs(Math.round(S.pageX)-(le.current?.x??0)),y:Math.abs(Math.round(S.pageY)-(le.current?.y??0))}},H=S=>{u.x<=10&&u.y<=10?S.preventDefault():N.contains(S.target)||ae(!1),document.removeEventListener("pointermove",_),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",_),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",H,{capture:!0})}}},[N,ae,le]),r.useEffect(()=>{const u=()=>ae(!1);return window.addEventListener("blur",u),window.addEventListener("resize",u),()=>{window.removeEventListener("blur",u),window.removeEventListener("resize",u)}},[ae]);const[ye,de]=Jt(u=>{const _=se().filter(P=>!P.disabled),H=_.find(P=>P.ref.current===document.activeElement),S=es(_,u,H);S&&setTimeout(()=>S.ref.current.focus())}),ge=r.useCallback((u,_,H)=>{const S=!ie.current&&!H;(f.value!==void 0&&f.value===_||S)&&(L(u),S&&(ie.current=!0))},[f.value]),k=r.useCallback(()=>N?.focus(),[N]),R=r.useCallback((u,_,H)=>{const S=!ie.current&&!H;(f.value!==void 0&&f.value===_||S)&&B(u)},[f.value]),G=s==="popper"?Ye:Ot,X=G===Ye?{side:c,sideOffset:d,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:p,collisionPadding:b,sticky:w,hideWhenDetached:h,avoidCollisions:x}:{};return e.jsx(Dt,{scope:a,content:N,viewport:O,onViewportChange:ce,itemRefCallback:ge,selectedItem:j,onItemLeave:k,itemTextRefCallback:R,focusSelectedItem:ne,selectedItemText:J,position:s,isPositioned:q,searchRef:ye,children:e.jsx(bs,{as:qn,allowPinchZoom:!0,children:e.jsx(js,{asChild:!0,trapped:f.open,onMountAutoFocus:u=>{u.preventDefault()},onUnmountAutoFocus:Q(o,u=>{f.trigger?.focus({preventScroll:!0}),u.preventDefault()}),children:e.jsx(Ns,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:u=>u.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(G,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:u=>u.preventDefault(),...y,...X,onPlaced:()=>T(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Q(y.onKeyDown,u=>{const _=u.ctrlKey||u.altKey||u.metaKey;if(u.key==="Tab"&&u.preventDefault(),!_&&u.key.length===1&&de(u.key),["ArrowUp","ArrowDown","Home","End"].includes(u.key)){let S=se().filter(P=>!P.disabled).map(P=>P.ref.current);if(["ArrowUp","End"].includes(u.key)&&(S=S.slice().reverse()),["ArrowUp","ArrowDown"].includes(u.key)){const P=u.target,V=S.indexOf(P);S=S.slice(V+1)}setTimeout(()=>$(S)),u.preventDefault()}})})})})})})});Mt.displayName=Bn;var $n="SelectItemAlignedPosition",Ot=r.forwardRef((t,n)=>{const{__scopeSelect:a,onPlaced:s,...o}=t,i=_e(Ce,a),l=Se(Ce,a),[c,d]=r.useState(null),[m,g]=r.useState(null),v=pe(n,E=>g(E)),p=$e(a),b=r.useRef(!1),w=r.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:y,focusSelectedItem:f}=l,N=r.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&m&&h&&x&&y){const E=i.trigger.getBoundingClientRect(),j=m.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),J=y.getBoundingClientRect();if(i.dir!=="rtl"){const P=J.left-j.left,V=L.left-P,xe=E.left-V,A=E.width+xe,U=Math.max(A,j.width),z=window.innerWidth-he,fe=xt(V,[he,Math.max(he,z-U)]);c.style.minWidth=A+"px",c.style.left=fe+"px"}else{const P=j.right-J.right,V=window.innerWidth-L.right-P,xe=window.innerWidth-E.right-V,A=E.width+xe,U=Math.max(A,j.width),z=window.innerWidth-he,fe=xt(V,[he,Math.max(he,z-U)]);c.style.minWidth=A+"px",c.style.right=fe+"px"}const B=p(),se=window.innerHeight-he*2,q=h.scrollHeight,T=window.getComputedStyle(m),ie=parseInt(T.borderTopWidth,10),$=parseInt(T.paddingTop,10),ne=parseInt(T.borderBottomWidth,10),ae=parseInt(T.paddingBottom,10),le=ie+$+q+ae+ne,ye=Math.min(x.offsetHeight*5,le),de=window.getComputedStyle(h),ge=parseInt(de.paddingTop,10),k=parseInt(de.paddingBottom,10),R=E.top+E.height/2-he,G=se-R,X=x.offsetHeight/2,u=x.offsetTop+X,_=ie+$+u,H=le-_;if(_<=R){const P=B.length>0&&x===B[B.length-1].ref.current;c.style.bottom="0px";const V=m.clientHeight-h.offsetTop-h.offsetHeight,xe=Math.max(G,X+(P?k:0)+V+ne),A=_+xe;c.style.height=A+"px"}else{const P=B.length>0&&x===B[0].ref.current;c.style.top="0px";const xe=Math.max(R,ie+h.offsetTop+(P?ge:0)+X)+H;c.style.height=xe+"px",h.scrollTop=_-R+h.offsetTop}c.style.margin=`${he}px 0`,c.style.minHeight=ye+"px",c.style.maxHeight=se+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[p,i.trigger,i.valueNode,c,m,h,x,y,i.dir,s]);Ne(()=>N(),[N]);const[Y,O]=r.useState();Ne(()=>{m&&O(window.getComputedStyle(m).zIndex)},[m]);const ce=r.useCallback(E=>{E&&w.current===!0&&(N(),f?.(),w.current=!1)},[N,f]);return e.jsx(Un,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:ce,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Y},children:e.jsx(Z.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Ot.displayName=$n;var Gn="SelectPopperPosition",Ye=r.forwardRef((t,n)=>{const{__scopeSelect:a,align:s="start",collisionPadding:o=he,...i}=t,l=Ge(a);return e.jsx(_s,{...l,...i,ref:n,align:s,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ye.displayName=Gn;var[Un,nt]=Te(Ce,{}),Ze="SelectViewport",Vt=r.forwardRef((t,n)=>{const{__scopeSelect:a,nonce:s,...o}=t,i=Se(Ze,a),l=nt(Ze,a),c=pe(n,i.onViewportChange),d=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(qe.Slot,{scope:a,children:e.jsx(Z.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Q(o.onScroll,m=>{const g=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:p}=l;if(p?.current&&v){const b=Math.abs(d.current-g.scrollTop);if(b>0){const w=window.innerHeight-he*2,h=parseFloat(v.style.minHeight),x=parseFloat(v.style.height),y=Math.max(h,x);if(y<w){const f=y+b,N=Math.min(w,f),Y=f-N;v.style.height=N+"px",v.style.bottom==="0px"&&(g.scrollTop=Y>0?Y:0,v.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});Vt.displayName=Ze;var Ht="SelectGroup",[Wn,Xn]=Te(Ht),Qn=r.forwardRef((t,n)=>{const{__scopeSelect:a,...s}=t,o=st();return e.jsx(Wn,{scope:a,id:o,children:e.jsx(Z.div,{role:"group","aria-labelledby":o,...s,ref:n})})});Qn.displayName=Ht;var zt="SelectLabel",Ft=r.forwardRef((t,n)=>{const{__scopeSelect:a,...s}=t,o=Xn(zt,a);return e.jsx(Z.div,{id:o.id,...s,ref:n})});Ft.displayName=zt;var ze="SelectItem",[Kn,Bt]=Te(ze),qt=r.forwardRef((t,n)=>{const{__scopeSelect:a,value:s,disabled:o=!1,textValue:i,...l}=t,c=_e(ze,a),d=Se(ze,a),m=c.value===s,[g,v]=r.useState(i??""),[p,b]=r.useState(!1),w=pe(n,f=>d.itemRefCallback?.(f,s,o)),h=st(),x=r.useRef("touch"),y=()=>{o||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Kn,{scope:a,value:s,disabled:o,textId:h,isSelected:m,onItemTextChange:r.useCallback(f=>{v(N=>N||(f?.textContent??"").trim())},[]),children:e.jsx(qe.ItemSlot,{scope:a,value:s,disabled:o,textValue:g,children:e.jsx(Z.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":m&&p,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:w,onFocus:Q(l.onFocus,()=>b(!0)),onBlur:Q(l.onBlur,()=>b(!1)),onClick:Q(l.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Q(l.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Q(l.onPointerDown,f=>{x.current=f.pointerType}),onPointerMove:Q(l.onPointerMove,f=>{x.current=f.pointerType,o?d.onItemLeave?.():x.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(l.onPointerLeave,f=>{f.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Q(l.onKeyDown,f=>{d.searchRef?.current!==""&&f.key===" "||(Dn.includes(f.key)&&y(),f.key===" "&&f.preventDefault())})})})})});qt.displayName=ze;var Re="SelectItemText",$t=r.forwardRef((t,n)=>{const{__scopeSelect:a,className:s,style:o,...i}=t,l=_e(Re,a),c=Se(Re,a),d=Bt(Re,a),m=Hn(Re,a),[g,v]=r.useState(null),p=pe(n,y=>v(y),d.onItemTextChange,y=>c.itemTextRefCallback?.(y,d.value,d.disabled)),b=g?.textContent,w=r.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=m;return Ne(()=>(h(w),()=>x(w)),[h,x,w]),e.jsxs(e.Fragment,{children:[e.jsx(Z.span,{id:d.textId,...i,ref:p}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?gt.createPortal(i.children,l.valueNode):null]})});$t.displayName=Re;var Gt="SelectItemIndicator",Ut=r.forwardRef((t,n)=>{const{__scopeSelect:a,...s}=t;return Bt(Gt,a).isSelected?e.jsx(Z.span,{"aria-hidden":!0,...s,ref:n}):null});Ut.displayName=Gt;var Je="SelectScrollUpButton",Wt=r.forwardRef((t,n)=>{const a=Se(Je,t.__scopeSelect),s=nt(Je,t.__scopeSelect),[o,i]=r.useState(!1),l=pe(n,s.onScrollButtonChange);return Ne(()=>{if(a.viewport&&a.isPositioned){let c=function(){const m=d.scrollTop>0;i(m)};const d=a.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),o?e.jsx(Qt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=a;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Wt.displayName=Je;var et="SelectScrollDownButton",Xt=r.forwardRef((t,n)=>{const a=Se(et,t.__scopeSelect),s=nt(et,t.__scopeSelect),[o,i]=r.useState(!1),l=pe(n,s.onScrollButtonChange);return Ne(()=>{if(a.viewport&&a.isPositioned){let c=function(){const m=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<m;i(g)};const d=a.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),o?e.jsx(Qt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=a;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Xt.displayName=et;var Qt=r.forwardRef((t,n)=>{const{__scopeSelect:a,onAutoScroll:s,...o}=t,i=Se("SelectScrollButton",a),l=r.useRef(null),c=$e(a),d=r.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),Ne(()=>{c().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(Z.div,{"aria-hidden":!0,...o,ref:n,style:{flexShrink:0,...o.style},onPointerDown:Q(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:Q(o.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:Q(o.onPointerLeave,()=>{d()})})}),Yn="SelectSeparator",Kt=r.forwardRef((t,n)=>{const{__scopeSelect:a,...s}=t;return e.jsx(Z.div,{"aria-hidden":!0,...s,ref:n})});Kt.displayName=Yn;var tt="SelectArrow",Zn=r.forwardRef((t,n)=>{const{__scopeSelect:a,...s}=t,o=Ge(a),i=_e(tt,a),l=Se(tt,a);return i.open&&l.position==="popper"?e.jsx(Cs,{...o,...s,ref:n}):null});Zn.displayName=tt;var Jn="SelectBubbleInput",Yt=r.forwardRef(({__scopeSelect:t,value:n,...a},s)=>{const o=r.useRef(null),i=pe(s,o),l=Pn(n);return r.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&g){const v=new Event("change",{bubbles:!0});g.call(c,n),c.dispatchEvent(v)}},[l,n]),e.jsx(Z.select,{...a,style:{...kt,...a.style},ref:i,defaultValue:n})});Yt.displayName=Jn;function Zt(t){return t===""||t===void 0}function Jt(t){const n=fs(t),a=r.useRef(""),s=r.useRef(0),o=r.useCallback(l=>{const c=a.current+l;n(c),(function d(m){a.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(c)},[n]),i=r.useCallback(()=>{a.current="",window.clearTimeout(s.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),[a,o,i]}function es(t,n,a){const o=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,i=a?t.indexOf(a):-1;let l=ea(t,Math.max(i,0));o.length===1&&(l=l.filter(m=>m!==a));const d=l.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==a?d:void 0}function ea(t,n){return t.map((a,s)=>t[(n+s)%t.length])}var ta=Ct,ts=Tt,sa=Pt,na=Rt,aa=Et,ss=Lt,ra=Vt,ns=Ft,as=qt,oa=$t,ia=Ut,rs=Wt,os=Xt,is=Kt;const We=ta,Xe=sa,Me=r.forwardRef(({className:t,children:n,...a},s)=>e.jsxs(ts,{ref:s,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[n,e.jsx(na,{asChild:!0,children:e.jsx(bt,{className:"h-4 w-4 opacity-50"})})]}));Me.displayName=ts.displayName;const ls=r.forwardRef(({className:t,...n},a)=>e.jsx(rs,{ref:a,className:me("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Bs,{className:"h-4 w-4"})}));ls.displayName=rs.displayName;const cs=r.forwardRef(({className:t,...n},a)=>e.jsx(os,{ref:a,className:me("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(bt,{className:"h-4 w-4"})}));cs.displayName=os.displayName;const Oe=r.forwardRef(({className:t,children:n,position:a="popper",...s},o)=>e.jsx(aa,{children:e.jsxs(ss,{ref:o,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...s,children:[e.jsx(ls,{}),e.jsx(ra,{className:me("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(cs,{})]})}));Oe.displayName=ss.displayName;const la=r.forwardRef(({className:t,...n},a)=>e.jsx(ns,{ref:a,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));la.displayName=ns.displayName;const re=r.forwardRef(({className:t,children:n,...a},s)=>e.jsxs(as,{ref:s,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ia,{children:e.jsx(qs,{className:"h-4 w-4"})})}),e.jsx(oa,{children:n})]}));re.displayName=as.displayName;const ca=r.forwardRef(({className:t,...n},a)=>e.jsx(is,{ref:a,className:me("-mx-1 my-1 h-px bg-muted",t),...n}));ca.displayName=is.displayName;const da=({onClose:t})=>{const[n,a]=r.useState({userLevel:"",learningMode:"",feedback:"",rating:"",suggestions:""}),s=async o=>{o.preventDefault();const i=new FormData;i.append("form-name","learning-feedback"),Object.entries(n).forEach(([l,c])=>{i.append(l,c)});try{await fetch("/",{method:"POST",body:i}),alert("フィードバックを送信しました！ありがとうございます。"),t()}catch(l){console.error("Error submitting feedback:",l),alert("送信に失敗しました。もう一度お試しください。")}};return e.jsxs(C,{className:"w-full max-w-md",children:[e.jsx(K,{children:e.jsx(oe,{children:"学習フィードバック"})}),e.jsx(I,{children:e.jsxs("form",{name:"learning-feedback",onSubmit:s,children:[e.jsx("input",{type:"hidden",name:"form-name",value:"learning-feedback"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ie,{htmlFor:"userLevel",children:"現在のレベル"}),e.jsxs(We,{value:n.userLevel,onValueChange:o=>a(i=>({...i,userLevel:o})),children:[e.jsx(Me,{children:e.jsx(Xe,{placeholder:"レベルを選択"})}),e.jsxs(Oe,{children:[e.jsx(re,{value:"beginner",children:"初級"}),e.jsx(re,{value:"intermediate",children:"中級"}),e.jsx(re,{value:"advanced",children:"上級"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ie,{htmlFor:"learningMode",children:"お気に入りの学習モード"}),e.jsxs(We,{value:n.learningMode,onValueChange:o=>a(i=>({...i,learningMode:o})),children:[e.jsx(Me,{children:e.jsx(Xe,{placeholder:"学習モードを選択"})}),e.jsxs(Oe,{children:[e.jsx(re,{value:"vocabulary",children:"語彙学習"}),e.jsx(re,{value:"grammar",children:"文法クイズ"}),e.jsx(re,{value:"combined",children:"総合テスト"}),e.jsx(re,{value:"time-attack",children:"タイムアタック"}),e.jsx(re,{value:"tower-defense",children:"タワーディフェンス"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ie,{htmlFor:"rating",children:"満足度"}),e.jsxs(We,{value:n.rating,onValueChange:o=>a(i=>({...i,rating:o})),children:[e.jsx(Me,{children:e.jsx(Xe,{placeholder:"満足度を選択"})}),e.jsxs(Oe,{children:[e.jsx(re,{value:"5",children:"とても満足"}),e.jsx(re,{value:"4",children:"満足"}),e.jsx(re,{value:"3",children:"普通"}),e.jsx(re,{value:"2",children:"不満"}),e.jsx(re,{value:"1",children:"とても不満"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ie,{htmlFor:"feedback",children:"学習体験のフィードバック"}),e.jsx(mt,{id:"feedback",placeholder:"学習体験について教えてください...",value:n.feedback,onChange:o=>a(i=>({...i,feedback:o.target.value})),rows:4})]}),e.jsxs("div",{children:[e.jsx(Ie,{htmlFor:"suggestions",children:"改善提案"}),e.jsx(mt,{id:"suggestions",placeholder:"改善してほしい点や追加してほしい機能があれば教えてください...",value:n.suggestions,onChange:o=>a(i=>({...i,suggestions:o.target.value})),rows:3})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(M,{type:"submit",className:"flex-1",children:"送信"}),e.jsx(M,{type:"button",variant:"outline",onClick:t,children:"キャンセル"})]})]})]})})]})},ma=({showDetailed:t=!0,showChapterProgress:n=!0,compact:a=!1})=>{const[s,o]=r.useState(()=>D().getLevel()),[i,l]=r.useState(()=>D().getChapterProgress());r.useEffect(()=>{const m=D(),g=m.getLevel(),v=m.getChapterProgress();o(g),l(v)},[]);const c=m=>({1:"bg-green-500",2:"bg-blue-500",3:"bg-purple-500",4:"bg-orange-500",5:"bg-red-500"})[m],d=m=>({1:"from-green-400 to-green-600",2:"from-blue-400 to-blue-600",3:"from-purple-400 to-purple-600",4:"from-orange-400 to-orange-600",5:"from-red-400 to-red-600"})[m];return a?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-full ${c(s.chapter)} text-foreground flex items-center justify-center text-sm font-bold`,children:s.chapter}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Level ",s.level]}),e.jsx("div",{className:"text-xs text-gray-500",children:we[s.chapter].name})]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Level ",s.level]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",s.xp-(s.level-1)*50,"/50 XP)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${d(s.chapter)}`,style:{width:`${(s.xp-(s.level-1)*50)/50*100}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["次レベルまで: ",50-(s.xp-(s.level-1)*50),"XP"]})]})})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"レベル情報"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${c(s.chapter)} text-foreground flex items-center justify-center text-lg font-bold`,children:s.chapter}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"章"}),e.jsx("div",{className:"text-xs text-gray-400",children:we[s.chapter].name})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-lg font-medium text-gray-700",children:["Level ",s.level]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.xp," XP"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${d(s.chapter)} transition-all duration-500`,style:{width:`${s.progress}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsxs("span",{children:["進捗: ",s.progress.toFixed(1),"%"]}),e.jsxs("span",{children:["次のレベルまで: ",s.xpToNext," XP"]})]})]}),n&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[we[s.chapter].name,"の進捗"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[i.progress.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${d(s.chapter)} transition-all duration-500`,style:{width:`${i.progress}%`}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:we[s.chapter].description})]}),t&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"章"}),e.jsx("div",{className:"font-medium",children:we[s.chapter].name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"レベル範囲"}),e.jsx("div",{className:"font-medium",children:we[s.chapter].levelRange})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"必要XP/レベル"}),e.jsxs("div",{className:"font-medium",children:[we[s.chapter].xpPerLevel," XP"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"最大ハート数"}),e.jsxs("div",{className:"font-medium",children:[we[s.chapter].maxHearts,"個"]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{const m=D(),g=m.addXP(100);o(m.getLevel()),ee(),g.leveledUp&&alert(`レベルアップ！ Level ${g.newLevel?.level} に上がりました！`)},className:"px-3 py-1 rounded-md text-xs font-medium bg-blue-500 text-foreground hover:bg-blue-600 transition-colors",title:"テスト用: 100XP追加",children:"+100XP"}),e.jsx("button",{onClick:()=>{const m=D(),g=m.addXP(500);o(m.getLevel()),ee(),g.leveledUp&&alert(`レベルアップ！ Level ${g.newLevel?.level} に上がりました！`)},className:"px-3 py-1 rounded-md text-xs font-medium bg-purple-500 text-foreground hover:bg-purple-600 transition-colors",title:"テスト用: 500XP追加",children:"+500XP"}),e.jsx("button",{onClick:()=>{const m=D();m.addXP(1e3),o(m.getLevel()),ee(),alert("1000XP追加しました！")},className:"px-3 py-1 rounded-md text-xs font-medium bg-orange-500 text-foreground hover:bg-orange-600 transition-colors",title:"テスト用: 1000XP追加",children:"+1000XP"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※ テスト用ボタンです"})]})]})]})]})},xa=wt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ha({className:t,variant:n,...a}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:Be(xa({variant:n}),t),...a})}function ua({className:t,...n}){return e.jsx("div",{"data-slot":"alert-description",className:Be("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...n})}var pa="Separator",ht="horizontal",ga=["horizontal","vertical"],ds=r.forwardRef((t,n)=>{const{decorative:a,orientation:s=ht,...o}=t,i=fa(s)?s:ht,c=a?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(Z.div,{"data-orientation":i,...c,...o,ref:n})});ds.displayName=pa;function fa(t){return ga.includes(t)}var va=ds;function ut({className:t,orientation:n="horizontal",decorative:a=!0,...s}){return e.jsx(va,{"data-slot":"separator-root",decorative:a,orientation:n,className:Be("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}const ya=({onAllocationChange:t,readOnly:n=!1})=>{const[a,s]=r.useState(()=>{try{return D().getStatusAllocation()}catch(x){return console.error("Failed to get status allocation:",x),{listening:5,reading:5,writing:5,grammar:5,idioms:5,vocabulary:5}}}),[o,i]=r.useState(!0),[l,c]=r.useState("");r.useEffect(()=>{const x=$s(a);i(x),t?.(a)},[a]);const d=(x,y)=>{const f={...a,[x]:Math.max(0,Math.min(30,y))};s(f)},m=x=>{const y=Ue[x];s({...y}),c(x)},g=()=>{s({...Ue.balanced}),c("balanced")},v=()=>Object.values(a).reduce((x,y)=>x+y,0),p=()=>30-v(),b=x=>a[x]/30*100,w=["listening","reading","writing","grammar","idioms","vocabulary"],h={balanced:"バランス型",vocabulary:"語彙重視型",practical:"実践重視型",grammar:"文法強化型"};return n?e.jsxs(C,{className:"shadow-md",children:[e.jsx(K,{children:e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ke,{className:"w-5 h-5"}),"現在のステータス配分"]})}),e.jsxs(I,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:w.map(x=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:Pe[x].icon}),e.jsx("span",{className:"text-sm font-medium",children:Pe[x].name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{value:b(x),className:"w-24 h-2"}),e.jsxs(te,{variant:"outline",className:"text-xs font-mono w-12 justify-center",children:[a[x],"pt"]})]})]},x))}),e.jsx(ut,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"合計ポイント"}),e.jsxs(te,{variant:"secondary",className:"font-mono",children:[v(),"/30pt"]})]})]})]}):e.jsxs(C,{className:"shadow-md",children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ke,{className:"w-5 h-5"}),"ステータス配分"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"残りポイント"}),e.jsx(te,{variant:p()<0?"destructive":"secondary",className:"font-mono",children:p()})]})]})}),e.jsxs(I,{className:"space-y-6",children:[!o&&e.jsxs(ha,{variant:"destructive",children:[e.jsx(Gs,{className:"h-4 w-4"}),e.jsx(ua,{children:"合計が30ポイントになるように調整してください。"})]}),e.jsx("div",{className:"space-y-4",children:w.map(x=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:Pe[x].icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:Pe[x].name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Pe[x].description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Us,{type:"number",min:"0",max:"30",value:a[x],onChange:y=>d(x,parseInt(y.target.value)||0),className:"w-16 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"pt"})]})]}),e.jsx(je,{value:b(x),className:"h-2"})]},x))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"合計ポイント"}),e.jsxs(te,{variant:v()===30?"default":"destructive",className:"font-mono",children:[v(),"/30pt"]})]}),e.jsx(ut,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"テンプレート"}),e.jsxs(M,{onClick:g,variant:"ghost",size:"sm",className:"text-xs h-auto p-1",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"リセット"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Ue).map(([x,y])=>e.jsx(M,{onClick:()=>m(x),variant:l===x?"default":"outline",size:"sm",className:"text-xs",children:h[x]},x))})]}),e.jsx(M,{onClick:()=>{D().updateStatusAllocation(a),ee()},disabled:!o,className:"w-full",size:"lg",children:"配分を保存"})]})]})]})},ms=({content:t,onComplete:n,onBack:a,onNavigateToPractice:s})=>{const[o,i]=r.useState(0),[l,c]=r.useState(!1),d=()=>{c(!0)},m=()=>{const v=o>0?o:3;n(t.id,v),s&&s(t.category)},g=(v,p)=>e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(b=>e.jsx("button",{onClick:()=>p(b),className:`text-2xl ${b<=v?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:"★"},b))});return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(C,{className:"shadow-lg",children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✨"}),e.jsx(oe,{className:"text-2xl text-gray-900 mb-2",children:"学習完了！"}),e.jsx("h3",{className:"text-lg text-gray-700",children:t.title})]}),e.jsxs(I,{className:"space-y-6",children:[e.jsx(C,{className:"bg-blue-50 border-blue-200",children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"}),e.jsxs("span",{children:["推定時間: ",Math.ceil(t.duration/60),"分"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{variant:"outline",children:t.category}),e.jsxs(te,{variant:"outline",children:["Level ",t.level]})]})]})})}),e.jsxs(C,{children:[e.jsx(K,{children:e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(it,{className:"w-5 h-5 text-yellow-600"}),"理解度を評価してください（任意）"]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g(o,i),e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[o===0&&"評価なしでも問題演習に進めます",o===5&&"完全に理解できました！",o===4&&"ほぼ理解できました",o===3&&"何となく理解できました",o===2&&"少し理解できました",o===1&&"あまり理解できませんでした"]})]})})]}),e.jsx(C,{className:"bg-green-50 border-green-200",children:e.jsxs(I,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ve,{className:"w-5 h-5 text-green-600"}),e.jsx("h5",{className:"font-semibold text-green-800",children:"関連問題で実践してみませんか？"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"今学んだ内容を問題演習で定着させましょう。"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{onClick:m,className:"flex-1",size:"lg",children:"♥ 問題演習へ"}),e.jsx(M,{onClick:a,variant:"outline",className:"flex-1",size:"lg",children:"他の学習"})]})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(C,{className:"shadow-lg",children:[e.jsx(K,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:a,children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx(oe,{className:"text-xl",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(te,{variant:"outline",className:"text-xs",children:["Level ",t.level]}),e.jsx(te,{variant:"outline",className:"text-xs",children:t.category}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[e.jsx(He,{className:"w-3 h-3"}),Math.ceil(t.duration/60),"分"]})]})]})]})]})})}),e.jsxs(I,{className:"space-y-6",children:[e.jsx(C,{className:"bg-gray-50",children:e.jsx(I,{className:"p-4",children:e.jsx("div",{className:"prose prose-blue max-w-none",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content.replace(/\n/g,"<br>")}})})})}),t.examples&&t.examples.length>0&&e.jsxs(C,{className:"bg-yellow-50 border-yellow-200",children:[e.jsx(K,{className:"pb-3",children:e.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[e.jsx(it,{className:"w-5 h-5 text-yellow-600"}),"例文"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:t.examples.map((v,p)=>e.jsx(C,{className:"bg-white",children:e.jsxs(I,{className:"p-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:v.english}),e.jsx("div",{className:"text-gray-600 text-sm mt-1",children:v.japanese}),v.explanation&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[e.jsx(ft,{className:"w-3 h-3"}),v.explanation]})]})},p))})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(M,{onClick:d,size:"lg",className:"px-8",children:"✓ 学習完了"})})]})]})})})},ba=Object.freeze(Object.defineProperty({__proto__:null,PreStudyContentViewer:ms},Symbol.toStringTag,{value:"Module"}));function ue({id:t,title:n,description:a,detail:s,icon:o,difficulty:i,level:l,color:c="bg-white border-gray-200",isLocked:d=!1,isCompleted:m=!1,isRecommended:g=!1,duration:v,category:p,keyPoints:b,onClick:w}){const h=y=>{switch(y){case"初級":case"beginner":return"bg-green-100 text-green-800 border-green-200";case"初〜中級":case"intermediate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"中級":return"bg-orange-100 text-orange-800 border-orange-200";case"上級":case"advanced":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=me("cursor-pointer transition-all duration-200 border-2 hover:shadow-lg active:scale-[0.98]",d&&"cursor-not-allowed opacity-60",m&&"border-green-300 bg-green-50",g&&"ring-2 ring-blue-400 ring-opacity-50",!d&&!m&&c,d&&"bg-gray-50 border-gray-200");return e.jsxs(C,{className:x,onClick:()=>!d&&w(t),children:[e.jsxs(K,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx("span",{className:"text-lg",children:o}),e.jsx(oe,{className:"text-lg",children:n}),m&&e.jsx("span",{className:"text-green-600",children:"✓"}),d&&e.jsx("span",{className:"text-gray-400",children:"🔒"})]}),e.jsxs("div",{className:"flex gap-2",children:[i&&e.jsx(te,{variant:"outline",className:me("text-xs",h(i)),children:i}),l&&e.jsxs(te,{variant:"outline",className:"text-xs",children:["Level ",l]})]})]}),e.jsx(Qs,{className:d?"text-gray-400":"",children:a})]}),e.jsxs(I,{className:"space-y-3",children:[s&&e.jsx("p",{className:me("text-sm",d?"text-gray-400":"text-gray-600"),children:s}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[v&&e.jsxs("span",{className:"flex items-center gap-1",children:["⏱️ ",v]}),p&&e.jsx("span",{className:"capitalize",children:p})]}),b&&b.length>0&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{className:"font-medium mb-1",children:"重要ポイント:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:b.slice(0,2).map((y,f)=>e.jsx("li",{className:"truncate",children:y},f))})]}),g&&e.jsx("div",{className:"flex items-center gap-1 text-sm font-medium text-blue-600",children:"🎯 推奨コンテンツ"})]})]})}function wa(){const t=Ks(),{userLevel:n,refreshLevel:a}=an(),{heartSystem:s,processRecovery:o,refreshHearts:i}=nn(),l=()=>{i()},[c,d]=r.useState(be.getUserStats()),[m,g]=r.useState(!1),[v,p]=r.useState(!1),[b,w]=r.useState(!1),[h,x]=r.useState(!1),[y,f]=r.useState(!1),[N,Y]=r.useState(""),[O,ce]=r.useState("beginner"),[E,j]=r.useState(!1),[L,J]=r.useState(!1),[B,se]=r.useState(()=>{const A=be.getUserStats();return A.stars?{current:De(A.stars),max:A.stars.max,lastRecoveryTime:A.stars.lastRecoveryTime}:dn(n.level)}),[q,T]=r.useState(()=>be.getUserStats().preStudyProgress||{totalContentsStudied:0,contentsByCategory:{},averageComprehension:0,totalTimeSpent:0,completedContents:[]}),[ie,$]=r.useState(()=>be.getUserStats().preStudySessions||[]),[ne,ae]=r.useState(!1),[le,ye]=r.useState(null);r.useEffect(()=>{(()=>{const z=be.getUserStats();d(z),a(),z.stars&&se({current:De(z.stars),max:z.stars.max,lastRecoveryTime:z.stars.lastRecoveryTime}),z.preStudyProgress&&T(z.preStudyProgress),z.preStudySessions&&$(z.preStudySessions)})();const U=setInterval(()=>{o();const z=be.getUserStats();if(z.stars){const fe=De(z.stars);if(fe>z.stars.current){const Ae={...z,stars:{...z.stars,current:fe,lastRecoveryTime:Date.now()}};be.saveUserStats(Ae),se(Ae.stars)}}},6e4);return()=>clearInterval(U)},[]);const de=A=>{switch(A){case"grammar":t("/learning/grammar/category");break;case"vocabulary":t("/learning/vocabulary/difficulty");break;case"writing":t("/learning/grammar/category");break;case"combined":t("/learning/combined-test");break;case"timeattack":t("/learning/time-attack");break}},ge=A=>{Y(A),w(!1),x(!0)},k=A=>{ce(A),x(!1),f(!0)},R=()=>{f(!1),x(!1),w(!1)},G=()=>{x(!1),w(!0)},X=()=>{w(!1)},u=s.current>0,_=()=>{t("/learning/pre-study/menu")},H=(A,U)=>{const z={contentId:A,startTime:Date.now()-18e4,endTime:Date.now(),completed:!0,comprehensionRating:U},fe={...q,totalContentsStudied:q.totalContentsStudied+1,completedContents:[...q.completedContents,A],averageComprehension:(q.averageComprehension*q.totalContentsStudied+U)/(q.totalContentsStudied+1),totalTimeSpent:q.totalTimeSpent+3,lastStudiedContentId:A},Ae=[...ie,z];T(fe),$(Ae);const xs={...c,preStudyProgress:fe,preStudySessions:Ae};be.saveUserStats(xs),ae(!1),ye(null),setShowPreStudyMenu(!1)},S=()=>{ae(!1),ye(null)},P=A=>{switch(A){case"grammar":w(!0);break;case"vocabulary":onNavigateToVocabulary();break;case"listening":onNavigateToVocabulary();break;case"reading":onNavigateToVocabulary();break;case"writing":onNavigateToVocabulary();break;default:w(!0);break}},V=()=>{t("/progress/dashboard")},xe=()=>{J(!1)};return r.useEffect(()=>{const A=setInterval(()=>{l()},1e3);return()=>clearInterval(A)},[]),L?e.jsx(Nt,{userStats:c,onBack:xe}):ne&&le?e.jsx(ms,{content:le,onComplete:H,onBack:S,onNavigateToPractice:P}):b?e.jsx(kn,{onSelectCategory:ge,onBack:X}):h?e.jsx(Cn,{categoryName:N,onSelectDifficulty:k,onBack:G}):y?e.jsx(jt,{category:N,difficulty:O,onBack:R}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"ENTP英語学習アプリ"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"あなたの英語学習をサポートします"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>g(!m),className:"flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:m?"統計を隠す":"統計を表示"}),e.jsx("span",{className:"sm:hidden",children:"統計"})]}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>p(!v),className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"ステータス設定"}),e.jsx("span",{className:"sm:hidden",children:"設定"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ma,{showDetailed:m,showChapterProgress:m})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"体力システム"}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"体力"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:s.max},(A,U)=>e.jsx("span",{className:`text-2xl ${U<s.current?"text-red-500":"text-gray-300"}`,children:U<s.current?"♥":"♡"},U))}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["(",s.current,"/",s.max,")"]})]})}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"スタミナ"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:B.max},(A,U)=>e.jsx("span",{className:`text-2xl ${U<B.current?"text-yellow-500":"text-gray-300"}`,children:U<B.current?"⭐️":"☆"},U))}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["(",B.current,"/",B.max,")"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"1問題につき1体力消費"}),e.jsx("p",{className:"text-xs text-gray-500",children:"5分で1体力回復"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{D().consumeHeart(),l(),ee()},className:"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded",disabled:s.current===0,children:"体力を消費"}),e.jsx("button",{onClick:()=>{const U=D().getHeartSystem();U.current=U.max,l(),ee()},className:"px-2 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-700 rounded",children:"♥回復"})]})]})]})})]}),v&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsx(ya,{})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(ue,{id:"pre-study",title:"事前学習",description:"理論を理解してから実践へ",icon:"⭐️",difficulty:"理論",detail:"必要スター: 1 ⭐️",color:"bg-purple-50 border-purple-200 text-purple-800",isLocked:!ct(B),onClick:()=>ct(B)&&_()}),e.jsx(ue,{id:"grammar-quiz",title:"文法クイズ",description:"9つのカテゴリーから文法問題に挑戦",icon:"✏️",difficulty:"文法",detail:"必要体力: 1 ♥",color:"bg-blue-50 border-blue-200 text-blue-800",isLocked:!u,onClick:()=>u&&de("grammar")}),e.jsx(ue,{id:"vocabulary",title:"語彙学習",description:"レベル別・カテゴリー別の単語学習",icon:"📚",difficulty:"語彙",detail:"必要体力: 1 ♥",color:"bg-green-50 border-green-200 text-green-800",isLocked:!u,onClick:()=>u&&de("vocabulary")}),e.jsx(ue,{id:"combined-test",title:"総合テスト",description:"全分野から出題される総合テスト",icon:"🎯",difficulty:"総合",detail:"必要体力: 1 ♥",color:"bg-purple-50 border-purple-200 text-purple-800",isLocked:!u,onClick:()=>u&&de("combined")}),e.jsx(ue,{id:"time-attack",title:"タイムアタック",description:"制限時間内で問題を解くスピード重視モード",icon:"⏰",difficulty:"スピード",detail:"必要体力: 1 ♥",color:"bg-orange-50 border-orange-200 text-orange-800",isLocked:!u,onClick:()=>u&&de("timeattack")}),e.jsx(ue,{id:"essay",title:"英作文",description:"文法カテゴリー別の4択英作文問題",icon:"✍️",difficulty:"ライティング",detail:"必要体力: 1 ♥",color:"bg-indigo-50 border-indigo-200 text-indigo-800",isLocked:!u,onClick:()=>u&&de("writing")}),e.jsx(ue,{id:"tower-defense",title:"タワーディフェンス",description:"英語学習要素を含むタワーディフェンスゲーム",icon:"🎮",difficulty:"ゲーム",detail:"体力不要",color:"bg-red-50 border-red-200 text-red-800",onClick:()=>t("/games/tower-defense")}),e.jsx(ue,{id:"gacha",title:"TOEIC単語ガチャ",description:"新しい単語をゲット！レアカードを集めよう",icon:"🎁",difficulty:"ガチャ",detail:"XP消費",color:"bg-purple-50 border-purple-200 text-purple-800",onClick:()=>t("/games/gacha")}),e.jsx(ue,{id:"achievements",title:"実績",description:"学習の進捗とアチーブメントを確認",icon:"🏆",difficulty:"進捗",detail:"体力不要",color:"bg-yellow-50 border-yellow-200 text-yellow-800",onClick:()=>t("/progress/achievements")}),e.jsx(ue,{id:"growth-dashboard",title:"成長ダッシュボード",description:"あなたの学習成長を可視化",icon:"📈",difficulty:"分析",detail:"体力不要",color:"bg-green-50 border-green-200 text-green-800",onClick:()=>V()})]}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs(M,{variant:"outline",onClick:()=>j(!0),className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsx("span",{children:"学習フィードバック"})]})}),m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"今日のXP"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.todayXP||0})]}),e.jsx(vt,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"総学習時間"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Math.floor((c.totalStudyTime||0)/60),"分"]})]}),e.jsx(He,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"正解率"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[c.totalQuestionsAnswered>0?(c.correctAnswers/c.totalQuestionsAnswered*100).toFixed(1):"0.0","%"]})]}),e.jsx(Ve,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"連続学習日数"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[c.currentStreak||0,"日"]})]}),e.jsx(Ws,{className:"w-8 h-8 text-orange-600"})]})})})]}),!u&&e.jsx(C,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-yellow-800",children:"体力が不足しています"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"体力が回復するまで待つか、他の機能を利用してください。"})]})]})})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(da,{onClose:()=>j(!1)})})})]})})}function ja(){const{pathname:t}=Ys();return r.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),null}function Na({message:t="読み込み中...",className:n=""}){return e.jsx("div",{className:`min-h-screen p-4 flex items-center justify-center ${n}`,children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs(I,{className:"p-8 text-center space-y-4",children:[e.jsx(Xs,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:t}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"コンポーネントを読み込んでいます"})]})]})})})}const _a=r.lazy(()=>W(()=>import("./CategorySelection-7Y04LXd7.js"),__vite__mapDeps([0,1,2,3,4,5]))),Sa=r.lazy(()=>W(()=>import("./DifficultySelection-D_ZakvJY.js"),__vite__mapDeps([6,1,2,3,4,5]))),ka=r.lazy(()=>W(()=>import("./Question-DZg4-Mhr.js"),__vite__mapDeps([7,1,2,3,4,5]))),Ca=r.lazy(()=>W(()=>import("./Results-CaZWkaav.js"),__vite__mapDeps([8,1,2,3,5,4]))),Ia=r.lazy(()=>W(()=>import("./VocabularyCategorySelection-CQr_ubeK.js"),__vite__mapDeps([9,1,2,3,4,5]))),Ta=r.lazy(()=>W(()=>import("./VocabularyDifficultySelection-nMzSnLwP.js"),__vite__mapDeps([10,1,2,3,4,5]))),Aa=r.lazy(()=>W(()=>import("./learning-13Go7wUu.js").then(t=>t.a4),__vite__mapDeps([4,1,2,3,5]))),Pa=r.lazy(()=>W(()=>Promise.resolve().then(()=>Sn),void 0)),Ra=r.lazy(()=>W(()=>import("./learning-13Go7wUu.js").then(t=>t.a5),__vite__mapDeps([4,1,2,3,5]))),Ea=r.lazy(()=>W(()=>import("./TimeAttackMode-CDvaQWsl.js"),__vite__mapDeps([11,1,2,4,3,5]))),La=r.lazy(()=>W(()=>import("./game-DNOgwd-m.js").then(t=>t.S),__vite__mapDeps([3,1,2]))),Da=r.lazy(()=>W(()=>import("./GachaSystem-BX_pS_K5.js"),__vite__mapDeps([12,1,2,3,13,5,4,14]))),Ma=r.lazy(()=>W(()=>import("./GachaResultScreen-Bpu4_zm-.js"),__vite__mapDeps([15,1,2,3,14,4,5]))),Oa=r.lazy(()=>W(()=>import("./progress-BvHZoEqe.js").then(t=>t.A),__vite__mapDeps([5,1,2,3,4]))),Va=r.lazy(()=>W(()=>import("./AppSettings-DKFmD0_b.js"),__vite__mapDeps([16,1,2,3,5,4,17]))),Ha=r.lazy(()=>W(()=>import("./PreStudyMenu-FmeV95ET.js"),__vite__mapDeps([18,1,2,3,4,5]))),za=r.lazy(()=>W(()=>Promise.resolve().then(()=>ba),void 0)),Fa=r.lazy(()=>W(()=>Promise.resolve().then(()=>In),void 0)),Ba=r.lazy(()=>W(()=>import("./CardDetailContent-BvZecDZH.js"),__vite__mapDeps([19,1,2,13,3,4,5])));function qa(){return e.jsxs(Zs,{children:[e.jsx(ja,{}),e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx(r.Suspense,{fallback:e.jsx(Na,{}),children:e.jsxs(Js,{children:[e.jsx(F,{path:"/",element:e.jsx(wa,{})}),e.jsx(F,{path:"/learning/vocabulary/difficulty",element:e.jsx(Ta,{})}),e.jsx(F,{path:"/learning/vocabulary/category",element:e.jsx(Ia,{})}),e.jsx(F,{path:"/learning/vocabulary/study/:difficulty/:category",element:e.jsx(Aa,{})}),e.jsx(F,{path:"/learning/grammar/category",element:e.jsx(_a,{})}),e.jsx(F,{path:"/learning/grammar/difficulty/:category",element:e.jsx(Sa,{})}),e.jsx(F,{path:"/learning/grammar/quiz/:category/:difficulty",element:e.jsx(Pa,{})}),e.jsx(F,{path:"/learning/grammar/question/:category/:difficulty",element:e.jsx(ka,{})}),e.jsx(F,{path:"/learning/grammar/results/:category/:difficulty",element:e.jsx(Ca,{})}),e.jsx(F,{path:"/learning/pre-study/menu",element:e.jsx(Ha,{})}),e.jsx(F,{path:"/learning/pre-study/content/:contentId",element:e.jsx(za,{})}),e.jsx(F,{path:"/learning/combined-test",element:e.jsx(Ra,{})}),e.jsx(F,{path:"/learning/time-attack",element:e.jsx(Ea,{})}),e.jsx(F,{path:"/games/tower-defense",element:e.jsx(La,{})}),e.jsx(F,{path:"/games/gacha",element:e.jsx(Da,{})}),e.jsx(F,{path:"/games/gacha/result",element:e.jsx(Ma,{})}),e.jsx(F,{path:"/games/gacha/card/:cardId",element:e.jsx(Ba,{})}),e.jsx(F,{path:"/progress/achievements",element:e.jsx(Oa,{})}),e.jsx(F,{path:"/progress/dashboard",element:e.jsx(Fa,{})}),e.jsx(F,{path:"/settings/app",element:e.jsx(Va,{})}),e.jsx(F,{path:"*",element:e.jsx(en,{to:"/",replace:!0})})]})})})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});sn.createRoot(document.getElementById("root")).render(e.jsx(qa,{}));export{Ie as L,ue as S,mt as T,ut as a,We as b,Me as c,Xe as d,Oe as e,re as f,Pn as u};
