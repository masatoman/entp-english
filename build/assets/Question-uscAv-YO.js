import{j as e,r as j}from"./ui-C48fKjuK.js";import{d as w,B as x,b as t,P as C,C as y,c as S,f as A,a as k}from"./game-DhYA9e1X.js";import{R as n}from"./index-NpZQEt4n.js";import{A as z}from"./learning-CJqkZPhv.js";import"./vendor-D3F3s8fL.js";import"./progress-Bh7B1qMw.js";function L({className:a,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:w("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...r})}const B={"basic-grammar":"基本文型",tenses:"時制",modals:"助動詞",passive:"受動態",relative:"関係詞",subjunctive:"仮定法",comparison:"比較",participle:"分詞・動名詞",infinitive:"不定詞"},E={easy:"簡単",normal:"普通",hard:"難しい"};function K({question:a,questionNumber:r,totalQuestions:c,difficulty:l,category:f,rank:i,xpReward:m,onAnswer:v,onBack:b}){const[d,h]=j.useState(""),[o,p]=j.useState(""),N=()=>{const s=l==="easy"?d:o;s.trim()&&(v(s),h(""),p(""))},g=l==="easy"?d:o.trim();return e.jsx("div",{className:"min-h-screen p-4 flex flex-col",children:e.jsxs("div",{className:"max-w-md mx-auto w-full flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(x,{variant:"ghost",onClick:b,className:"p-2",children:e.jsx(z,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{variant:"outline",className:"text-xs",children:B[f]}),e.jsx(t,{variant:"outline",className:"text-xs",children:E[l]}),i&&e.jsxs(t,{className:`text-xs ${n[i].bgColor} ${n[i].color}`,children:[n[i].icon," ",n[i].name]}),m&&e.jsxs(t,{variant:"secondary",className:"text-xs",children:["+",m," XP"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("span",{className:"text-sm",children:["問題 ",r," / ",c]})}),e.jsx(C,{value:r/c*100})]}),e.jsx("div",{className:"flex-1"}),e.jsxs(y,{className:"flex-shrink-0",children:[e.jsx(S,{children:e.jsx(A,{children:"次の日本語を英語にしてください"})}),e.jsxs(k,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:e.jsx("p",{className:"text-center",children:a.japanese})}),l==="normal"&&a.hint&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"ヒント："}),a.hint]})}),e.jsx("div",{className:"space-y-3",children:l==="easy"&&a.choices?e.jsx("div",{className:"space-y-2",children:a.choices.map((s,u)=>e.jsxs(x,{variant:d===s?"default":"outline",className:"w-full justify-start h-auto p-3 text-left whitespace-pre-wrap",onClick:()=>h(s),children:[String.fromCharCode(65+u),". ",s]},u))}):e.jsx(L,{placeholder:"英文を入力してください...",value:o,onChange:s=>p(s.target.value),className:"min-h-[120px] resize-none"})})]})]}),e.jsx("div",{className:"flex-1"}),e.jsx(x,{onClick:N,disabled:!g,className:"w-full flex-shrink-0",size:"lg",children:r===c?"結果を見る":"次の問題"})]})})}export{K as Question};
