import{r as E,j as e,d as O}from"./ui-DhiIzcP4.js";import{e as T,B as c,C as v,d as g,g as b,b as m,a as A}from"./game-DQXwOTYN.js";import{a as P}from"./progress-Dp2NNpON.js";import{A as R,S as k}from"./learning-B7AfTcwU.js";import"./vendor-D3F3s8fL.js";var I="Separator",w="horizontal",L=["horizontal","vertical"],y=E.forwardRef((s,a)=>{const{decorative:n,orientation:r=w,...o}=s,i=B(r)?r:w,d=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(O.div,{"data-orientation":i,...d,...o,ref:a})});y.displayName=I;function B(s){return L.includes(s)}var M=y;function $({className:s,orientation:a="horizontal",decorative:n=!0,...r}){return e.jsx(M,{"data-slot":"separator-root",decorative:n,orientation:a,className:T("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...r})}const X={"basic-grammar":"基本文型",tenses:"時制",modals:"助動詞",passive:"受動態",relative:"関係詞",subjunctive:"仮定法",comparison:"比較",participle:"分詞・動名詞",infinitive:"不定詞"},D={easy:"簡単",normal:"普通",hard:"難しい"};function G({questions:s,userAnswers:a,difficulty:n,category:r,sessionDuration:o=0,onRestart:i,onChangeDifficulty:h,onChangeCategory:d,onBack:C}){const j=a.filter(t=>t.isCorrect).length,l=Math.round(j/s.length*100),p=P(a,n,r,o),u=()=>l>=80?"text-green-600":l>=60?"text-yellow-600":"text-red-600",S=()=>l>=80?"素晴らしい！":l>=60?"よくできました！":"もう少し頑張りましょう！";return e.jsx("div",{className:"min-h-screen p-4",children:e.jsxs("div",{className:"max-w-md mx-auto w-full space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{variant:"ghost",onClick:C,className:"p-2",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl",children:"結果"}),e.jsx("div",{className:"w-10"})]}),e.jsx(v,{children:e.jsxs(g,{className:"text-center",children:[e.jsx(b,{children:"結果発表"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`text-4xl ${u()}`,children:[j," / ",s.length]}),e.jsxs("div",{className:`text-xl ${u()}`,children:[l,"%"]}),e.jsx("p",{className:"text-muted-foreground",children:S()}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(m,{variant:"outline",children:X[r]}),e.jsx(m,{variant:"outline",children:D[n]})]}),p>0&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-3 p-2 bg-yellow-50 rounded-lg",children:[e.jsx(k,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("span",{className:"text-yellow-700 font-medium",children:["+",p," XP 獲得！"]})]})]})]})}),e.jsxs(v,{children:[e.jsx(g,{children:e.jsx(b,{children:"解答と解説"})}),e.jsx(A,{className:"space-y-4",children:s.map((t,f)=>{const x=a.find(z=>z.questionId===t.id),N=x?.isCorrect||!1;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:["問題 ",f+1]}),e.jsx(m,{variant:N?"default":"destructive",children:N?"正解":"不正解"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t.japanese}),x&&e.jsxs("div",{className:"p-2 bg-muted rounded text-sm",children:[e.jsx("span",{className:"font-medium",children:"あなたの回答："}),e.jsx("br",{}),x.answer]}),e.jsxs("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-green-800",children:"正解："}),e.jsx("br",{}),e.jsx("span",{className:"text-green-700",children:t.correctAnswer})]}),e.jsxs("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-blue-800",children:"解説："}),e.jsx("br",{}),e.jsx("span",{className:"text-blue-700",children:t.explanation})]})]}),f<s.length-1&&e.jsx($,{})]},t.id)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{onClick:i,className:"w-full",size:"lg",children:"同じ設定でもう一度"}),e.jsx(c,{onClick:h,variant:"outline",className:"w-full",size:"lg",children:"難易度を変更"}),e.jsx(c,{onClick:d,variant:"outline",className:"w-full",size:"lg",children:"カテゴリーを変更"})]})]})})}export{G as Results};
