import{r as f,j as e}from"./ui-iDNYoGPn.js";import{u as k,b as U,B as I,C as p,d as h,f as N,P as E,e as b}from"./game-DNOgwd-m.js";import{A as O,T as j,F as L,a as P,S}from"./learning-CAFcT4jp.js";const D="modulepreload",V=function(o){return"/"+o},w={},F=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){let l=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");n=l(s.map(d=>{if(d=V(d),d in w)return;w[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":D,m||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),m)return new Promise((A,_)=>{g.addEventListener("load",A),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return n.then(l=>{for(const a of l||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},u={USER_STATS:"entp-english-user-stats",ACHIEVEMENTS:"entp-english-achievements",LEARNING_HISTORY:"entp-english-learning-history",VOCABULARY_PROGRESS:"entp-english-vocabulary-progress",APP_SETTINGS:"entp-english-app-settings"},B={totalXP:0,currentStreak:0,longestStreak:0,vocabularyStudied:0,grammarQuizzesCompleted:0,totalQuestionsAnswered:0,correctAnswers:0,averageScore:0,lastStudyDate:new Date().toISOString().split("T")[0],todayXP:0,totalStudyTime:0,accuracy:0,streakDays:0},C={dailyXPGoal:100,grammarQuizQuestionCount:10,vocabularyQuestionCount:10,essayQuestionCount:10};class v{static getUserStats(){try{const t=localStorage.getItem(u.USER_STATS);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load user stats:",t)}return B}static saveUserStats(t){try{localStorage.setItem(u.USER_STATS,JSON.stringify(t))}catch(s){console.error("Failed to save user stats:",s)}}static getLearningHistory(){try{const t=localStorage.getItem(u.LEARNING_HISTORY);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load learning history:",t)}return[]}static saveLearningHistory(t){try{localStorage.setItem(u.LEARNING_HISTORY,JSON.stringify(t))}catch(s){console.error("Failed to save learning history:",s)}}static getVocabularyProgress(){try{const t=localStorage.getItem(u.VOCABULARY_PROGRESS);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load vocabulary progress:",t)}return[]}static saveVocabularyProgress(t){try{localStorage.setItem(u.VOCABULARY_PROGRESS,JSON.stringify(t))}catch(s){console.error("Failed to save vocabulary progress:",s)}}static getAchievements(){try{const t=localStorage.getItem(u.ACHIEVEMENTS);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load achievements:",t)}return[]}static saveAchievements(t){try{localStorage.setItem(u.ACHIEVEMENTS,JSON.stringify(t))}catch(s){console.error("Failed to save achievements:",s)}}static recordLearningSession(t){const s=this.getLearningHistory(),r={...t,id:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};s.unshift(r),this.saveLearningHistory(s),this.updateUserStatsFromSession(r)}static updateUserStatsFromSession(t){const s=this.getUserStats(),r=new Date().toISOString().split("T")[0],n=new Date(Date.now()-1440*60*1e3).toISOString().split("T")[0];s.totalXP+=t.xpEarned,s.totalQuestionsAnswered+=t.totalQuestions,s.correctAnswers+=t.correctAnswers,s.averageScore=Math.round(s.correctAnswers/s.totalQuestionsAnswered*100),t.type==="vocabulary"?s.vocabularyStudied+=1:t.type==="grammar-quiz"&&(s.grammarQuizzesCompleted+=1),console.log("Streak calculation:",{lastStudyDate:s.lastStudyDate,today:r,yesterday:n,currentStreak:s.currentStreak}),s.lastStudyDate===r?console.log("Already studied today, streak unchanged"):s.lastStudyDate===n?(s.currentStreak+=1,console.log("Streak continued:",s.currentStreak)):(s.currentStreak=1,console.log("Streak reset to 1")),s.currentStreak>s.longestStreak&&(s.longestStreak=s.currentStreak),s.lastStudyDate=r,this.saveUserStats(s),this.sendNotifications(s)}static async sendNotifications(t){try{const{notificationManager:s}=await F(async()=>{const{notificationManager:r}=await import("./notificationManager-DRqVOwDk.js");return{notificationManager:r}},[]);t.currentStreak>1&&await s.showStreakReminder(t.currentStreak)}catch(s){console.error("Error sending notifications:",s)}}static recordVocabularyStudy(t){const s=this.getVocabularyProgress(),r=s.find(i=>i.wordId===t),n=new Date().toISOString().split("T")[0];r?(r.studiedCount+=1,r.lastStudied=n,r.studiedCount>=5?r.masteryLevel="mastered":r.studiedCount>=2&&(r.masteryLevel="learning")):s.push({wordId:t,studiedCount:1,lastStudied:n,masteryLevel:"new"}),this.saveVocabularyProgress(s)}static checkAndUpdateAchievements(){const t=this.getUserStats(),s=this.getLearningHistory(),r=this.getVocabularyProgress();let n=this.getAchievements();return n.length===0&&(n=this.initializeAchievements()),n.forEach(i=>{let l=0,a=i.requirement;switch(i.type){case"streak":i.id.includes("current")?l=t.currentStreak:i.id.includes("longest")&&(l=t.longestStreak);break;case"vocabulary":l=r.length;break;case"grammar":case"quiz":l=t.grammarQuizzesCompleted;break;case"score":i.id==="perfect_score"?l=s.filter(c=>c.score===100).length:i.id==="high_accuracy"&&(l=s.filter(c=>c.score>=85).length);break}i.progress=Math.min(l,a),i.maxProgress=a,l>=a&&!i.isUnlocked&&(i.isUnlocked=!0,t.totalXP+=i.xpReward)}),this.saveAchievements(n),this.saveUserStats(t),n}static initializeAchievements(){return[{id:"streak_3",title:"ä¸‰æ—¥åŠä¸»å…‹æœ",description:"3æ—¥é€£ç¶šã§å­¦ç¿’",icon:"ðŸ”¥",type:"streak",tier:"bronze",requirement:3,xpReward:50,isUnlocked:!1,progress:0,maxProgress:3},{id:"streak_7",title:"ä¸€é€±é–“æˆ¦å£«",description:"7æ—¥é€£ç¶šã§å­¦ç¿’",icon:"âš¡",type:"streak",tier:"silver",requirement:7,xpReward:100,isUnlocked:!1,progress:0,maxProgress:7},{id:"streak_14",title:"ç¶™ç¶šã®åŠ›",description:"14æ—¥é€£ç¶šã§å­¦ç¿’",icon:"ðŸŒŸ",type:"streak",tier:"gold",requirement:14,xpReward:200,isUnlocked:!1,progress:0,maxProgress:14},{id:"streak_30",title:"ãƒžã‚¹ã‚¿ãƒ¼ã®é“",description:"30æ—¥é€£ç¶šã§å­¦ç¿’",icon:"ðŸ‘‘",type:"streak",tier:"platinum",requirement:30,xpReward:500,isUnlocked:!1,progress:0,maxProgress:30},{id:"vocab_50",title:"å˜èªžã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼",description:"50å€‹ã®å˜èªžã‚’å­¦ç¿’",icon:"ðŸ“š",type:"vocabulary",tier:"bronze",requirement:50,xpReward:75,isUnlocked:!1,progress:0,maxProgress:50},{id:"vocab_100",title:"èªžå½™ãƒžã‚¹ã‚¿ãƒ¼",description:"100å€‹ã®å˜èªžã‚’å­¦ç¿’",icon:"ðŸŽ“",type:"vocabulary",tier:"silver",requirement:100,xpReward:150,isUnlocked:!1,progress:0,maxProgress:100},{id:"vocab_250",title:"å˜èªžã®é”äºº",description:"250å€‹ã®å˜èªžã‚’å­¦ç¿’",icon:"ðŸ†",type:"vocabulary",tier:"gold",requirement:250,xpReward:300,isUnlocked:!1,progress:0,maxProgress:250},{id:"quiz_10",title:"ã‚¯ã‚¤ã‚ºåˆå¿ƒè€…",description:"10å›žæ–‡æ³•ã‚¯ã‚¤ã‚ºã‚’å®Œäº†",icon:"ðŸ§©",type:"quiz",tier:"bronze",requirement:10,xpReward:60,isUnlocked:!1,progress:0,maxProgress:10},{id:"quiz_25",title:"ã‚¯ã‚¤ã‚ºæ„›å¥½å®¶",description:"25å›žæ–‡æ³•ã‚¯ã‚¤ã‚ºã‚’å®Œäº†",icon:"ðŸŽ¯",type:"quiz",tier:"silver",requirement:25,xpReward:120,isUnlocked:!1,progress:0,maxProgress:25},{id:"perfect_score",title:"ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆ",description:"æº€ç‚¹ã‚’ç²å¾—",icon:"ðŸ’¯",type:"score",tier:"gold",requirement:1,xpReward:250,isUnlocked:!1,progress:0,maxProgress:1},{id:"high_accuracy",title:"æ­£ç¢ºæ€§ãƒžã‚¹ã‚¿ãƒ¼",description:"æ­£è§£çŽ‡85%ä»¥ä¸Šã‚’é”æˆ",icon:"ðŸŽ–ï¸",type:"score",tier:"silver",requirement:1,xpReward:180,isUnlocked:!1,progress:0,maxProgress:1}]}static resetAllData(){localStorage.removeItem(u.USER_STATS),localStorage.removeItem(u.ACHIEVEMENTS),localStorage.removeItem(u.LEARNING_HISTORY),localStorage.removeItem(u.VOCABULARY_PROGRESS),localStorage.removeItem(u.APP_SETTINGS)}static exportData(){const t={userStats:this.getUserStats(),achievements:this.getAchievements(),learningHistory:this.getLearningHistory(),vocabularyProgress:this.getVocabularyProgress(),appSettings:this.getAppSettings(),exportDate:new Date().toISOString()};return JSON.stringify(t,null,2)}static importData(t){try{const s=JSON.parse(t);return s.userStats&&this.saveUserStats(s.userStats),s.achievements&&this.saveAchievements(s.achievements),s.learningHistory&&this.saveLearningHistory(s.learningHistory),s.vocabularyProgress&&this.saveVocabularyProgress(s.vocabularyProgress),s.appSettings&&this.saveAppSettings(s.appSettings),!0}catch(s){return console.error("Failed to import data:",s),!1}}static getAppSettings(){try{const t=localStorage.getItem(u.APP_SETTINGS);if(t){const s=JSON.parse(t);return{...C,...s}}}catch(t){console.error("Error loading app settings:",t)}return C}static saveAppSettings(t){try{const r={...this.getAppSettings(),...t};localStorage.setItem(u.APP_SETTINGS,JSON.stringify(r))}catch(s){console.error("Error saving app settings:",s)}}static addGachaWordsToVocabulary(t){try{const s=this.getVocabularyProgress();t.forEach(r=>{const n={id:r.id+1e4,word:r.word,meaning:r.meaning,partOfSpeech:r.partOfSpeech,example:r.examples[0]?.sentence||"",exampleTranslation:r.examples[0]?.translation||"",level:this.mapRarityToLevel(r.rarity),category:"toeic"};s.find(l=>l.wordId===n.id)||s.push({wordId:n.id,studiedCount:0,lastStudied:"",masteryLevel:"new"})}),this.saveVocabularyProgress(s),console.log("Successfully added gacha cards to vocabulary system")}catch(s){throw console.error("Error in addGachaWordsToVocabulary:",s),s}}static mapRarityToLevel(t){switch(t){case"common":case"uncommon":return"beginner";case"rare":case"epic":return"intermediate";case"legendary":return"advanced";default:return"beginner"}}static getGachaVocabularyProgress(){return this.getVocabularyProgress().filter(s=>s.wordId>=1e4)}static recordGachaVocabularyStudy(t){const s=this.getVocabularyProgress(),r=s.find(i=>i.wordId===t),n=new Date().toISOString().split("T")[0];r?(r.studiedCount+=1,r.lastStudied=n,r.studiedCount>=5?r.masteryLevel="mastered":r.studiedCount>=2&&(r.masteryLevel="learning")):s.push({wordId:t,studiedCount:1,lastStudied:n,masteryLevel:"new"}),this.saveVocabularyProgress(s)}static getPreStudyProgress(){try{const t=localStorage.getItem("preStudyProgress");return t?JSON.parse(t):{totalContentsStudied:0,contentsByCategory:{},averageComprehension:0,totalTimeSpent:0,completedContents:[]}}catch(t){return console.error("Error loading pre-study progress:",t),{totalContentsStudied:0,contentsByCategory:{},averageComprehension:0,totalTimeSpent:0,completedContents:[]}}}static savePreStudyProgress(t){try{localStorage.setItem("preStudyProgress",JSON.stringify(t))}catch(s){console.error("Error saving pre-study progress:",s)}}static recordPreStudyCompletion(t,s,r){try{const n=this.getPreStudyProgress();n.completedContents.includes(t)||(n.completedContents.push(t),n.totalContentsStudied++),n.totalTimeSpent+=r,n.averageComprehension=(n.averageComprehension*(n.totalContentsStudied-1)+s)/n.totalContentsStudied,this.savePreStudyProgress(n)}catch(n){console.error("Error recording pre-study completion:",n)}}}const x={BASE_CORRECT_ANSWER:10,DIFFICULTY_MULTIPLIER:{easy:1,normal:1.5,hard:2},CATEGORY_MULTIPLIER:{"basic-grammar":1,tenses:1.2,modals:1.3,passive:1.4,relative:1.5,subjunctive:1.6,comparison:1.3,participle:1.4,infinitive:1.5},PERFECT_SCORE_BONUS:50,HIGH_ACCURACY_BONUS:25,STREAK_BONUS:10,FIRST_ATTEMPT_BONUS:5};function G(o,t,s,r=!1){let n=0,i=0,l=0;o.forEach((c,d)=>{if(c.isCorrect){i++,l++;let m=x.BASE_CORRECT_ANSWER;m*=x.DIFFICULTY_MULTIPLIER[t],m*=x.CATEGORY_MULTIPLIER[s],r&&(m+=x.FIRST_ATTEMPT_BONUS),l>=3&&(m+=x.STREAK_BONUS),n+=Math.round(m)}else l=0});const a=i/o.length*100;return a===100?n+=x.PERFECT_SCORE_BONUS:a>=80&&(n+=x.HIGH_ACCURACY_BONUS),n}function J(o,t){const r={beginner:1,intermediate:1.5,advanced:2};return Math.round(o*5*r[t])}function H(o){const t=o/60;return t>=30?20:t>=15?10:t>=5?5:0}function Q(o,t,s,r,n=!1){const i=G(o,t,s,n),l=H(r);return i+l}function z(o){switch(o){case"bronze":return"from-amber-600 to-yellow-600";case"silver":return"from-gray-400 to-gray-600";case"gold":return"from-yellow-400 to-yellow-600";case"platinum":return"from-purple-400 to-purple-600";case"diamond":return"from-blue-400 to-cyan-400";default:return"from-gray-300 to-gray-500"}}function M(o){switch(o){case"bronze":return"text-amber-700";case"silver":return"text-gray-700";case"gold":return"text-yellow-700";case"platinum":return"text-purple-700";case"diamond":return"text-cyan-700";default:return"text-gray-700"}}function R({achievement:o}){const t=o.progress/o.maxProgress*100,s=z(o.tier),r=M(o.tier);return e.jsxs(p,{className:`
      relative overflow-hidden transition-all duration-300 border-2
      ${o.isUnlocked?"border-emerald-200 bg-gradient-to-br from-emerald-50 to-white shadow-lg":"border-gray-200 bg-gradient-to-br from-gray-50 to-white"}
    `,children:[o.isUnlocked&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse"})}),e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`
              text-3xl p-2 rounded-full bg-gradient-to-br ${s}
              ${o.isUnlocked?"opacity-100":"opacity-50 grayscale"}
            `,children:o.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${o.isUnlocked?"text-gray-900":"text-gray-500"}`,children:o.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]})]}),e.jsx(b,{variant:o.isUnlocked?"default":"secondary",className:`text-xs ${o.isUnlocked?r:""}`,children:o.tier.toUpperCase()})]})}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"é€²æ—"}),e.jsxs("span",{className:o.isUnlocked?"text-emerald-600 font-medium":"text-muted-foreground",children:[o.progress," / ",o.maxProgress]})]}),e.jsx(E,{value:t,className:`h-2 ${o.isUnlocked?"":"opacity-50"}`}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[e.jsx(S,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{className:"text-muted-foreground",children:[o.xpReward," XP"]})]}),o.isUnlocked&&e.jsx(b,{variant:"outline",className:"text-xs text-emerald-600",children:"ç²å¾—æ¸ˆã¿"})]})]})]})}function T({icon:o,label:t,value:s,color:r}){return e.jsx(p,{className:"bg-gradient-to-br from-white to-gray-50 border-0 shadow-md",children:e.jsxs(h,{className:"p-4 text-center",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br ${r} mb-3`,children:e.jsx(o,{className:"w-6 h-6 text-foreground"})}),e.jsx("div",{className:"text-2xl font-semibold mb-1",children:s}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t})]})})}function q(){const o=k();U();const[t,s]=f.useState(v.getUserStats()),[r,n]=f.useState([]);f.useEffect(()=>{const a=v.getUserStats(),c=v.getAchievements();s(a),n(c)},[]);const i=r.filter(a=>a.isUnlocked),l=r.filter(a=>!a.isUnlocked);return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:e.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pt-8",children:[e.jsx(I,{variant:"ghost",onClick:()=>o("/"),className:"p-2",children:e.jsx(O,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl",children:"å®Ÿç¸¾"}),e.jsx("div",{className:"w-10"})]}),e.jsx(p,{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-foreground border-0 shadow-xl",children:e.jsxs(h,{className:"p-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx(j,{className:"w-8 h-8 mr-2"}),e.jsx("span",{className:"text-lg",children:"åˆè¨ˆXP"})]}),e.jsx("div",{className:"text-5xl font-bold mb-2",children:t.totalXP.toLocaleString()}),e.jsx("div",{className:"text-blue-100",children:"ç¶™ç¶šã¯åŠ›ãªã‚Šï¼"})]})}),e.jsx(p,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-foreground border-0 shadow-lg",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-full",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm opacity-90",children:"é€£ç¶šå­¦ç¿’"}),e.jsxs("div",{className:"text-2xl font-bold",children:[t.currentStreak,"æ—¥"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm opacity-90",children:"æœ€é•·è¨˜éŒ²"}),e.jsxs("div",{className:"text-lg font-medium",children:[t.longestStreak,"æ—¥"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(T,{icon:P,label:"æ­£è§£çŽ‡",value:`${t.averageScore}%`,color:"from-emerald-500 to-green-600"}),e.jsx(T,{icon:S,label:"ç·å•é¡Œæ•°",value:t.totalQuestionsAnswered,color:"from-yellow-500 to-orange-500"})]}),e.jsxs(p,{className:"border-0 shadow-md",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2 text-yellow-600"}),"å®Ÿç¸¾é€²æ—"]})}),e.jsxs(h,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"ç²å¾—æ¸ˆã¿"}),e.jsxs("span",{className:"font-medium",children:[i.length," / ",r.length]})]}),e.jsx(E,{value:i.length/r.length*100,className:"h-3"})]})]}),t.preStudyProgress&&t.preStudyProgress.totalContentsStudied>0&&e.jsxs(p,{className:"border-0 shadow-md",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-2 text-purple-600"}),"äº‹å‰å­¦ç¿’ã®ç†è§£åº¦"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.preStudyProgress.totalContentsStudied}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ•°"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.preStudyProgress.averageComprehension.toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"å¹³å‡ç†è§£åº¦"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"ç†è§£åº¦åˆ†å¸ƒ"})}),e.jsx("div",{className:"space-y-1",children:[5,4,3,2,1].map(a=>{const c=t.preStudySessions?.filter(m=>m.comprehensionRating===a).length||0,d=t.preStudyProgress.totalContentsStudied>0?c/t.preStudyProgress.totalContentsStudied*100:0;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1 w-16",children:e.jsxs("span",{className:"text-sm text-yellow-500",children:["â˜…".repeat(a),"â˜†".repeat(5-a)]})}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})}),e.jsx("span",{className:"text-xs text-muted-foreground w-8 text-right",children:c})]},a)})})]}),Object.keys(t.preStudyProgress.contentsByCategory).length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"åˆ†é‡Žåˆ¥å­¦ç¿’æ•°"}),e.jsx("div",{className:"space-y-1",children:Object.entries(t.preStudyProgress.contentsByCategory).map(([a,c])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm capitalize",children:a}),e.jsxs("span",{className:"text-sm font-medium",children:[c,"å€‹"]})]},a))})]}),t.preStudySessions&&t.preStudySessions.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"å­¦ç¿’ã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸€è¦§"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.preStudySessions.filter(a=>a.completed).map((a,c)=>e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${a.comprehensionRating===1?"bg-red-50 border-red-200":a.comprehensionRating===2?"bg-orange-50 border-orange-200":a.comprehensionRating===3?"bg-yellow-50 border-yellow-200":a.comprehensionRating===4?"bg-blue-50 border-blue-200":a.comprehensionRating===5?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:a.contentId}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(a.startTime).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:a.comprehensionRating?e.jsx(e.Fragment,{children:[1,2,3,4,5].map(d=>e.jsx("span",{className:`text-sm ${d<=a.comprehensionRating?"text-yellow-500":"text-gray-300"}`,children:"â˜…"},d))}):e.jsx("span",{className:"text-xs text-gray-500",children:"è©•ä¾¡ãªã—"})}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.comprehensionRating===1&&"è¦å¾©ç¿’",a.comprehensionRating===2&&"è¦æ”¹å–„",a.comprehensionRating===3&&"æ™®é€š",a.comprehensionRating===4&&"è‰¯ã„",a.comprehensionRating===5&&"å®Œç’§",!a.comprehensionRating&&"æœªè©•ä¾¡"]})]})]},c))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-2 text-emerald-600"}),"ç²å¾—æ¸ˆã¿å®Ÿç¸¾ (",i.length,")"]}),e.jsx("div",{className:"space-y-3",children:i.map(a=>e.jsx(R,{achievement:a},a.id))})]}),l.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(P,{className:"w-5 h-5 mr-2 text-gray-500"}),"æœªç²å¾—å®Ÿç¸¾ (",l.length,")"]}),e.jsx("div",{className:"space-y-3",children:l.map(a=>e.jsx(R,{achievement:a},a.id))})]}),e.jsx("div",{className:"h-8"})]})})}const W=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{W as A,v as D,F as _,Q as a,J as c};
