import{j as e}from"./ui-iDNYoGPn.js";import{B as l,C as u,f as p,h as f,e as c,d as S}from"./game-DNOgwd-m.js";import{a as k}from"./index--0uh6uKU.js";import{a as z}from"./progress-D2o6Jopk.js";import{A as B,S as L}from"./learning-CAFcT4jp.js";import"./vendor-D3F3s8fL.js";const A={"basic-grammar":"基本文型",tenses:"時制",modals:"助動詞",passive:"受動態",relative:"関係詞",subjunctive:"仮定法",comparison:"比較",participle:"分詞・動名詞",infinitive:"不定詞"},E={easy:"簡単",normal:"普通",hard:"難しい"};function H({questions:r,userAnswers:t,difficulty:i,category:d,sessionDuration:N=0,onRestart:v,onChangeDifficulty:g,onChangeCategory:b,onBack:w}){const x=t.filter(s=>s.isCorrect).length,a=Math.round(x/r.length*100),m=z(t,i,d,N),o=()=>a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600",y=()=>a>=80?"素晴らしい！":a>=60?"よくできました！":"もう少し頑張りましょう！";return e.jsx("div",{className:"min-h-screen p-4",children:e.jsxs("div",{className:"max-w-md mx-auto w-full space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{variant:"ghost",onClick:w,className:"p-2",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl",children:"結果"}),e.jsx("div",{className:"w-10"})]}),e.jsx(u,{children:e.jsxs(p,{className:"text-center",children:[e.jsx(f,{children:"結果発表"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`text-4xl ${o()}`,children:[x," / ",r.length]}),e.jsxs("div",{className:`text-xl ${o()}`,children:[a,"%"]}),e.jsx("p",{className:"text-muted-foreground",children:y()}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(c,{variant:"outline",children:A[d]}),e.jsx(c,{variant:"outline",children:E[i]})]}),m>0&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-3 p-2 bg-yellow-50 rounded-lg",children:[e.jsx(L,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("span",{className:"text-yellow-700 font-medium",children:["+",m," XP 獲得！"]})]})]})]})}),e.jsxs(u,{children:[e.jsx(p,{children:e.jsx(f,{children:"解答と解説"})}),e.jsx(S,{className:"space-y-4",children:r.map((s,j)=>{const n=t.find(C=>C.questionId===s.id),h=n?.isCorrect||!1;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:["問題 ",j+1]}),e.jsx(c,{variant:h?"default":"destructive",children:h?"正解":"不正解"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.japanese}),n&&e.jsxs("div",{className:"p-2 bg-muted rounded text-sm",children:[e.jsx("span",{className:"font-medium",children:"あなたの回答："}),e.jsx("br",{}),n.answer]}),e.jsxs("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-green-800",children:"正解："}),e.jsx("br",{}),e.jsx("span",{className:"text-green-700",children:s.correctAnswer})]}),e.jsxs("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-blue-800",children:"解説："}),e.jsx("br",{}),e.jsx("span",{className:"text-blue-700",children:s.explanation})]})]}),j<r.length-1&&e.jsx(k,{})]},s.id)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{onClick:v,className:"w-full",size:"lg",children:"同じ設定でもう一度"}),e.jsx(l,{onClick:g,variant:"outline",className:"w-full",size:"lg",children:"難易度を変更"}),e.jsx(l,{onClick:b,variant:"outline",className:"w-full",size:"lg",children:"カテゴリーを変更"})]})]})})}export{H as Results};
