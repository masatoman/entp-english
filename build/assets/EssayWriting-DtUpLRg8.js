import{r as d,j as e}from"./ui-smpf69Zd.js";import{u as B,b as $,B as r,C as m,e as l,f as h,h as x,d as y}from"./game-Dd6Kb0LE.js";import{D as M}from"./progress-BPWR83xl.js";import{g as U,G as V,A,a6 as F,S as W,a7 as X,a as Y,L as E,B as _}from"./learning-B-E1ZIuS.js";import{S as L,T as J}from"./index-DOAaQjy2.js";import"./vendor-D3F3s8fL.js";const w=[{id:"basic-grammar-intro",title:"自己紹介文を書こう",category:"grammar",subcategory:"basic-grammar",difficulty:"beginner",level:1,promptType:"guided",instruction:"英語で簡単な自己紹介を3-4文で書いてください。",context:"初めて会う人に自分のことを紹介する場面です。",keyWords:["student","work","like","live"],grammarFocus:["be動詞","一般動詞","SVO構造"],evaluationCriteria:{grammar:40,vocabulary:20,fluency:30,creativity:10},sampleAnswers:[{level:"basic",text:"I am Taro. I am a student. I like music. I live in Tokyo.",explanation:"基本的なbe動詞と一般動詞を使った簡潔な自己紹介",grammarPoints:["be動詞の基本形","一般動詞の現在形"],vocabularyHighlights:["student","like","live"]},{level:"good",text:"My name is Taro Yamada. I am a university student studying English. I enjoy listening to music and reading books. I live in Tokyo with my family.",explanation:"より詳細で自然な表現を使った自己紹介",grammarPoints:["現在進行形","動名詞","前置詞句"],vocabularyHighlights:["university","studying","enjoy","listening"]}],relatedGrammarCategories:["basic-grammar"],relatedPreStudyContent:["basic-grammar-theory"]},{id:"tenses-weekend-plan",title:"週末の予定を説明しよう",category:"grammar",subcategory:"tenses",difficulty:"beginner",level:2,promptType:"guided",instruction:"今度の週末の予定について、過去・現在・未来の時制を使って4-5文で書いてください。",context:"友人に週末の予定を説明する場面です。",keyWords:["weekend","plan","yesterday","today","tomorrow"],grammarFocus:["現在形","過去形","未来形"],evaluationCriteria:{grammar:50,vocabulary:20,fluency:25,creativity:5},sampleAnswers:[{level:"basic",text:"Yesterday I studied English. Today I am working. Tomorrow I will go shopping. I will meet my friends on Sunday.",explanation:"基本的な時制を正しく使い分けた表現",grammarPoints:["過去形","現在進行形","未来形will"],vocabularyHighlights:["studied","working","shopping","meet"]},{level:"excellent",text:"Last weekend I visited my grandparents in the countryside. Today I'm preparing for next week's presentation at work. Tomorrow I'm planning to go to the new art museum that opened recently. On Sunday, I will have lunch with my college friends and we'll catch up on each other's lives.",explanation:"複雑な時制と自然な表現を組み合わせた高度な文章",grammarPoints:["過去形","現在進行形","be going to","未来完了"],vocabularyHighlights:["visited","countryside","preparing","presentation","museum","catch up"]}],relatedGrammarCategories:["tenses"],relatedPreStudyContent:["tenses-theory"]},{id:"modals-business-request",title:"丁寧なビジネス依頼文を書こう",category:"grammar",subcategory:"modals",difficulty:"intermediate",level:3,promptType:"guided",instruction:"同僚に仕事の依頼をする丁寧なメールを3-4文で書いてください。助動詞を必ず使用してください。",context:"忙しい同僚に追加の作業をお願いする場面です。",keyWords:["could","would","please","help","appreciate"],grammarFocus:["助動詞","丁寧表現","依頼文"],evaluationCriteria:{grammar:35,vocabulary:25,fluency:30,creativity:10},sampleAnswers:[{level:"good",text:"Could you please help me with the report? I would appreciate it if you could review the data. Would you mind checking the calculations? Thank you for your time.",explanation:"基本的な助動詞を使った丁寧な依頼表現",grammarPoints:["Could you","would appreciate","Would you mind"],vocabularyHighlights:["appreciate","review","calculations"]},{level:"excellent",text:"I hope this email finds you well. I was wondering if you might be able to assist me with the quarterly report that's due next week. Would it be possible for you to review the financial data and provide your insights? I would greatly appreciate any feedback you could offer, and I understand if you're too busy at the moment.",explanation:"非常に丁寧で自然なビジネス英語表現",grammarPoints:["I was wondering if","might be able to","Would it be possible","would greatly appreciate"],vocabularyHighlights:["quarterly","assist","financial","insights","feedback"]}],relatedGrammarCategories:["modals"],relatedPreStudyContent:["modals-theory"]},{id:"vocabulary-toeic-business",title:"TOEIC語彙を使ったビジネス場面描写",category:"vocabulary",difficulty:"intermediate",level:3,promptType:"guided",instruction:"あなたが獲得したTOEIC語彙カードから5個以上の単語を使って、ビジネス会議の様子を4-5文で描写してください。",context:"重要なプロジェクトの会議が行われている場面です。",grammarFocus:["現在進行形","受動態","関係詞"],evaluationCriteria:{grammar:30,vocabulary:40,fluency:25,creativity:5},sampleAnswers:[{level:"good",text:"The meeting is being conducted in the conference room. The manager is presenting the quarterly report to the team. Several important issues are being discussed by the participants. The deadline for the project has been extended until next month.",explanation:"TOEIC頻出語彙と基本的な文法を組み合わせた表現",grammarPoints:["現在進行受動態","現在完了受動態"],vocabularyHighlights:["conducted","conference","quarterly","participants","deadline","extended"]}],relatedGrammarCategories:["passive","tenses"],relatedPreStudyContent:["toeic-vocabulary-strategy"]},{id:"relative-clauses-description",title:"関係詞を使った人物・場所の説明",category:"grammar",subcategory:"relative",difficulty:"intermediate",level:5,promptType:"guided",instruction:"あなたの尊敬する人について、関係詞（who, which, that）を使って4-5文で説明してください。",context:"友人にあなたが尊敬する人について紹介する場面です。",grammarFocus:["関係代名詞","関係副詞"],evaluationCriteria:{grammar:45,vocabulary:25,fluency:25,creativity:5},sampleAnswers:[{level:"good",text:"The person whom I respect most is my English teacher who taught me in high school. She is someone who always encouraged students to challenge themselves. The teaching method which she used was very effective. I still remember the advice that she gave me about studying abroad.",explanation:"様々な関係詞を適切に使用した説明文",grammarPoints:["関係代名詞whom","関係代名詞who","関係代名詞which","関係代名詞that"],vocabularyHighlights:["respect","encouraged","challenge","effective","advice"]}],relatedGrammarCategories:["relative"],relatedPreStudyContent:["relative-theory"]},{id:"subjunctive-career-dreams",title:"仮定法を使った理想のキャリア描写",category:"grammar",subcategory:"subjunctive",difficulty:"advanced",level:6,promptType:"free-writing",instruction:"もし理想的な条件が整ったら、どのようなキャリアを築きたいか仮定法を使って5-6文で書いてください。",context:"キャリアカウンセラーとの面談で将来の夢を語る場面です。",grammarFocus:["仮定法過去","仮定法過去完了","wishの用法"],evaluationCriteria:{grammar:40,vocabulary:30,fluency:20,creativity:10},sampleAnswers:[{level:"excellent",text:"If I had unlimited resources, I would establish my own international consulting firm. I wish I could travel to different countries and help businesses expand globally. If I had studied business administration earlier, I would have been better prepared for this career path. I would hire talented people who share my vision, and we would make a positive impact on the world economy.",explanation:"複雑な仮定法表現を使った創造的な文章",grammarPoints:["仮定法過去","I wish + 仮定法","仮定法過去完了","関係詞との組み合わせ"],vocabularyHighlights:["unlimited","establish","consulting","expand","administration","impact","economy"]}],relatedGrammarCategories:["subjunctive"],relatedPreStudyContent:["subjunctive-theory"]},{id:"mixed-presentation-prep",title:"プレゼンテーション準備の説明",category:"mixed",difficulty:"advanced",level:7,promptType:"free-writing",instruction:"重要なプレゼンテーションの準備過程について、様々な文法項目と語彙を使って6-8文で説明してください。",context:"上司にプレゼンテーションの準備状況を報告する場面です。",grammarFocus:["複合時制","受動態","分詞構文","関係詞"],evaluationCriteria:{grammar:35,vocabulary:35,fluency:20,creativity:10},sampleAnswers:[{level:"excellent",text:"Having analyzed the market data thoroughly, I have been preparing a comprehensive presentation for next week's board meeting. The slides that I created yesterday incorporate the latest research findings which were published by our analytics team. While reviewing the content, I realized that some additional charts would be needed to support our recommendations. The presentation, which will be delivered to senior executives, focuses on strategic initiatives that could significantly improve our market position. I am confident that the proposal will be well-received by the audience.",explanation:"高度な文法構造と豊富な語彙を組み合わせた専門的な文章",grammarPoints:["分詞構文","現在完了進行形","関係詞","受動態","複合文"],vocabularyHighlights:["analyzed","comprehensive","incorporate","findings","analytics","executives","initiatives","significantly","proposal"]}],relatedGrammarCategories:["participle","relative","passive","tenses"],relatedPreStudyContent:["writing-strategy","toeic-vocabulary-strategy"]}];function K(i){return w.filter(a=>a.level<=i)}function Q(i){return w.filter(a=>a.keyWords?a.keyWords.some(n=>i.includes(n)):!1)}function Z(i){return w.filter(a=>a.relatedGrammarCategories?a.relatedGrammarCategories.some(n=>i.includes(n)):!1)}function ne(){const i=B();$();const[a,n]=d.useState(null),[s,v]=d.useState(""),[N,u]=d.useState(!0),[b,p]=d.useState(!1),[H,ee]=d.useState({difficulty:3,satisfaction:3,grammarConfidence:3,vocabularyUsage:3}),C=U(),f=C.getLevel(),I=typeof f=="object"?f.level||1:f||1,D=K(I),k=V.getUserGachaData(),g=k.ownedCards.map(t=>t.word),O=M.getPreStudyProgress(),T=["basic-grammar","tenses"],R=Q(g),q=Z(T),P=[...R.slice(0,2),...q.slice(0,2)].filter((t,o,c)=>c.findIndex(j=>j.id===t.id)===o),S=t=>{n(t),v(""),p(!1),u(!0)},z=()=>{if(!a||!s.trim())return;const t={id:`essay_${Date.now()}`,promptId:a.id,userId:"current_user",text:s,submittedAt:Date.now(),selfAssessment:H,analysis:{wordCount:s.trim().split(/\s+/).length,grammarIssues:[],vocabularyUsed:g.filter(c=>s.toLowerCase().includes(c.toLowerCase())),suggestions:[],estimatedLevel:a.difficulty}};console.log("Essay submitted:",t);const o=a.difficulty==="beginner"?15:a.difficulty==="intermediate"?25:35;C.addXP(o),p(!0)},G=()=>{n(null),v(""),p(!1),u(!0)};return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(r,{variant:"outline",onClick:G,className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"課題選択に戻る"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 justify-center mt-1",children:[e.jsx(l,{variant:"outline",className:"text-xs",children:a.category}),e.jsx(l,{variant:"outline",className:"text-xs",children:a.difficulty}),e.jsxs(l,{variant:"outline",className:"text-xs",children:["Level ",a.level]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"文字数"}),e.jsxs("div",{className:"text-xl font-bold text-indigo-600",children:[s.trim().split(/\s+/).filter(t=>t).length,"語"]})]})]}),N&&e.jsxs(m,{className:"mb-6 bg-white shadow-sm border",children:[e.jsx(h,{children:e.jsxs(x,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Y,{className:"w-5 h-5 text-blue-500"}),"課題の指示"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"📝 指示内容"}),e.jsx("p",{className:"text-gray-700",children:a.instruction})]}),a.context&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"🎭 場面設定"}),e.jsx("p",{className:"text-gray-700",children:a.context})]}),a.keyWords&&a.keyWords.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"🎯 推奨語彙"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.keyWords.map(t=>e.jsxs(l,{variant:g.includes(t)?"default":"outline",className:"text-xs",children:[t," ",g.includes(t)&&"✓"]},t))})]}),a.grammarFocus&&a.grammarFocus.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"📚 重点文法"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.grammarFocus.map(t=>e.jsx(l,{variant:"outline",className:"text-xs",children:t},t))})]}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>u(!1),className:"mt-4",children:"指示を隠す"})]})]}),!N&&e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>u(!0),className:"mb-4 flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"指示を表示"]}),!b&&e.jsxs(m,{className:"mb-6 bg-white shadow-sm border",children:[e.jsx(h,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5 text-indigo-500"}),"英作文を書いてください"]})}),e.jsxs(y,{children:[e.jsx(J,{value:s,onChange:t=>v(t.target.value),placeholder:"ここに英作文を入力してください...",className:"min-h-[300px] text-base leading-relaxed"}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"💡 ヒント: 推奨語彙や重点文法を意識して書いてみましょう"}),e.jsx(r,{onClick:z,disabled:!s.trim(),className:"bg-indigo-600 hover:bg-indigo-700",children:"提出する"})]})]})]}),b&&e.jsxs(m,{className:"mb-6 bg-green-50 border-green-200",children:[e.jsx(h,{children:e.jsxs(x,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(W,{className:"w-5 h-5"}),"英作文完了！"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"あなたの英作文"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:s})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"文字数"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[s.trim().split(/\s+/).filter(t=>t).length,"語"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"獲得XP"}),e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["+",a.difficulty==="beginner"?15:a.difficulty==="intermediate"?25:35,"XP"]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(r,{onClick:G,variant:"outline",children:"新しい課題に挑戦"}),e.jsxs(r,{onClick:()=>i("/learning/grammar/category"),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"文法クイズで復習"]})]})]})]}),b&&a.sampleAnswers.length>0&&e.jsxs(m,{className:"bg-white shadow-sm border",children:[e.jsx(h,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-yellow-500"}),"参考解答例"]})}),e.jsx(y,{className:"space-y-4",children:a.sampleAnswers.map((t,o)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(l,{variant:"outline",className:"text-xs",children:t.level})}),e.jsxs("p",{className:"text-gray-700 mb-3 italic",children:['"',t.text,'"']}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.explanation}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.grammarPoints.map((c,j)=>e.jsx(l,{variant:"outline",className:"text-xs",children:c},j))})]},o))})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(r,{variant:"outline",onClick:()=>i("/"),className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"戻る"]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(F,{className:"w-8 h-8 text-indigo-600"}),"英作文"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"文法と語彙を実践で活用しよう"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"ユーザーレベル"}),e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:I})]})]}),e.jsxs(m,{className:"mb-8 p-6 bg-white shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔗 学習連携状況"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"獲得語彙カード"}),e.jsxs("div",{className:"font-bold text-purple-600",children:[k.ownedCards.length,"枚"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"完了した事前学習"}),e.jsxs("div",{className:"font-bold text-blue-600",children:[O.completedContents.length,"件"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"文法カテゴリー"}),e.jsxs("div",{className:"font-bold text-green-600",children:[T.length,"分野"]})]})]})]}),P.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-yellow-500"}),"あなたにおすすめの英作文"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:P.map(t=>e.jsx(L,{id:t.id,title:t.title,description:t.instruction,detail:`${t.category} | ${t.difficulty}`,icon:"✨",difficulty:t.difficulty,level:t.level,color:"bg-yellow-50 border-yellow-200",isRecommended:!0,onClick:()=>S(t)},t.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-indigo-500"}),"利用可能な英作文課題"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(t=>e.jsx(L,{id:t.id,title:t.title,description:t.instruction,detail:`レベル ${t.level} | ${t.promptType}`,icon:t.category==="grammar"?"📚":t.category==="vocabulary"?"🎯":"🔀",difficulty:t.difficulty,level:t.level,color:t.difficulty==="beginner"?"bg-green-50 border-green-200":t.difficulty==="intermediate"?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200",onClick:()=>S(t)},t.id))})]})]})})}export{ne as default};
