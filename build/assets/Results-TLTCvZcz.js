import{j as e}from"./ui-smpf69Zd.js";import{u as w,a as C,b as S,B as n,C as f,f as p,h as g,e as o,d as A}from"./game-Dd6Kb0LE.js";import{a as $}from"./progress-BPWR83xl.js";import{a as k}from"./index-CPlkK9WN.js";import{A as T,S as z}from"./learning-B-E1ZIuS.js";import"./vendor-D3F3s8fL.js";const B={"basic-grammar":"基本文型",tenses:"時制",modals:"助動詞",passive:"受動態",relative:"関係詞",subjunctive:"仮定法",comparison:"比較",participle:"分詞・動名詞",infinitive:"不定詞"},L={easy:"簡単",normal:"普通",hard:"難しい"};function H(){const r=w(),{category:N,difficulty:v}=C();S();const t=N,c=v,l=[],i=[],m=i.filter(s=>s.isCorrect).length,a=Math.round(m/l.length*100),x=$(i,c,t),u=()=>a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600",y=()=>a>=80?"素晴らしい！":a>=60?"よくできました！":"もう少し頑張りましょう！";return e.jsx("div",{className:"min-h-screen p-4",children:e.jsxs("div",{className:"max-w-md mx-auto w-full space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{variant:"ghost",onClick:()=>r("/"),className:"p-2",children:e.jsx(T,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl",children:"結果"}),e.jsx("div",{className:"w-10"})]}),e.jsx(f,{children:e.jsxs(p,{className:"text-center",children:[e.jsx(g,{children:"結果発表"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`text-4xl ${u()}`,children:[m," / ",l.length]}),e.jsxs("div",{className:`text-xl ${u()}`,children:[a,"%"]}),e.jsx("p",{className:"text-muted-foreground",children:y()}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(o,{variant:"outline",children:B[t]}),e.jsx(o,{variant:"outline",children:L[c]})]}),x>0&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-3 p-2 bg-yellow-50 rounded-lg",children:[e.jsx(z,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("span",{className:"text-yellow-700 font-medium",children:["+",x," XP 獲得！"]})]})]})]})}),e.jsxs(f,{children:[e.jsx(p,{children:e.jsx(g,{children:"解答と解説"})}),e.jsx(A,{className:"space-y-4",children:l.map((s,j)=>{const d=i.find(b=>b.questionId===s.id),h=d?.isCorrect||!1;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:["問題 ",j+1]}),e.jsx(o,{variant:h?"default":"destructive",children:h?"正解":"不正解"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.japanese}),d&&e.jsxs("div",{className:"p-2 bg-muted rounded text-sm",children:[e.jsx("span",{className:"font-medium",children:"あなたの回答："}),e.jsx("br",{}),d.answer]}),e.jsxs("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-green-800",children:"正解："}),e.jsx("br",{}),e.jsx("span",{className:"text-green-700",children:s.correctAnswer})]}),e.jsxs("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[e.jsx("span",{className:"font-medium text-blue-800",children:"解説："}),e.jsx("br",{}),e.jsx("span",{className:"text-blue-700",children:s.explanation})]})]}),j<l.length-1&&e.jsx(k,{})]},s.id)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{onClick:()=>r(`/learning/grammar/question/${t}/${c}`),className:"w-full",size:"lg",children:"同じ設定でもう一度"}),e.jsx(n,{onClick:()=>r(`/learning/grammar/difficulty/${t}`),variant:"outline",className:"w-full",size:"lg",children:"難易度を変更"}),e.jsx(n,{onClick:()=>r("/learning/grammar/category"),variant:"outline",className:"w-full",size:"lg",children:"カテゴリーを変更"})]})]})})}export{H as default};
