const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CategorySelection-Dbd78De1.js","assets/ui-smpf69Zd.js","assets/vendor-D3F3s8fL.js","assets/game-Dd6Kb0LE.js","assets/learning-B-E1ZIuS.js","assets/progress-BPWR83xl.js","assets/DifficultySelection-9dB3FDfa.js","assets/Question-DB2RDOHe.js","assets/questions-zY9y3rZJ.js","assets/Results-D63cyRW-.js","assets/VocabularyCategorySelection-DmoNcx49.js","assets/VocabularyDifficultySelection-CHOUGZ4W.js","assets/EnhancedGrammarQuiz-DQaL9XWi.js","assets/TimeAttackMode-BdPXx8g4.js","assets/GachaSystem-CZGwvJR-.js","assets/gacha-card-BWKZwBAB.js","assets/GachaResultScreen-6VuIy_xQ.js","assets/AppSettings-D9L9nBsD.js","assets/notificationManager-DRqVOwDk.js","assets/PreStudyMenu-MDoEdu4p.js","assets/GrowthDashboard-UonTiEfb.js","assets/CardDetailContent-DMrpCNZu.js","assets/EssayWriting-DtUpLRg8.js"])))=>i.map(i=>d[i]);
import{r as a,j as e,c as z,d as ct,e as as,u as ie,f as rs,A as os,g as M,h as xe,i as is,k as dt,l as Ye,m as ls,n as cs,o as ds,p as ms,q as us,F as ps,D as hs,s as xs,t as gs,v as tt,w as fs,x as vs}from"./ui-smpf69Zd.js";import{a as ws}from"./vendor-D3F3s8fL.js";import{D as pe,_ as E}from"./progress-BPWR83xl.js";import{g as k,s as W,A as Pe,B as mt,S as Ze,Z as bs,C as ys,c as X,b as ut,d as js,e as _s,f as he,v as Ns,h as Ue,i as Te,j as Ss,I as ks,R as Cs,k as ze,l as $e,L as st,a as pt,m as Is,n as Ts,F as As,H as Ps,o as Rs}from"./learning-B-E1ZIuS.js";import{B as U,C as P,f as ae,h as re,d as R,i as ht,g as Je,P as nt,e as oe,j as Es,u as Ls,k as Ds,l as Os,R as Ms,m as C,N as Vs}from"./game-Dd6Kb0LE.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var Re={},at;function Hs(){if(at)return Re;at=1;var t=ws();return Re.createRoot=t.createRoot,Re.hydrateRoot=t.hydrateRoot,Re}var zs=Hs();const Bs=()=>{const[t,n]=a.useState(()=>k().getHeartSystem()),s=()=>{const g=k();return g.getHeartSystem().current>0?(g.consumeHeart(),W(),n(g.getHeartSystem()),!0):!1},o=(g=1)=>{const w=k();w.addHeart(g),W(),n(w.getHeartSystem())},r=()=>{const g=k();g.recoverHeart(),W(),n(g.getHeartSystem())},i=()=>{const g=k();g.resetHearts(),W(),n(g.getHeartSystem())},l=()=>{const w=k().getHeartSystem(),p=Date.now()-w.lastRecoveryTime,m=300*1e3;return Math.max(0,m-p)},c=()=>t.current>0,d=()=>t.current>=t.max,u=()=>{if(t.current>=t.max)return 100;const g=l(),w=300*1e3;return Math.max(0,Math.min(100,(w-g)/w*100))},x=()=>{const w=k().processHeartRecovery();return n(w),W(),w},v=()=>{const w=k().processHeartRecovery();n(w),W()};return a.useEffect(()=>{const g=setInterval(()=>{const y=k().getHeartSystem();y.current<y.max&&l()<=0&&x()},1e3);return()=>clearInterval(g)},[t.current]),{heartSystem:t,consumeHeart:s,addHeart:o,recoverHeart:r,resetHearts:i,getTimeUntilRecovery:l,canConsumeHeart:c,isFull:d,getRecoveryProgress:u,processRecovery:x,refreshHearts:v}},Fs=()=>{const[t,n]=a.useState(()=>k().getLevel());return{userLevel:t,addXP:r=>{const i=k(),l=i.addXP(r);return n(i.getLevel()),W(),l},refreshLevel:()=>{const r=k();n(r.getLevel())}}},Us=7200*1e3,$s=3,Gs=10,Ee=(t,n=Date.now())=>{if(t.current>=t.max)return t.current;const s=n-t.lastRecoveryTime,o=Math.floor(s/Us);return Math.min(t.current+o,t.max)},rt=(t,n=1)=>Ee(t)>=n,Ws=t=>$s+Math.floor((t-1)/Gs),Xs=t=>{const n=Ws(t);return{current:n,max:n,lastRecoveryTime:Date.now()}},Ks=[{id:1,sentence:"I ___ to the store yesterday.",blanks:[{id:"blank1",position:2,correctAnswer:"went"}],options:["go","went","going","goes"],explanation:"過去の時点での行動を表すため、過去形「went」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:2,sentence:"The book ___ on the table ___ mine.",blanks:[{id:"blank1",position:3,correctAnswer:"lying"},{id:"blank2",position:7,correctAnswer:"is"}],options:["lying","laying","is","are","was","were","lying","is"],explanation:"「lying」（横たわっている）と単数形の「is」が正解です。",level:"intermediate",category:"basic-sentence-patterns"},{id:3,sentence:"They ___ playing soccer when it ___ to rain.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:7,correctAnswer:"started"}],options:["were","was","started","start","are","have","were","started"],explanation:"過去進行形「were playing」と過去形「started」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:4,sentence:"I ___ my homework before I ___ to bed.",blanks:[{id:"blank1",position:1,correctAnswer:"finished"},{id:"blank2",position:5,correctAnswer:"went"}],options:["finished","finish","went","go","will finish","will go","finished","went"],explanation:"過去の順序を表すため過去形「finished」と「went」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:5,sentence:"He ___ to the store ___ some milk.",blanks:[{id:"blank1",position:2,correctAnswer:"went"},{id:"blank2",position:5,correctAnswer:"to buy"}],options:["went","goes","to buy","buying","bought","will buy","went","to buy"],explanation:"過去形「went」と目的を表す不定詞「to buy」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:6,sentence:"She ___ her keys ___ she left the house.",blanks:[{id:"blank1",position:2,correctAnswer:"forgot"},{id:"blank2",position:5,correctAnswer:"when"}],options:["forgot","forgets","when","while","before","after","forgot","when"],explanation:"過去形「forgot」と時を表す「when」が正解です。",level:"beginner",category:"basic-sentence-patterns"},{id:7,sentence:"The students ___ their homework ___ the teacher arrived.",blanks:[{id:"blank1",position:3,correctAnswer:"had finished"},{id:"blank2",position:6,correctAnswer:"when"}],options:["had finished","finished","when","before","after","while","had finished","when"],explanation:"過去完了形「had finished」と時を表す「when」が正解です。",level:"advanced",category:"basic-sentence-patterns"},{id:8,sentence:"I ___ you ___ come to the party tomorrow.",blanks:[{id:"blank1",position:2,correctAnswer:"hope"},{id:"blank2",position:4,correctAnswer:"will"}],options:["hope","hoped","will","would","can","could","hope","will"],explanation:"現在形「hope」と未来形「will」が正解です。",level:"intermediate",category:"basic-sentence-patterns"},{id:9,sentence:"She ___ been studying English ___ three years.",blanks:[{id:"blank1",position:2,correctAnswer:"has"},{id:"blank2",position:6,correctAnswer:"for"}],options:["has","have","for","since","is","was","has","for"],explanation:"現在完了形「has been studying」と期間を表す「for」が正解です。",level:"intermediate",category:"tenses"},{id:10,sentence:"By the time you arrive, I ___ finished my homework.",blanks:[{id:"blank1",position:7,correctAnswer:"will have"}],options:["will have","will","have","had","would have"],explanation:"未来完了形「will have finished」が正解です。",level:"advanced",category:"tenses"},{id:11,sentence:"She ___ English for five years ___ she started working.",blanks:[{id:"blank1",position:2,correctAnswer:"had been studying"},{id:"blank2",position:7,correctAnswer:"when"}],options:["had been studying","has been studying","when","before","after","while","had been studying","when"],explanation:"過去完了進行形「had been studying」と時を表す「when」が正解です。",level:"advanced",category:"tenses"},{id:12,sentence:"The children ___ playing in the park ___ it started raining.",blanks:[{id:"blank1",position:3,correctAnswer:"were"},{id:"blank2",position:7,correctAnswer:"when"}],options:["were","was","when","while","before","after","were","when"],explanation:"過去進行形「were playing」と時を表す「when」が正解です。",level:"beginner",category:"tenses"},{id:13,sentence:"I ___ this book three times already.",blanks:[{id:"blank1",position:2,correctAnswer:"have read"}],options:["have read","read","am reading","will read"],explanation:"現在完了形「have read」が正解です。",level:"intermediate",category:"tenses"},{id:14,sentence:"He ___ to Japan next month.",blanks:[{id:"blank1",position:2,correctAnswer:"will go"}],options:["will go","goes","is going","went"],explanation:"未来形「will go」が正解です。",level:"beginner",category:"tenses"},{id:15,sentence:"I ___ my homework when you called.",blanks:[{id:"blank1",position:2,correctAnswer:"was doing"}],options:["was doing","did","am doing","have done"],explanation:"過去進行形「was doing」が正解です。",level:"intermediate",category:"tenses"},{id:16,sentence:"She ___ here since 2020.",blanks:[{id:"blank1",position:2,correctAnswer:"has lived"}],options:["has lived","lived","is living","will live"],explanation:"現在完了形「has lived」が正解です。",level:"intermediate",category:"tenses"},{id:17,sentence:"You ___ study harder if you want to pass the exam.",blanks:[{id:"blank1",position:2,correctAnswer:"should"}],options:["should","can","must","will"],explanation:"助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:18,sentence:"I ___ speak three languages fluently.",blanks:[{id:"blank1",position:2,correctAnswer:"can"}],options:["can","should","must","will"],explanation:"助動詞「can」が正解です。",level:"beginner",category:"auxiliaries"},{id:19,sentence:"You ___ not smoke in this building.",blanks:[{id:"blank1",position:2,correctAnswer:"must"}],options:["must","can","should","will"],explanation:"助動詞「must」が正解です。",level:"intermediate",category:"auxiliaries"},{id:20,sentence:"I ___ you ___ call me if you need help.",blanks:[{id:"blank1",position:2,correctAnswer:"suggest"},{id:"blank2",position:4,correctAnswer:"should"}],options:["suggest","suggested","should","would","could","might","suggest","should"],explanation:"提案を表す「suggest」と助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:21,sentence:"You ___ have told me earlier.",blanks:[{id:"blank1",position:2,correctAnswer:"should"}],options:["should","can","must","will"],explanation:"助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:22,sentence:"I ___ not believe what I'm seeing.",blanks:[{id:"blank1",position:2,correctAnswer:"can"}],options:["can","should","must","will"],explanation:"助動詞「can」が正解です。",level:"beginner",category:"auxiliaries"},{id:23,sentence:"You ___ be more careful next time.",blanks:[{id:"blank1",position:2,correctAnswer:"should"}],options:["should","can","must","will"],explanation:"助動詞「should」が正解です。",level:"intermediate",category:"auxiliaries"},{id:24,sentence:"I ___ have finished this by tomorrow.",blanks:[{id:"blank1",position:2,correctAnswer:"will"}],options:["will","can","should","must"],explanation:"助動詞「will」が正解です。",level:"intermediate",category:"auxiliaries"},{id:25,sentence:"The house ___ by a famous architect.",blanks:[{id:"blank1",position:3,correctAnswer:"was designed"}],options:["was designed","designed","is designing","will design"],explanation:"受動態「was designed」が正解です。",level:"intermediate",category:"passive-voice"},{id:26,sentence:"The book ___ in many countries.",blanks:[{id:"blank1",position:3,correctAnswer:"is read"}],options:["is read","reads","was reading","will read"],explanation:"受動態「is read」が正解です。",level:"beginner",category:"passive-voice"},{id:27,sentence:"The door ___ by someone.",blanks:[{id:"blank1",position:3,correctAnswer:"was opened"}],options:["was opened","opened","is opening","will open"],explanation:"受動態「was opened」が正解です。",level:"intermediate",category:"passive-voice"},{id:28,sentence:"The project ___ by the team last month.",blanks:[{id:"blank1",position:3,correctAnswer:"was completed"}],options:["was completed","completed","is completing","will complete"],explanation:"受動態「was completed」が正解です。",level:"intermediate",category:"passive-voice"},{id:29,sentence:"The letter ___ yesterday.",blanks:[{id:"blank1",position:3,correctAnswer:"was sent"}],options:["was sent","sent","is sending","will send"],explanation:"受動態「was sent」が正解です。",level:"beginner",category:"passive-voice"},{id:30,sentence:"The problem ___ by the engineers.",blanks:[{id:"blank1",position:3,correctAnswer:"is being solved"}],options:["is being solved","solves","solved","will solve"],explanation:"受動態進行形「is being solved」が正解です。",level:"advanced",category:"passive-voice"},{id:31,sentence:"The meeting ___ at 3 PM tomorrow.",blanks:[{id:"blank1",position:3,correctAnswer:"will be held"}],options:["will be held","holds","held","is holding"],explanation:"受動態未来形「will be held」が正解です。",level:"intermediate",category:"passive-voice"},{id:32,sentence:"The car ___ by my father.",blanks:[{id:"blank1",position:3,correctAnswer:"was bought"}],options:["was bought","bought","is buying","will buy"],explanation:"受動態「was bought」が正解です。",level:"beginner",category:"passive-voice"},{id:33,sentence:"The movie ___ we watched last night ___ very exciting.",blanks:[{id:"blank1",position:2,correctAnswer:"that"},{id:"blank2",position:7,correctAnswer:"was"}],options:["that","which","who","was","were","is","that","was"],explanation:"関係代名詞「that」と過去形「was」が正解です。",level:"intermediate",category:"relative-clauses"},{id:34,sentence:"The book ___ I read yesterday ___ very interesting.",blanks:[{id:"blank1",position:2,correctAnswer:"which"},{id:"blank2",position:6,correctAnswer:"was"}],options:["which","that","who","was","were","is","which","was"],explanation:"関係代名詞「which」と過去形「was」が正解です。",level:"intermediate",category:"relative-clauses"},{id:35,sentence:"The man ___ is standing there is my teacher.",blanks:[{id:"blank1",position:3,correctAnswer:"who"}],options:["who","which","that","whom"],explanation:"関係代名詞「who」が正解です。",level:"beginner",category:"relative-clauses"},{id:36,sentence:"This is the house ___ I was born.",blanks:[{id:"blank1",position:4,correctAnswer:"where"}],options:["where","which","that","who"],explanation:"関係副詞「where」が正解です。",level:"intermediate",category:"relative-clauses"},{id:37,sentence:"The reason ___ he left is unknown.",blanks:[{id:"blank1",position:3,correctAnswer:"why"}],options:["why","which","that","who"],explanation:"関係副詞「why」が正解です。",level:"intermediate",category:"relative-clauses"},{id:38,sentence:"The day ___ I met you was wonderful.",blanks:[{id:"blank1",position:3,correctAnswer:"when"}],options:["when","which","that","who"],explanation:"関係副詞「when」が正解です。",level:"intermediate",category:"relative-clauses"},{id:39,sentence:"The woman ___ you saw is my sister.",blanks:[{id:"blank1",position:3,correctAnswer:"whom"}],options:["whom","who","which","that"],explanation:"関係代名詞「whom」が正解です。",level:"advanced",category:"relative-clauses"},{id:40,sentence:"The car ___ color is red belongs to me.",blanks:[{id:"blank1",position:3,correctAnswer:"whose"}],options:["whose","which","that","who"],explanation:"関係代名詞「whose」が正解です。",level:"advanced",category:"relative-clauses"},{id:41,sentence:"If I ___ rich, I ___ travel around the world.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:5,correctAnswer:"would"}],options:["were","was","would","will","am","could","were","would"],explanation:"仮定法過去「If I were rich, I would travel」が正解です。",level:"advanced",category:"subjunctive"},{id:42,sentence:"I wish I ___ more time to finish this project.",blanks:[{id:"blank1",position:3,correctAnswer:"had"}],options:["had","have","has","will have"],explanation:"願望を表す「I wish」の後は仮定法過去「had」を使います。",level:"advanced",category:"subjunctive"},{id:43,sentence:"If I ___ you, I ___ study harder.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:5,correctAnswer:"would"}],options:["were","was","would","will","should","could","were","would"],explanation:"仮定法過去「If I were you, I would study」が正解です。",level:"advanced",category:"subjunctive"},{id:44,sentence:"I wish I ___ speak French fluently.",blanks:[{id:"blank1",position:3,correctAnswer:"could"}],options:["could","can","will","would"],explanation:"願望を表す「I wish」の後は仮定法過去「could」を使います。",level:"intermediate",category:"subjunctive"},{id:45,sentence:"If I ___ known earlier, I ___ have come.",blanks:[{id:"blank1",position:2,correctAnswer:"had"},{id:"blank2",position:5,correctAnswer:"would"}],options:["had","have","would","will","could","should","had","would"],explanation:"仮定法過去完了「If I had known, I would have come」が正解です。",level:"advanced",category:"subjunctive"},{id:46,sentence:"I wish I ___ not made that mistake.",blanks:[{id:"blank1",position:3,correctAnswer:"had"}],options:["had","have","has","will have"],explanation:"願望を表す「I wish」の後は仮定法過去完了「had」を使います。",level:"advanced",category:"subjunctive"},{id:47,sentence:"If I ___ you, I ___ not do that.",blanks:[{id:"blank1",position:2,correctAnswer:"were"},{id:"blank2",position:5,correctAnswer:"would"}],options:["were","was","would","will","should","could","were","would"],explanation:"仮定法過去「If I were you, I would not do」が正解です。",level:"advanced",category:"subjunctive"},{id:48,sentence:"I wish it ___ stop raining.",blanks:[{id:"blank1",position:3,correctAnswer:"would"}],options:["would","will","can","could"],explanation:"願望を表す「I wish」の後は仮定法過去「would」を使います。",level:"intermediate",category:"subjunctive"},{id:49,sentence:"She is ___ intelligent ___ her sister.",blanks:[{id:"blank1",position:2,correctAnswer:"as"},{id:"blank2",position:4,correctAnswer:"as"}],options:["as","as","so","more","most","than","very","as","as"],explanation:"同等比較「as ... as」の構文が正解です。",level:"intermediate",category:"comparison"},{id:50,sentence:"This book is ___ than that one.",blanks:[{id:"blank1",position:3,correctAnswer:"more interesting"}],options:["more interesting","interesting","most interesting","as interesting"],explanation:"比較級「more interesting」が正解です。",level:"beginner",category:"comparison"},{id:51,sentence:"He is the ___ student in the class.",blanks:[{id:"blank1",position:4,correctAnswer:"tallest"}],options:["tallest","taller","tall","as tall"],explanation:"最上級「tallest」が正解です。",level:"beginner",category:"comparison"},{id:52,sentence:"This is ___ expensive ___ that.",blanks:[{id:"blank1",position:2,correctAnswer:"as"},{id:"blank2",position:4,correctAnswer:"as"}],options:["as","as","so","more","most","than","very","as","as"],explanation:"同等比較「as ... as」の構文が正解です。",level:"intermediate",category:"comparison"},{id:53,sentence:"She runs ___ than her brother.",blanks:[{id:"blank1",position:2,correctAnswer:"faster"}],options:["faster","fast","fastest","as fast"],explanation:"比較級「faster」が正解です。",level:"beginner",category:"comparison"},{id:54,sentence:"This is the ___ beautiful place I've ever seen.",blanks:[{id:"blank1",position:4,correctAnswer:"most"}],options:["most","more","very","as"],explanation:"最上級「most」が正解です。",level:"intermediate",category:"comparison"},{id:55,sentence:"He is ___ than I expected.",blanks:[{id:"blank1",position:2,correctAnswer:"taller"}],options:["taller","tall","tallest","as tall"],explanation:"比較級「taller」が正解です。",level:"beginner",category:"comparison"},{id:56,sentence:"This problem is ___ difficult ___ the previous one.",blanks:[{id:"blank1",position:3,correctAnswer:"as"},{id:"blank2",position:5,correctAnswer:"as"}],options:["as","as","so","more","most","than","very","as","as"],explanation:"同等比較「as ... as」の構文が正解です。",level:"intermediate",category:"comparison"},{id:57,sentence:"___ English is not easy for me.",blanks:[{id:"blank1",position:1,correctAnswer:"Learning"}],options:["Learning","Learn","Learned","To learn"],explanation:"動名詞「Learning」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:58,sentence:"I enjoy ___ books in my free time.",blanks:[{id:"blank1",position:2,correctAnswer:"reading"}],options:["reading","read","to read","reads"],explanation:"動名詞「reading」が正解です。",level:"beginner",category:"participles-gerunds"},{id:59,sentence:"The ___ child was crying loudly.",blanks:[{id:"blank1",position:2,correctAnswer:"crying"}],options:["crying","cry","cried","cries"],explanation:"現在分詞「crying」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:60,sentence:"I saw a ___ bird in the tree.",blanks:[{id:"blank1",position:3,correctAnswer:"singing"}],options:["singing","sing","sang","sings"],explanation:"現在分詞「singing」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:61,sentence:"___ tired, I went to bed early.",blanks:[{id:"blank1",position:1,correctAnswer:"Feeling"}],options:["Feeling","Feel","Felt","To feel"],explanation:"現在分詞「Feeling」が正解です。",level:"advanced",category:"participles-gerunds"},{id:62,sentence:"The ___ book is on the table.",blanks:[{id:"blank1",position:2,correctAnswer:"opened"}],options:["opened","opening","open","opens"],explanation:"過去分詞「opened」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:63,sentence:"I'm looking forward to ___ you again.",blanks:[{id:"blank1",position:4,correctAnswer:"seeing"}],options:["seeing","see","saw","sees"],explanation:"動名詞「seeing」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:64,sentence:"The ___ door was difficult to open.",blanks:[{id:"blank1",position:2,correctAnswer:"broken"}],options:["broken","breaking","break","breaks"],explanation:"過去分詞「broken」が正解です。",level:"intermediate",category:"participles-gerunds"},{id:65,sentence:"I want ___ a doctor when I grow up.",blanks:[{id:"blank1",position:2,correctAnswer:"to become"}],options:["to become","become","becoming","became"],explanation:"不定詞「to become」が正解です。",level:"beginner",category:"infinitives"},{id:66,sentence:"It's important ___ English every day.",blanks:[{id:"blank1",position:3,correctAnswer:"to practice"}],options:["to practice","practice","practicing","practiced"],explanation:"不定詞「to practice」が正解です。",level:"intermediate",category:"infinitives"},{id:67,sentence:"I need ___ some money from the bank.",blanks:[{id:"blank1",position:2,correctAnswer:"to withdraw"}],options:["to withdraw","withdraw","withdrawing","withdrew"],explanation:"不定詞「to withdraw」が正解です。",level:"intermediate",category:"infinitives"},{id:68,sentence:"She decided ___ her job.",blanks:[{id:"blank1",position:2,correctAnswer:"to quit"}],options:["to quit","quit","quitting","quits"],explanation:"不定詞「to quit」が正解です。",level:"intermediate",category:"infinitives"},{id:69,sentence:"It's difficult ___ this problem.",blanks:[{id:"blank1",position:3,correctAnswer:"to solve"}],options:["to solve","solve","solving","solved"],explanation:"不定詞「to solve」が正解です。",level:"intermediate",category:"infinitives"},{id:70,sentence:"I hope ___ you soon.",blanks:[{id:"blank1",position:2,correctAnswer:"to see"}],options:["to see","see","seeing","saw"],explanation:"不定詞「to see」が正解です。",level:"beginner",category:"infinitives"},{id:71,sentence:"She asked me ___ her with the homework.",blanks:[{id:"blank1",position:3,correctAnswer:"to help"}],options:["to help","help","helping","helped"],explanation:"不定詞「to help」が正解です。",level:"intermediate",category:"infinitives"},{id:72,sentence:"It's nice ___ you again.",blanks:[{id:"blank1",position:3,correctAnswer:"to meet"}],options:["to meet","meet","meeting","met"],explanation:"不定詞「to meet」が正解です。",level:"beginner",category:"infinitives"}];function ba(t,n){let s=Ks;return s=s.filter(o=>o.level===t),n&&(s=s.filter(o=>o.category===n)),s}const Qs=[{id:"basic-sentence-patterns",name:"基本文型",description:"SV, SVC, SVO, SVOO, SVOCの基本文型"},{id:"tenses",name:"時制",description:"現在、過去、未来、完了形の時制"},{id:"auxiliaries",name:"助動詞",description:"can, may, must, should等の助動詞"},{id:"passive-voice",name:"受動態",description:"be動詞 + 過去分詞の受動態"},{id:"relative-clauses",name:"関係詞",description:"who, which, that等の関係詞"},{id:"subjunctive",name:"仮定法",description:"if文、wish等の仮定法"},{id:"comparison",name:"比較",description:"比較級、最上級の比較表現"},{id:"participles-gerunds",name:"分詞・動名詞",description:"-ing形の使い分け"},{id:"infinitives",name:"不定詞",description:"to不定詞の用法"}];function qs({onSelectCategory:t,onBack:n}){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(U,{variant:"outline",onClick:n,className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsx("div",{className:"w-24"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"文法カテゴリー選択"}),e.jsx("p",{className:"text-gray-600",children:"学習したい文法カテゴリーを選択してください"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qs.map(s=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(s.id),children:[e.jsx(ae,{className:"pb-3",children:e.jsxs(re,{className:"text-lg flex items-center",children:[e.jsx(mt,{className:"w-5 h-5 mr-2 text-blue-600"}),s.name]})}),e.jsxs(R,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-blue-600",children:["クリックして開始",e.jsx(Pe,{className:"w-4 h-4 ml-1 rotate-180"})]})]})]},s.id))})]})})}function Ys({categoryName:t,onSelectDifficulty:n,onBack:s}){const o=[{id:"beginner",name:"簡単",description:"基本的な文法問題",icon:Ze,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{id:"intermediate",name:"普通",description:"中級レベルの文法問題",icon:bs,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},{id:"advanced",name:"難しい",description:"上級レベルの文法問題",icon:ys,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(U,{variant:"outline",onClick:s,className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"難易度選択"}),e.jsx("div",{className:"w-24"})]}),e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:t}),e.jsx("p",{className:"text-gray-600",children:"学習したい難易度を選択してください"})]}),e.jsx("div",{className:"space-y-4",children:o.map(r=>{const i=r.icon;return e.jsxs(P,{className:`hover:shadow-lg transition-shadow cursor-pointer ${r.bgColor} ${r.borderColor} border-2`,onClick:()=>n(r.id),children:[e.jsx(ae,{className:"pb-3",children:e.jsxs(re,{className:"text-lg flex items-center",children:[e.jsx(i,{className:`w-5 h-5 mr-2 ${r.color}`}),r.name]})}),e.jsxs(R,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:r.description}),e.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:["クリックして開始",e.jsx(Pe,{className:"w-4 h-4 ml-1 rotate-180"})]})]})]},r.id)})})]})})}const Ge=a.forwardRef(({className:t,...n},s)=>e.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));Ge.displayName="Textarea";var Zs="Label",xt=a.forwardRef((t,n)=>e.jsx(z.label,{...t,ref:n,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));xt.displayName=Zs;var gt=xt;const Js=ht("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ne=a.forwardRef(({className:t,...n},s)=>e.jsx(gt,{ref:s,className:X(Js(),t),...n}));Ne.displayName=gt.displayName;function ot(t,[n,s]){return Math.min(s,Math.max(n,t))}function en(t){const n=a.useRef({value:t,previous:t});return a.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var ft=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tn="VisuallyHidden",sn=a.forwardRef((t,n)=>e.jsx(z.span,{...t,ref:n,style:{...ft,...t.style}}));sn.displayName=tn;var nn=[" ","Enter","ArrowUp","ArrowDown"],an=[" ","Enter"],be="Select",[Me,Ve,rn]=rs(be),[Se]=as(be,[rn,ct]),He=ct(),[on,ge]=Se(be),[ln,cn]=Se(be),vt=t=>{const{__scopeSelect:n,children:s,open:o,defaultOpen:r,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:u,name:x,autoComplete:v,disabled:g,required:w,form:y}=t,p=He(n),[m,b]=a.useState(null),[f,_]=a.useState(null),[te,$]=a.useState(!1),ve=gs(u),[V,G]=tt({prop:o,defaultProp:r??!1,onChange:i,caller:be}),[se,le]=tt({prop:l,defaultProp:c,onChange:d,caller:be}),D=a.useRef(null),K=m?y||!!m.closest("form"):!0,[H,Q]=a.useState(new Set),Z=Array.from(H).map(O=>O.props.value).join(";");return e.jsx(fs,{...p,children:e.jsxs(on,{required:w,scope:n,trigger:m,onTriggerChange:b,valueNode:f,onValueNodeChange:_,valueNodeHasChildren:te,onValueNodeHasChildrenChange:$,contentId:Ye(),value:se,onValueChange:le,open:V,onOpenChange:G,dir:ve,triggerPointerDownPosRef:D,disabled:g,children:[e.jsx(Me.Provider,{scope:n,children:e.jsx(ln,{scope:t.__scopeSelect,onNativeOptionAdd:a.useCallback(O=>{Q(q=>new Set(q).add(O))},[]),onNativeOptionRemove:a.useCallback(O=>{Q(q=>{const Y=new Set(q);return Y.delete(O),Y})},[]),children:s})}),K?e.jsxs(Ft,{"aria-hidden":!0,required:w,tabIndex:-1,name:x,autoComplete:v,value:se,onChange:O=>le(O.target.value),disabled:g,form:y,children:[se===void 0?e.jsx("option",{value:""}):null,Array.from(H)]},Z):null]})})};vt.displayName=be;var wt="SelectTrigger",bt=a.forwardRef((t,n)=>{const{__scopeSelect:s,disabled:o=!1,...r}=t,i=He(s),l=ge(wt,s),c=l.disabled||o,d=ie(n,l.onTriggerChange),u=Ve(s),x=a.useRef("touch"),[v,g,w]=$t(p=>{const m=u().filter(_=>!_.disabled),b=m.find(_=>_.value===l.value),f=Gt(m,p,b);f!==void 0&&l.onValueChange(f.value)}),y=p=>{c||(l.onOpenChange(!0),w()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(os,{asChild:!0,...i,children:e.jsx(z.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ut(l.value)?"":void 0,...r,ref:d,onClick:M(r.onClick,p=>{p.currentTarget.focus(),x.current!=="mouse"&&y(p)}),onPointerDown:M(r.onPointerDown,p=>{x.current=p.pointerType;const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:M(r.onKeyDown,p=>{const m=v.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(m&&p.key===" ")&&nn.includes(p.key)&&(y(),p.preventDefault())})})})});bt.displayName=wt;var yt="SelectValue",jt=a.forwardRef((t,n)=>{const{__scopeSelect:s,className:o,style:r,children:i,placeholder:l="",...c}=t,d=ge(yt,s),{onValueNodeHasChildrenChange:u}=d,x=i!==void 0,v=ie(n,d.onValueNodeChange);return xe(()=>{u(x)},[u,x]),e.jsx(z.span,{...c,ref:v,style:{pointerEvents:"none"},children:Ut(d.value)?e.jsx(e.Fragment,{children:l}):i})});jt.displayName=yt;var dn="SelectIcon",_t=a.forwardRef((t,n)=>{const{__scopeSelect:s,children:o,...r}=t;return e.jsx(z.span,{"aria-hidden":!0,...r,ref:n,children:o||"▼"})});_t.displayName=dn;var mn="SelectPortal",Nt=t=>e.jsx(is,{asChild:!0,...t});Nt.displayName=mn;var ye="SelectContent",St=a.forwardRef((t,n)=>{const s=ge(ye,t.__scopeSelect),[o,r]=a.useState();if(xe(()=>{r(new DocumentFragment)},[]),!s.open){const i=o;return i?dt.createPortal(e.jsx(kt,{scope:t.__scopeSelect,children:e.jsx(Me.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Ct,{...t,ref:n})});St.displayName=ye;var ee=10,[kt,fe]=Se(ye),un="SelectContentImpl",pn=us("SelectContent.RemoveScroll"),Ct=a.forwardRef((t,n)=>{const{__scopeSelect:s,position:o="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:u,alignOffset:x,arrowPadding:v,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:p,avoidCollisions:m,...b}=t,f=ge(ye,s),[_,te]=a.useState(null),[$,ve]=a.useState(null),V=ie(n,h=>te(h)),[G,se]=a.useState(null),[le,D]=a.useState(null),K=Ve(s),[H,Q]=a.useState(!1),Z=a.useRef(!1);a.useEffect(()=>{if(_)return cs(_)},[_]),ds();const O=a.useCallback(h=>{const[I,...B]=K().map(A=>A.ref.current),[N]=B.slice(-1),S=document.activeElement;for(const A of h)if(A===S||(A?.scrollIntoView({block:"nearest"}),A===I&&$&&($.scrollTop=0),A===N&&$&&($.scrollTop=$.scrollHeight),A?.focus(),document.activeElement!==S))return},[K,$]),q=a.useCallback(()=>O([G,_]),[O,G,_]);a.useEffect(()=>{H&&q()},[H,q]);const{onOpenChange:Y,triggerPointerDownPosRef:J}=f;a.useEffect(()=>{if(_){let h={x:0,y:0};const I=N=>{h={x:Math.abs(Math.round(N.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(N.pageY)-(J.current?.y??0))}},B=N=>{h.x<=10&&h.y<=10?N.preventDefault():_.contains(N.target)||Y(!1),document.removeEventListener("pointermove",I),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",B,{capture:!0})}}},[_,Y,J]),a.useEffect(()=>{const h=()=>Y(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[Y]);const[je,ce]=$t(h=>{const I=K().filter(S=>!S.disabled),B=I.find(S=>S.ref.current===document.activeElement),N=Gt(I,h,B);N&&setTimeout(()=>N.ref.current.focus())}),ke=a.useCallback((h,I,B)=>{const N=!Z.current&&!B;(f.value!==void 0&&f.value===I||N)&&(se(h),N&&(Z.current=!0))},[f.value]),Ce=a.useCallback(()=>_?.focus(),[_]),ue=a.useCallback((h,I,B)=>{const N=!Z.current&&!B;(f.value!==void 0&&f.value===I||N)&&D(h)},[f.value]),_e=o==="popper"?We:It,we=_e===We?{side:c,sideOffset:d,align:u,alignOffset:x,arrowPadding:v,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:p,avoidCollisions:m}:{};return e.jsx(kt,{scope:s,content:_,viewport:$,onViewportChange:ve,itemRefCallback:ke,selectedItem:G,onItemLeave:Ce,itemTextRefCallback:ue,focusSelectedItem:q,selectedItemText:le,position:o,isPositioned:H,searchRef:je,children:e.jsx(ms,{as:pn,allowPinchZoom:!0,children:e.jsx(ps,{asChild:!0,trapped:f.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:M(r,h=>{f.trigger?.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(hs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(_e,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:h=>h.preventDefault(),...b,...we,onPlaced:()=>Q(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:M(b.onKeyDown,h=>{const I=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!I&&h.key.length===1&&ce(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let N=K().filter(S=>!S.disabled).map(S=>S.ref.current);if(["ArrowUp","End"].includes(h.key)&&(N=N.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const S=h.target,A=N.indexOf(S);N=N.slice(A+1)}setTimeout(()=>O(N)),h.preventDefault()}})})})})})})});Ct.displayName=un;var hn="SelectItemAlignedPosition",It=a.forwardRef((t,n)=>{const{__scopeSelect:s,onPlaced:o,...r}=t,i=ge(ye,s),l=fe(ye,s),[c,d]=a.useState(null),[u,x]=a.useState(null),v=ie(n,V=>x(V)),g=Ve(s),w=a.useRef(!1),y=a.useRef(!0),{viewport:p,selectedItem:m,selectedItemText:b,focusSelectedItem:f}=l,_=a.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&p&&m&&b){const V=i.trigger.getBoundingClientRect(),G=u.getBoundingClientRect(),se=i.valueNode.getBoundingClientRect(),le=b.getBoundingClientRect();if(i.dir!=="rtl"){const S=le.left-G.left,A=se.left-S,de=V.left-A,j=V.width+de,L=Math.max(j,G.width),T=window.innerWidth-ee,me=ot(A,[ee,Math.max(ee,T-L)]);c.style.minWidth=j+"px",c.style.left=me+"px"}else{const S=G.right-le.right,A=window.innerWidth-se.right-S,de=window.innerWidth-V.right-A,j=V.width+de,L=Math.max(j,G.width),T=window.innerWidth-ee,me=ot(A,[ee,Math.max(ee,T-L)]);c.style.minWidth=j+"px",c.style.right=me+"px"}const D=g(),K=window.innerHeight-ee*2,H=p.scrollHeight,Q=window.getComputedStyle(u),Z=parseInt(Q.borderTopWidth,10),O=parseInt(Q.paddingTop,10),q=parseInt(Q.borderBottomWidth,10),Y=parseInt(Q.paddingBottom,10),J=Z+O+H+Y+q,je=Math.min(m.offsetHeight*5,J),ce=window.getComputedStyle(p),ke=parseInt(ce.paddingTop,10),Ce=parseInt(ce.paddingBottom,10),ue=V.top+V.height/2-ee,_e=K-ue,we=m.offsetHeight/2,h=m.offsetTop+we,I=Z+O+h,B=J-I;if(I<=ue){const S=D.length>0&&m===D[D.length-1].ref.current;c.style.bottom="0px";const A=u.clientHeight-p.offsetTop-p.offsetHeight,de=Math.max(_e,we+(S?Ce:0)+A+q),j=I+de;c.style.height=j+"px"}else{const S=D.length>0&&m===D[0].ref.current;c.style.top="0px";const de=Math.max(ue,Z+p.offsetTop+(S?ke:0)+we)+B;c.style.height=de+"px",p.scrollTop=I-ue+p.offsetTop}c.style.margin=`${ee}px 0`,c.style.minHeight=je+"px",c.style.maxHeight=K+"px",o?.(),requestAnimationFrame(()=>w.current=!0)}},[g,i.trigger,i.valueNode,c,u,p,m,b,i.dir,o]);xe(()=>_(),[_]);const[te,$]=a.useState();xe(()=>{u&&$(window.getComputedStyle(u).zIndex)},[u]);const ve=a.useCallback(V=>{V&&y.current===!0&&(_(),f?.(),y.current=!1)},[_,f]);return e.jsx(gn,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:ve,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:te},children:e.jsx(z.div,{...r,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});It.displayName=hn;var xn="SelectPopperPosition",We=a.forwardRef((t,n)=>{const{__scopeSelect:s,align:o="start",collisionPadding:r=ee,...i}=t,l=He(s);return e.jsx(xs,{...l,...i,ref:n,align:o,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});We.displayName=xn;var[gn,et]=Se(ye,{}),Xe="SelectViewport",Tt=a.forwardRef((t,n)=>{const{__scopeSelect:s,nonce:o,...r}=t,i=fe(Xe,s),l=et(Xe,s),c=ie(n,i.onViewportChange),d=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Me.Slot,{scope:s,children:e.jsx(z.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:M(r.onScroll,u=>{const x=u.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:g}=l;if(g?.current&&v){const w=Math.abs(d.current-x.scrollTop);if(w>0){const y=window.innerHeight-ee*2,p=parseFloat(v.style.minHeight),m=parseFloat(v.style.height),b=Math.max(p,m);if(b<y){const f=b+w,_=Math.min(y,f),te=f-_;v.style.height=_+"px",v.style.bottom==="0px"&&(x.scrollTop=te>0?te:0,v.style.justifyContent="flex-end")}}}d.current=x.scrollTop})})})]})});Tt.displayName=Xe;var At="SelectGroup",[fn,vn]=Se(At),wn=a.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t,r=Ye();return e.jsx(fn,{scope:s,id:r,children:e.jsx(z.div,{role:"group","aria-labelledby":r,...o,ref:n})})});wn.displayName=At;var Pt="SelectLabel",Rt=a.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t,r=vn(Pt,s);return e.jsx(z.div,{id:r.id,...o,ref:n})});Rt.displayName=Pt;var Oe="SelectItem",[bn,Et]=Se(Oe),Lt=a.forwardRef((t,n)=>{const{__scopeSelect:s,value:o,disabled:r=!1,textValue:i,...l}=t,c=ge(Oe,s),d=fe(Oe,s),u=c.value===o,[x,v]=a.useState(i??""),[g,w]=a.useState(!1),y=ie(n,f=>d.itemRefCallback?.(f,o,r)),p=Ye(),m=a.useRef("touch"),b=()=>{r||(c.onValueChange(o),c.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(bn,{scope:s,value:o,disabled:r,textId:p,isSelected:u,onItemTextChange:a.useCallback(f=>{v(_=>_||(f?.textContent??"").trim())},[]),children:e.jsx(Me.ItemSlot,{scope:s,value:o,disabled:r,textValue:x,children:e.jsx(z.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...l,ref:y,onFocus:M(l.onFocus,()=>w(!0)),onBlur:M(l.onBlur,()=>w(!1)),onClick:M(l.onClick,()=>{m.current!=="mouse"&&b()}),onPointerUp:M(l.onPointerUp,()=>{m.current==="mouse"&&b()}),onPointerDown:M(l.onPointerDown,f=>{m.current=f.pointerType}),onPointerMove:M(l.onPointerMove,f=>{m.current=f.pointerType,r?d.onItemLeave?.():m.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:M(l.onPointerLeave,f=>{f.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:M(l.onKeyDown,f=>{d.searchRef?.current!==""&&f.key===" "||(an.includes(f.key)&&b(),f.key===" "&&f.preventDefault())})})})})});Lt.displayName=Oe;var Ae="SelectItemText",Dt=a.forwardRef((t,n)=>{const{__scopeSelect:s,className:o,style:r,...i}=t,l=ge(Ae,s),c=fe(Ae,s),d=Et(Ae,s),u=cn(Ae,s),[x,v]=a.useState(null),g=ie(n,b=>v(b),d.onItemTextChange,b=>c.itemTextRefCallback?.(b,d.value,d.disabled)),w=x?.textContent,y=a.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:p,onNativeOptionRemove:m}=u;return xe(()=>(p(y),()=>m(y)),[p,m,y]),e.jsxs(e.Fragment,{children:[e.jsx(z.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?dt.createPortal(i.children,l.valueNode):null]})});Dt.displayName=Ae;var Ot="SelectItemIndicator",Mt=a.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t;return Et(Ot,s).isSelected?e.jsx(z.span,{"aria-hidden":!0,...o,ref:n}):null});Mt.displayName=Ot;var Ke="SelectScrollUpButton",Vt=a.forwardRef((t,n)=>{const s=fe(Ke,t.__scopeSelect),o=et(Ke,t.__scopeSelect),[r,i]=a.useState(!1),l=ie(n,o.onScrollButtonChange);return xe(()=>{if(s.viewport&&s.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),r?e.jsx(zt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Vt.displayName=Ke;var Qe="SelectScrollDownButton",Ht=a.forwardRef((t,n)=>{const s=fe(Qe,t.__scopeSelect),o=et(Qe,t.__scopeSelect),[r,i]=a.useState(!1),l=ie(n,o.onScrollButtonChange);return xe(()=>{if(s.viewport&&s.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,x=Math.ceil(d.scrollTop)<u;i(x)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),r?e.jsx(zt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Ht.displayName=Qe;var zt=a.forwardRef((t,n)=>{const{__scopeSelect:s,onAutoScroll:o,...r}=t,i=fe("SelectScrollButton",s),l=a.useRef(null),c=Ve(s),d=a.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return a.useEffect(()=>()=>d(),[d]),xe(()=>{c().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(z.div,{"aria-hidden":!0,...r,ref:n,style:{flexShrink:0,...r.style},onPointerDown:M(r.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:M(r.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:M(r.onPointerLeave,()=>{d()})})}),yn="SelectSeparator",Bt=a.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t;return e.jsx(z.div,{"aria-hidden":!0,...o,ref:n})});Bt.displayName=yn;var qe="SelectArrow",jn=a.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t,r=He(s),i=ge(qe,s),l=fe(qe,s);return i.open&&l.position==="popper"?e.jsx(vs,{...r,...o,ref:n}):null});jn.displayName=qe;var _n="SelectBubbleInput",Ft=a.forwardRef(({__scopeSelect:t,value:n,...s},o)=>{const r=a.useRef(null),i=ie(o,r),l=en(n);return a.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&x){const v=new Event("change",{bubbles:!0});x.call(c,n),c.dispatchEvent(v)}},[l,n]),e.jsx(z.select,{...s,style:{...ft,...s.style},ref:i,defaultValue:n})});Ft.displayName=_n;function Ut(t){return t===""||t===void 0}function $t(t){const n=ls(t),s=a.useRef(""),o=a.useRef(0),r=a.useCallback(l=>{const c=s.current+l;n(c),(function d(u){s.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>d(""),1e3))})(c)},[n]),i=a.useCallback(()=>{s.current="",window.clearTimeout(o.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(o.current),[]),[s,r,i]}function Gt(t,n,s){const r=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=s?t.indexOf(s):-1;let l=Nn(t,Math.max(i,0));r.length===1&&(l=l.filter(u=>u!==s));const d=l.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==s?d:void 0}function Nn(t,n){return t.map((s,o)=>t[(n+o)%t.length])}var Sn=vt,Wt=bt,kn=jt,Cn=_t,In=Nt,Xt=St,Tn=Tt,Kt=Rt,Qt=Lt,An=Dt,Pn=Mt,qt=Vt,Yt=Ht,Zt=Bt;const Be=Sn,Fe=kn,Le=a.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(Wt,{ref:o,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[n,e.jsx(Cn,{asChild:!0,children:e.jsx(ut,{className:"h-4 w-4 opacity-50"})})]}));Le.displayName=Wt.displayName;const Jt=a.forwardRef(({className:t,...n},s)=>e.jsx(qt,{ref:s,className:X("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(js,{className:"h-4 w-4"})}));Jt.displayName=qt.displayName;const es=a.forwardRef(({className:t,...n},s)=>e.jsx(Yt,{ref:s,className:X("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(ut,{className:"h-4 w-4"})}));es.displayName=Yt.displayName;const De=a.forwardRef(({className:t,children:n,position:s="popper",...o},r)=>e.jsx(In,{children:e.jsxs(Xt,{ref:r,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...o,children:[e.jsx(Jt,{}),e.jsx(Tn,{className:X("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(es,{})]})}));De.displayName=Xt.displayName;const Rn=a.forwardRef(({className:t,...n},s)=>e.jsx(Kt,{ref:s,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));Rn.displayName=Kt.displayName;const F=a.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(Qt,{ref:o,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Pn,{children:e.jsx(_s,{className:"h-4 w-4"})})}),e.jsx(An,{children:n})]}));F.displayName=Qt.displayName;const En=a.forwardRef(({className:t,...n},s)=>e.jsx(Zt,{ref:s,className:X("-mx-1 my-1 h-px bg-muted",t),...n}));En.displayName=Zt.displayName;const Ln=({onClose:t})=>{const[n,s]=a.useState({userLevel:"",learningMode:"",feedback:"",rating:"",suggestions:""}),o=async r=>{r.preventDefault();const i=new FormData;i.append("form-name","learning-feedback"),Object.entries(n).forEach(([l,c])=>{i.append(l,c)});try{await fetch("/",{method:"POST",body:i}),alert("フィードバックを送信しました！ありがとうございます。"),t()}catch(l){console.error("Error submitting feedback:",l),alert("送信に失敗しました。もう一度お試しください。")}};return e.jsxs(P,{className:"w-full max-w-md",children:[e.jsx(ae,{children:e.jsx(re,{children:"学習フィードバック"})}),e.jsx(R,{children:e.jsxs("form",{name:"learning-feedback",onSubmit:o,children:[e.jsx("input",{type:"hidden",name:"form-name",value:"learning-feedback"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ne,{htmlFor:"userLevel",children:"現在のレベル"}),e.jsxs(Be,{value:n.userLevel,onValueChange:r=>s(i=>({...i,userLevel:r})),children:[e.jsx(Le,{children:e.jsx(Fe,{placeholder:"レベルを選択"})}),e.jsxs(De,{children:[e.jsx(F,{value:"beginner",children:"初級"}),e.jsx(F,{value:"intermediate",children:"中級"}),e.jsx(F,{value:"advanced",children:"上級"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ne,{htmlFor:"learningMode",children:"お気に入りの学習モード"}),e.jsxs(Be,{value:n.learningMode,onValueChange:r=>s(i=>({...i,learningMode:r})),children:[e.jsx(Le,{children:e.jsx(Fe,{placeholder:"学習モードを選択"})}),e.jsxs(De,{children:[e.jsx(F,{value:"vocabulary",children:"語彙学習"}),e.jsx(F,{value:"grammar",children:"文法クイズ"}),e.jsx(F,{value:"combined",children:"総合テスト"}),e.jsx(F,{value:"time-attack",children:"タイムアタック"}),e.jsx(F,{value:"tower-defense",children:"タワーディフェンス"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ne,{htmlFor:"rating",children:"満足度"}),e.jsxs(Be,{value:n.rating,onValueChange:r=>s(i=>({...i,rating:r})),children:[e.jsx(Le,{children:e.jsx(Fe,{placeholder:"満足度を選択"})}),e.jsxs(De,{children:[e.jsx(F,{value:"5",children:"とても満足"}),e.jsx(F,{value:"4",children:"満足"}),e.jsx(F,{value:"3",children:"普通"}),e.jsx(F,{value:"2",children:"不満"}),e.jsx(F,{value:"1",children:"とても不満"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ne,{htmlFor:"feedback",children:"学習体験のフィードバック"}),e.jsx(Ge,{id:"feedback",placeholder:"学習体験について教えてください...",value:n.feedback,onChange:r=>s(i=>({...i,feedback:r.target.value})),rows:4})]}),e.jsxs("div",{children:[e.jsx(Ne,{htmlFor:"suggestions",children:"改善提案"}),e.jsx(Ge,{id:"suggestions",placeholder:"改善してほしい点や追加してほしい機能があれば教えてください...",value:n.suggestions,onChange:r=>s(i=>({...i,suggestions:r.target.value})),rows:3})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(U,{type:"submit",className:"flex-1",children:"送信"}),e.jsx(U,{type:"button",variant:"outline",onClick:t,children:"キャンセル"})]})]})]})})]})},Dn=({showDetailed:t=!0,showChapterProgress:n=!0,compact:s=!1})=>{const[o,r]=a.useState(()=>k().getLevel()),[i,l]=a.useState(()=>k().getChapterProgress());a.useEffect(()=>{const u=k(),x=u.getLevel(),v=u.getChapterProgress();r(x),l(v)},[]);const c=u=>({1:"bg-green-500",2:"bg-blue-500",3:"bg-purple-500",4:"bg-orange-500",5:"bg-red-500"})[u],d=u=>({1:"from-green-400 to-green-600",2:"from-blue-400 to-blue-600",3:"from-purple-400 to-purple-600",4:"from-orange-400 to-orange-600",5:"from-red-400 to-red-600"})[u];return s?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-full ${c(o.chapter)} text-foreground flex items-center justify-center text-sm font-bold`,children:o.chapter}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Level ",o.level]}),e.jsx("div",{className:"text-xs text-gray-500",children:he[o.chapter].name})]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Level ",o.level]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",o.xp-(o.level-1)*50,"/50 XP)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${d(o.chapter)}`,style:{width:`${(o.xp-(o.level-1)*50)/50*100}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["次レベルまで: ",50-(o.xp-(o.level-1)*50),"XP"]})]})})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"レベル情報"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${c(o.chapter)} text-foreground flex items-center justify-center text-lg font-bold`,children:o.chapter}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"章"}),e.jsx("div",{className:"text-xs text-gray-400",children:he[o.chapter].name})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-lg font-medium text-gray-700",children:["Level ",o.level]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[o.xp," XP"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${d(o.chapter)} transition-all duration-500`,style:{width:`${o.progress}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsxs("span",{children:["進捗: ",o.progress.toFixed(1),"%"]}),e.jsxs("span",{children:["次のレベルまで: ",o.xpToNext," XP"]})]})]}),n&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[he[o.chapter].name,"の進捗"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[i.progress.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${d(o.chapter)} transition-all duration-500`,style:{width:`${i.progress}%`}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:he[o.chapter].description})]}),t&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"章"}),e.jsx("div",{className:"font-medium",children:he[o.chapter].name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"レベル範囲"}),e.jsx("div",{className:"font-medium",children:he[o.chapter].levelRange})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"必要XP/レベル"}),e.jsxs("div",{className:"font-medium",children:[he[o.chapter].xpPerLevel," XP"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"最大ハート数"}),e.jsxs("div",{className:"font-medium",children:[he[o.chapter].maxHearts,"個"]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{const u=k(),x=u.addXP(100);r(u.getLevel()),W(),x.leveledUp&&alert(`レベルアップ！ Level ${x.newLevel?.level} に上がりました！`)},className:"px-3 py-1 rounded-md text-xs font-medium bg-blue-500 text-foreground hover:bg-blue-600 transition-colors",title:"テスト用: 100XP追加",children:"+100XP"}),e.jsx("button",{onClick:()=>{const u=k(),x=u.addXP(500);r(u.getLevel()),W(),x.leveledUp&&alert(`レベルアップ！ Level ${x.newLevel?.level} に上がりました！`)},className:"px-3 py-1 rounded-md text-xs font-medium bg-purple-500 text-foreground hover:bg-purple-600 transition-colors",title:"テスト用: 500XP追加",children:"+500XP"}),e.jsx("button",{onClick:()=>{const u=k();u.addXP(1e3),r(u.getLevel()),W(),alert("1000XP追加しました！")},className:"px-3 py-1 rounded-md text-xs font-medium bg-orange-500 text-foreground hover:bg-orange-600 transition-colors",title:"テスト用: 1000XP追加",children:"+1000XP"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※ テスト用ボタンです"})]})]})]})]})},On=ht("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Mn({className:t,variant:n,...s}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:Je(On({variant:n}),t),...s})}function Vn({className:t,...n}){return e.jsx("div",{"data-slot":"alert-description",className:Je("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...n})}var Hn="Separator",it="horizontal",zn=["horizontal","vertical"],ts=a.forwardRef((t,n)=>{const{decorative:s,orientation:o=it,...r}=t,i=Bn(o)?o:it,c=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(z.div,{"data-orientation":i,...c,...r,ref:n})});ts.displayName=Hn;function Bn(t){return zn.includes(t)}var Fn=ts;function lt({className:t,orientation:n="horizontal",decorative:s=!0,...o}){return e.jsx(Fn,{"data-slot":"separator-root",decorative:s,orientation:n,className:Je("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...o})}const Un=({onAllocationChange:t,readOnly:n=!1})=>{const[s,o]=a.useState(()=>{try{return k().getStatusAllocation()}catch(m){return console.error("Failed to get status allocation:",m),{listening:5,reading:5,writing:5,grammar:5,idioms:5,vocabulary:5}}}),[r,i]=a.useState(!0),[l,c]=a.useState("");a.useEffect(()=>{const m=Ns(s);i(m),t?.(s)},[s]);const d=(m,b)=>{const f={...s,[m]:Math.max(0,Math.min(30,b))};o(f)},u=m=>{const b=ze[m];o({...b}),c(m)},x=()=>{o({...ze.balanced}),c("balanced")},v=()=>Object.values(s).reduce((m,b)=>m+b,0),g=()=>30-v(),w=m=>s[m]/30*100,y=["listening","reading","writing","grammar","idioms","vocabulary"],p={balanced:"バランス型",vocabulary:"語彙重視型",practical:"実践重視型",grammar:"文法強化型"};return n?e.jsxs(P,{className:"shadow-md",children:[e.jsx(ae,{children:e.jsxs(re,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5"}),"現在のステータス配分"]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:y.map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:Te[m].icon}),e.jsx("span",{className:"text-sm font-medium",children:Te[m].name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nt,{value:w(m),className:"w-24 h-2"}),e.jsxs(oe,{variant:"outline",className:"text-xs font-mono w-12 justify-center",children:[s[m],"pt"]})]})]},m))}),e.jsx(lt,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"合計ポイント"}),e.jsxs(oe,{variant:"secondary",className:"font-mono",children:[v(),"/30pt"]})]})]})]}):e.jsxs(P,{className:"shadow-md",children:[e.jsx(ae,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(re,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5"}),"ステータス配分"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"残りポイント"}),e.jsx(oe,{variant:g()<0?"destructive":"secondary",className:"font-mono",children:g()})]})]})}),e.jsxs(R,{className:"space-y-6",children:[!r&&e.jsxs(Mn,{variant:"destructive",children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsx(Vn,{children:"合計が30ポイントになるように調整してください。"})]}),e.jsx("div",{className:"space-y-4",children:y.map(m=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:Te[m].icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:Te[m].name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Te[m].description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ks,{type:"number",min:"0",max:"30",value:s[m],onChange:b=>d(m,parseInt(b.target.value)||0),className:"w-16 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"pt"})]})]}),e.jsx(nt,{value:w(m),className:"h-2"})]},m))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"合計ポイント"}),e.jsxs(oe,{variant:v()===30?"default":"destructive",className:"font-mono",children:[v(),"/30pt"]})]}),e.jsx(lt,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"テンプレート"}),e.jsxs(U,{onClick:x,variant:"ghost",size:"sm",className:"text-xs h-auto p-1",children:[e.jsx(Cs,{className:"w-3 h-3 mr-1"}),"リセット"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(ze).map(([m,b])=>e.jsx(U,{onClick:()=>u(m),variant:l===m?"default":"outline",size:"sm",className:"text-xs",children:p[m]},m))})]}),e.jsx(U,{onClick:()=>{k().updateStatusAllocation(s),W()},disabled:!r,className:"w-full",size:"lg",children:"配分を保存"})]})]})]})},ss=({content:t,onComplete:n,onBack:s,onNavigateToPractice:o})=>{const[r,i]=a.useState(0),[l,c]=a.useState(!1),d=()=>{c(!0)},u=()=>{const v=r>0?r:3;n(t.id,v),o&&o(t.category)},x=(v,g)=>e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(w=>e.jsx("button",{onClick:()=>g(w),className:`text-2xl ${w<=v?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:"★"},w))});return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(P,{className:"shadow-lg",children:[e.jsxs(ae,{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✨"}),e.jsx(re,{className:"text-2xl text-gray-900 mb-2",children:"学習完了！"}),e.jsx("h3",{className:"text-lg text-gray-700",children:t.title})]}),e.jsxs(R,{className:"space-y-6",children:[e.jsx(P,{className:"bg-blue-50 border-blue-200",children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsxs("span",{children:["推定時間: ",Math.ceil(t.duration/60),"分"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{variant:"outline",children:t.category}),e.jsxs(oe,{variant:"outline",children:["Level ",t.level]})]})]})})}),e.jsxs(P,{children:[e.jsx(ae,{children:e.jsxs(re,{className:"text-lg flex items-center gap-2",children:[e.jsx(st,{className:"w-5 h-5 text-yellow-600"}),"理解度を評価してください（任意）"]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x(r,i),e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[r===0&&"評価なしでも問題演習に進めます",r===5&&"完全に理解できました！",r===4&&"ほぼ理解できました",r===3&&"何となく理解できました",r===2&&"少し理解できました",r===1&&"あまり理解できませんでした"]})]})})]}),e.jsx(P,{className:"bg-green-50 border-green-200",children:e.jsxs(R,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(pt,{className:"w-5 h-5 text-green-600"}),e.jsx("h5",{className:"font-semibold text-green-800",children:"関連問題で実践してみませんか？"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"今学んだ内容を問題演習で定着させましょう。"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(U,{onClick:u,className:"flex-1",size:"lg",children:"♥ 問題演習へ"}),e.jsx(U,{onClick:s,variant:"outline",className:"flex-1",size:"lg",children:"他の学習"})]})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(P,{className:"shadow-lg",children:[e.jsx(ae,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(U,{variant:"outline",size:"sm",onClick:s,children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"戻る"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-6 h-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx(re,{className:"text-xl",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(oe,{variant:"outline",className:"text-xs",children:["Level ",t.level]}),e.jsx(oe,{variant:"outline",className:"text-xs",children:t.category}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[e.jsx($e,{className:"w-3 h-3"}),Math.ceil(t.duration/60),"分"]})]})]})]})]})})}),e.jsxs(R,{className:"space-y-6",children:[e.jsx(P,{className:"bg-gray-50",children:e.jsx(R,{className:"p-4",children:e.jsx("div",{className:"prose prose-blue max-w-none",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content.replace(/\n/g,"<br>")}})})})}),t.examples&&t.examples.length>0&&e.jsxs(P,{className:"bg-yellow-50 border-yellow-200",children:[e.jsx(ae,{className:"pb-3",children:e.jsxs(re,{className:"text-lg flex items-center gap-2",children:[e.jsx(st,{className:"w-5 h-5 text-yellow-600"}),"例文"]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:t.examples.map((v,g)=>e.jsx(P,{className:"bg-white",children:e.jsxs(R,{className:"p-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:v.english}),e.jsx("div",{className:"text-gray-600 text-sm mt-1",children:v.japanese}),v.explanation&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[e.jsx(mt,{className:"w-3 h-3"}),v.explanation]})]})},g))})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(U,{onClick:d,size:"lg",className:"px-8",children:"✓ 学習完了"})})]})]})})})},$n=Object.freeze(Object.defineProperty({__proto__:null,PreStudyContentViewer:ss},Symbol.toStringTag,{value:"Module"}));function ne({id:t,title:n,description:s,detail:o,icon:r,difficulty:i,level:l,color:c="bg-white border-gray-200",isLocked:d=!1,isCompleted:u=!1,isRecommended:x=!1,duration:v,category:g,keyPoints:w,onClick:y}){const p=b=>{switch(b){case"初級":case"beginner":return"bg-green-100 text-green-800 border-green-200";case"初〜中級":case"intermediate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"中級":return"bg-orange-100 text-orange-800 border-orange-200";case"上級":case"advanced":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},m=X("cursor-pointer transition-all duration-200 border-2 hover:shadow-lg active:scale-[0.98]",d&&"cursor-not-allowed opacity-60",u&&"border-green-300 bg-green-50",x&&"ring-2 ring-blue-400 ring-opacity-50",!d&&!u&&c,d&&"bg-gray-50 border-gray-200");return e.jsxs(P,{className:m,onClick:()=>!d&&y(t),children:[e.jsxs(ae,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[r&&e.jsx("span",{className:"text-lg",children:r}),e.jsx(re,{className:"text-lg",children:n}),u&&e.jsx("span",{className:"text-green-600",children:"✓"}),d&&e.jsx("span",{className:"text-gray-400",children:"🔒"})]}),e.jsxs("div",{className:"flex gap-2",children:[i&&e.jsx(oe,{variant:"outline",className:X("text-xs",p(i)),children:i}),l&&e.jsxs(oe,{variant:"outline",className:"text-xs",children:["Level ",l]})]})]}),e.jsx(Es,{className:d?"text-gray-400":"",children:s})]}),e.jsxs(R,{className:"space-y-3",children:[o&&e.jsx("p",{className:X("text-sm",d?"text-gray-400":"text-gray-600"),children:o}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[v&&e.jsxs("span",{className:"flex items-center gap-1",children:["⏱️ ",v]}),g&&e.jsx("span",{className:"capitalize",children:g})]}),w&&w.length>0&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{className:"font-medium mb-1",children:"重要ポイント:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:w.slice(0,2).map((b,f)=>e.jsx("li",{className:"truncate",children:b},f))})]}),x&&e.jsx("div",{className:"flex items-center gap-1 text-sm font-medium text-blue-600",children:"🎯 推奨コンテンツ"})]})]})}function Gn(){const t=Ls(),{userLevel:n,refreshLevel:s}=Fs(),{heartSystem:o,processRecovery:r,refreshHearts:i}=Bs(),l=()=>{i()},[c,d]=a.useState(pe.getUserStats()),[u,x]=a.useState(!1),[v,g]=a.useState(!1),[w,y]=a.useState(!1),[p,m]=a.useState(!1),[b,f]=a.useState(!1),[_,te]=a.useState(""),[$,ve]=a.useState("beginner"),[V,G]=a.useState(!1),[se,le]=a.useState(!1),[D,K]=a.useState(()=>{const j=pe.getUserStats();return j.stars?{current:Ee(j.stars),max:j.stars.max,lastRecoveryTime:j.stars.lastRecoveryTime}:Xs(n.level)}),[H,Q]=a.useState(()=>pe.getUserStats().preStudyProgress||{totalContentsStudied:0,contentsByCategory:{},averageComprehension:0,totalTimeSpent:0,completedContents:[]}),[Z,O]=a.useState(()=>pe.getUserStats().preStudySessions||[]),[q,Y]=a.useState(!1),[J,je]=a.useState(null);a.useEffect(()=>{(()=>{const T=pe.getUserStats();d(T),s(),T.stars&&K({current:Ee(T.stars),max:T.stars.max,lastRecoveryTime:T.stars.lastRecoveryTime}),T.preStudyProgress&&Q(T.preStudyProgress),T.preStudySessions&&O(T.preStudySessions)})();const L=setInterval(()=>{r();const T=pe.getUserStats();if(T.stars){const me=Ee(T.stars);if(me>T.stars.current){const Ie={...T,stars:{...T.stars,current:me,lastRecoveryTime:Date.now()}};pe.saveUserStats(Ie),K(Ie.stars)}}},6e4);return()=>clearInterval(L)},[]);const ce=j=>{switch(j){case"grammar":t("/learning/grammar/category");break;case"vocabulary":t("/learning/vocabulary/difficulty");break;case"writing":t("/learning/grammar/category");break;case"combined":t("/learning/combined-test");break;case"timeattack":t("/learning/time-attack");break}},ke=j=>{te(j),y(!1),m(!0)},Ce=j=>{ve(j),m(!1),f(!0)},ue=()=>{f(!1),m(!1),y(!1)},_e=()=>{m(!1),y(!0)},we=()=>{y(!1)},h=o.current>0,I=()=>{t("/learning/pre-study/menu")},B=(j,L)=>{const T={contentId:j,startTime:Date.now()-18e4,endTime:Date.now(),completed:!0,comprehensionRating:L},me={...H,totalContentsStudied:H.totalContentsStudied+1,completedContents:[...H.completedContents,j],averageComprehension:(H.averageComprehension*H.totalContentsStudied+L)/(H.totalContentsStudied+1),totalTimeSpent:H.totalTimeSpent+3,lastStudiedContentId:j},Ie=[...Z,T];Q(me),O(Ie);const ns={...c,preStudyProgress:me,preStudySessions:Ie};pe.saveUserStats(ns),Y(!1),je(null),setShowPreStudyMenu(!1)},N=()=>{Y(!1),je(null)},S=j=>{switch(j){case"grammar":y(!0);break;case"vocabulary":onNavigateToVocabulary();break;case"listening":onNavigateToVocabulary();break;case"reading":onNavigateToVocabulary();break;case"writing":onNavigateToVocabulary();break;default:y(!0);break}},A=()=>{t("/progress/dashboard")},de=()=>{le(!1)};return a.useEffect(()=>{const j=setInterval(()=>{l()},1e3);return()=>clearInterval(j)},[]),se?e.jsx(GrowthDashboard,{userStats:c,onBack:de}):q&&J?e.jsx(ss,{content:J,onComplete:B,onBack:N,onNavigateToPractice:S}):w?e.jsx(qs,{onSelectCategory:ke,onBack:we}):p?e.jsx(Ys,{categoryName:_,onSelectDifficulty:Ce,onBack:_e}):b?e.jsx(EnhancedGrammarQuiz,{category:_,difficulty:$,onBack:ue}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"ENTP英語学習アプリ"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"あなたの英語学習をサポートします"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>x(!u),className:"flex items-center gap-2",children:[e.jsx(Is,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:u?"統計を隠す":"統計を表示"}),e.jsx("span",{className:"sm:hidden",children:"統計"})]}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>g(!v),className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"ステータス設定"}),e.jsx("span",{className:"sm:hidden",children:"設定"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Dn,{showDetailed:u,showChapterProgress:u})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"体力システム"}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"体力"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:o.max},(j,L)=>e.jsx("span",{className:`text-2xl ${L<o.current?"text-red-500":"text-gray-300"}`,children:L<o.current?"♥":"♡"},L))}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["(",o.current,"/",o.max,")"]})]})}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"スタミナ"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:D.max},(j,L)=>e.jsx("span",{className:`text-2xl ${L<D.current?"text-yellow-500":"text-gray-300"}`,children:L<D.current?"⭐️":"☆"},L))}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["(",D.current,"/",D.max,")"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"1問題につき1体力消費"}),e.jsx("p",{className:"text-xs text-gray-500",children:"5分で1体力回復"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{k().consumeHeart(),l(),W()},className:"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded",disabled:o.current===0,children:"体力を消費"}),e.jsx("button",{onClick:()=>{const L=k().getHeartSystem();L.current=L.max,l(),W()},className:"px-2 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-700 rounded",children:"♥回復"})]})]})]})})]}),v&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsx(Un,{})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(ne,{id:"pre-study",title:"事前学習",description:"理論を理解してから実践へ",icon:"⭐️",difficulty:"理論",detail:"必要スター: 1 ⭐️",color:"bg-purple-50 border-purple-200 text-purple-800",isLocked:!rt(D),onClick:()=>rt(D)&&I()}),e.jsx(ne,{id:"grammar-quiz",title:"文法クイズ",description:"9つのカテゴリーから文法問題に挑戦",icon:"✏️",difficulty:"文法",detail:"必要体力: 1 ♥",color:"bg-blue-50 border-blue-200 text-blue-800",isLocked:!h,onClick:()=>h&&ce("grammar")}),e.jsx(ne,{id:"vocabulary",title:"語彙学習",description:"レベル別・カテゴリー別の単語学習",icon:"📚",difficulty:"語彙",detail:"必要体力: 1 ♥",color:"bg-green-50 border-green-200 text-green-800",isLocked:!h,onClick:()=>h&&ce("vocabulary")}),e.jsx(ne,{id:"combined-test",title:"総合テスト",description:"全分野から出題される総合テスト",icon:"🎯",difficulty:"総合",detail:"必要体力: 1 ♥",color:"bg-purple-50 border-purple-200 text-purple-800",isLocked:!h,onClick:()=>h&&ce("combined")}),e.jsx(ne,{id:"time-attack",title:"タイムアタック",description:"制限時間内で問題を解くスピード重視モード",icon:"⏰",difficulty:"スピード",detail:"必要体力: 1 ♥",color:"bg-orange-50 border-orange-200 text-orange-800",isLocked:!h,onClick:()=>h&&ce("timeattack")}),e.jsx(ne,{id:"essay",title:"英作文",description:"文法・語彙を実践で活用する英作文課題",icon:"✍️",difficulty:"ライティング",detail:"必要体力: 1 ♥",color:"bg-indigo-50 border-indigo-200 text-indigo-800",isLocked:!h,onClick:()=>{h&&(k().consumeHeart()?t("/learning/essay-writing"):alert("体力が不足しています。"))}}),e.jsx(ne,{id:"tower-defense",title:"タワーディフェンス",description:"🚧 機能改善中です（近日公開予定）",icon:"🎮",difficulty:"準備中",detail:"機能改善中",color:"bg-gray-50 border-gray-200 text-gray-500",isLocked:!0,onClick:()=>{}}),e.jsx(ne,{id:"gacha",title:"TOEIC単語ガチャ",description:"新しい単語をゲット！レアカードを集めよう",icon:"🎁",difficulty:"ガチャ",detail:"XP消費",color:"bg-purple-50 border-purple-200 text-purple-800",onClick:()=>t("/games/gacha")}),e.jsx(ne,{id:"achievements",title:"実績",description:"学習の進捗とアチーブメントを確認",icon:"🏆",difficulty:"進捗",detail:"体力不要",color:"bg-yellow-50 border-yellow-200 text-yellow-800",onClick:()=>t("/progress/achievements")}),e.jsx(ne,{id:"growth-dashboard",title:"成長ダッシュボード",description:"あなたの学習成長を可視化",icon:"📈",difficulty:"分析",detail:"体力不要",color:"bg-green-50 border-green-200 text-green-800",onClick:()=>A()})]}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs(U,{variant:"outline",onClick:()=>G(!0),className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsx("span",{children:"学習フィードバック"})]})}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"今日のXP"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.todayXP||0})]}),e.jsx(Ts,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(P,{children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"総学習時間"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Math.floor((c.totalStudyTime||0)/60),"分"]})]}),e.jsx($e,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(P,{children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"正解率"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[c.totalQuestionsAnswered>0?(c.correctAnswers/c.totalQuestionsAnswered*100).toFixed(1):"0.0","%"]})]}),e.jsx(pt,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(P,{children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"連続学習日数"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[c.currentStreak||0,"日"]})]}),e.jsx(As,{className:"w-8 h-8 text-orange-600"})]})})})]}),!h&&e.jsx(P,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ps,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-yellow-800",children:"体力が不足しています"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"体力が回復するまで待つか、他の機能を利用してください。"})]})]})})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(Ln,{onClose:()=>G(!1)})})})]})})}function Wn(){const{pathname:t}=Ds();return a.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),null}function Xn({message:t="読み込み中...",className:n=""}){return e.jsx("div",{className:`min-h-screen p-4 flex items-center justify-center ${n}`,children:e.jsx(P,{className:"w-full max-w-md",children:e.jsxs(R,{className:"p-8 text-center space-y-4",children:[e.jsx(Rs,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:t}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"コンポーネントを読み込んでいます"})]})]})})})}const Kn=a.lazy(()=>E(()=>import("./CategorySelection-Dbd78De1.js"),__vite__mapDeps([0,1,2,3,4,5]))),Qn=a.lazy(()=>E(()=>import("./DifficultySelection-9dB3FDfa.js"),__vite__mapDeps([6,1,2,3,4,5]))),qn=a.lazy(()=>E(()=>import("./Question-DB2RDOHe.js"),__vite__mapDeps([7,1,2,8,3,4,5]))),Yn=a.lazy(()=>E(()=>import("./Results-D63cyRW-.js"),__vite__mapDeps([9,1,2,3,5,4]))),Zn=a.lazy(()=>E(()=>import("./VocabularyCategorySelection-DmoNcx49.js"),__vite__mapDeps([10,1,2,3,4,5]))),Jn=a.lazy(()=>E(()=>import("./VocabularyDifficultySelection-CHOUGZ4W.js"),__vite__mapDeps([11,1,2,3,4,5]))),ea=a.lazy(()=>E(()=>import("./learning-B-E1ZIuS.js").then(t=>t.a8),__vite__mapDeps([4,1,2,3,5]))),ta=a.lazy(()=>E(()=>import("./EnhancedGrammarQuiz-DQaL9XWi.js"),__vite__mapDeps([12,1,2,4,3,5]))),sa=a.lazy(()=>E(()=>import("./learning-B-E1ZIuS.js").then(t=>t.a9),__vite__mapDeps([4,1,2,3,5]))),na=a.lazy(()=>E(()=>import("./TimeAttackMode-BdPXx8g4.js"),__vite__mapDeps([13,1,2,8,4,3,5]))),aa=a.lazy(()=>E(()=>import("./game-Dd6Kb0LE.js").then(t=>t.S),__vite__mapDeps([3,1,2]))),ra=a.lazy(()=>E(()=>import("./GachaSystem-CZGwvJR-.js"),__vite__mapDeps([14,1,2,3,4,5,15]))),oa=a.lazy(()=>E(()=>import("./GachaResultScreen-6VuIy_xQ.js"),__vite__mapDeps([16,1,2,3,15,4,5]))),ia=a.lazy(()=>E(()=>import("./progress-BPWR83xl.js").then(t=>t.A),__vite__mapDeps([5,1,2,3,4]))),la=a.lazy(()=>E(()=>import("./AppSettings-D9L9nBsD.js"),__vite__mapDeps([17,1,2,3,5,4,18]))),ca=a.lazy(()=>E(()=>import("./PreStudyMenu-MDoEdu4p.js"),__vite__mapDeps([19,1,2,3,5,4]))),da=a.lazy(()=>E(()=>Promise.resolve().then(()=>$n),void 0)),ma=a.lazy(()=>E(()=>import("./GrowthDashboard-UonTiEfb.js"),__vite__mapDeps([20,1,2,3,4,5]))),ua=a.lazy(()=>E(()=>import("./CardDetailContent-DMrpCNZu.js"),__vite__mapDeps([21,1,2,4,3,5]))),pa=a.lazy(()=>E(()=>import("./EssayWriting-DtUpLRg8.js"),__vite__mapDeps([22,1,2,3,5,4])));function ha(){return e.jsxs(Os,{children:[e.jsx(Wn,{}),e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx(a.Suspense,{fallback:e.jsx(Xn,{}),children:e.jsxs(Ms,{children:[e.jsx(C,{path:"/",element:e.jsx(Gn,{})}),e.jsx(C,{path:"/learning/vocabulary/difficulty",element:e.jsx(Jn,{})}),e.jsx(C,{path:"/learning/vocabulary/category",element:e.jsx(Zn,{})}),e.jsx(C,{path:"/learning/vocabulary/study/:difficulty/:category",element:e.jsx(ea,{})}),e.jsx(C,{path:"/learning/grammar/category",element:e.jsx(Kn,{})}),e.jsx(C,{path:"/learning/grammar/difficulty/:category",element:e.jsx(Qn,{})}),e.jsx(C,{path:"/learning/grammar/quiz/:category/:difficulty",element:e.jsx(ta,{})}),e.jsx(C,{path:"/learning/grammar/question/:category/:difficulty",element:e.jsx(qn,{})}),e.jsx(C,{path:"/learning/grammar/results/:category/:difficulty",element:e.jsx(Yn,{})}),e.jsx(C,{path:"/learning/pre-study/menu",element:e.jsx(ca,{})}),e.jsx(C,{path:"/learning/pre-study/content/:contentId",element:e.jsx(da,{})}),e.jsx(C,{path:"/learning/combined-test",element:e.jsx(sa,{})}),e.jsx(C,{path:"/learning/time-attack",element:e.jsx(na,{})}),e.jsx(C,{path:"/learning/essay-writing",element:e.jsx(pa,{})}),e.jsx(C,{path:"/games/tower-defense",element:e.jsx(aa,{})}),e.jsx(C,{path:"/games/gacha",element:e.jsx(ra,{})}),e.jsx(C,{path:"/games/gacha/result",element:e.jsx(oa,{})}),e.jsx(C,{path:"/games/gacha/card/:cardId",element:e.jsx(ua,{})}),e.jsx(C,{path:"/progress/achievements",element:e.jsx(ia,{})}),e.jsx(C,{path:"/progress/dashboard",element:e.jsx(ma,{})}),e.jsx(C,{path:"/settings/app",element:e.jsx(la,{})}),e.jsx(C,{path:"*",element:e.jsx(Vs,{to:"/",replace:!0})})]})})})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});zs.createRoot(document.getElementById("root")).render(e.jsx(ha,{}));export{Ne as L,ne as S,Ge as T,lt as a,Be as b,Le as c,Fe as d,De as e,F as f,ba as g,en as u};
